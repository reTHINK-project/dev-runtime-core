<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Decentralized bus API API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">bus</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/bus/Bus.js~Bus.html">Bus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/bus/MessageBus.js~MessageBus.html">MessageBus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/bus/MiniBus.js~MiniBus.html">MiniBus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/bus/Pipeline.js~Pipeline.html">Pipeline</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="hyperty-runtime-core">Hyperty Runtime Core</h1>
<h3 id="build-status">Build status</h3>
<table>
<thead>
<tr>
<th>Master</th>
<th>Develop</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://travis-ci.org/reTHINK-project/dev-runtime-core"><img src="https://travis-ci.org/reTHINK-project/dev-runtime-core.svg?branch=master" alt="Build Status"></a></td>
<td><a href="https://travis-ci.org/reTHINK-project/dev-runtime-core"><img src="https://travis-ci.org/reTHINK-project/dev-runtime-core.svg?branch=develop" alt="Build Status"></a></td>
</tr>
</tbody>
</table>
<hr>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#user-view">User View: How to include the Hyperty Runtime Core in other Projects</a></li>
<li><a href="#developer-view">Developer View</a></li>
<li><a href="#tasks">Tasks</a></li>
</ul>
<h2 id="-a-id-note-note-a-"><a id="note">Note</a></h2>
<p>In order to speed up the installation process, we have removed the first verification of global modules, so, if you want to install this repository, you should globally install  this module:</p>
<pre><code class="lang-shell"><code class="source-code prettyprint">npm install -g karma-cli</code>
</code></pre>
<h2 id="-a-id-overview-overview-a-"><a id="overview">Overview</a></h2>
<p>This repository contains the source code and associated documentation of the core components required to support the deployment and execution of Hyperties in user devices or in network servers. The full specification is provided <a href="">here</a>.</p>
<p>The Hyperty Runtime architecture follows a security by design approach where different types of components are executed in isolated sandboxes. Thus, components downloaded from a specific Service Provider are executed in sandboxes that are different from the sandboxes used to execute components downloaded from another service provider. Communication between components running in different sandboxes is only possible through messages exchanged through a Message Bus functionality provided by the Hyperty Runtime Core Sandbox. On the other hand, and according to the ProtoOFly concept, the protocol stub is executed in isolated sandbox and provides the bridge for the Hperty Runtime to communicate with associated Service Provider.</p>
<p>Hyperty Core Runtime components are platform agnostic and are to be included in platform specific Hyperty Runtimes, like Web Browsers and Nodejs based platforms.</p>
<p>The detailed specification of the Hyperty Runtime Core is provided <a href="https://github.com/reTHINK-project/specs/blob/master/runtime/readme.md">here</a> and the full reTHINK Framework is provided <a href="https://github.com/reTHINK-project/specs">here</a>.</p>
<h2 id="-a-id-user-view-user-view-a-"><a id="user-view">User View</a></h2>
<p><strong>How to include the Hyperty Runtime Core in other Projects</strong></p>
<p>How to include this repository in other runtime platforms, like <a href="https://github.com/reTHINK-project/dev-runtime-browser">dev-runtime-browser</a> or <a href="https://github.com/reTHINK-project/dev-runtime-node">dev-runtime-node</a>;</p>
<p>Install the runtime-core like a npm module;</p>
<pre><code class="lang-shell"><code class="source-code prettyprint">npm install github:rethink-project/dev-runtime-core#master --save</code>
</code></pre>
<h3 id="browser-environment">Browser Environment</h3>
<pre><code class="lang-javascript"><code class="source-code prettyprint">
import {Sandbox, SandboxRegistry, SandboxType} from &apos;runtime-core/dist/sandbox&apos;
import MiniBus from &apos;runtime-core/dist/minibus&apos;;

console.log(&apos;Sandbox: &apos;, Sandbox, SandboxRegistry);
console.log(&apos;MiniBus: &apos;, MiniBus);</code>
</code></pre>
<h3 id="nodejs-environment">Nodejs Environment</h3>
<blockquote>
<p><strong>This code, probably, needs to be updated</strong></p>
</blockquote>
<pre><code class="lang-javascript"><code class="source-code prettyprint">
var Sandbox = require(&apos;runtime-core&apos;).sandbox;
var MiniBus = require(&apos;runtime-core&apos;).minibus;

console.log(&apos;Sandbox: &apos;, Sandbox);
console.log(&apos;MiniBus: &apos;, MiniBus);</code>
</code></pre>
<p>if you find some issues, please submit them into the respective repository;</p>
<hr>
<h2 id="-a-id-developer-view-developer-view-a-"><a id="developer-view">Developer view</a></h2>
<h3 id="setup-environment">Setup Environment</h3>
<p>To install the runtime-core repository in your machine, you can clone the github and run the following command;</p>
<pre><code class="lang-shell"><code class="source-code prettyprint"># install all the dependencies
npm install</code>
</code></pre>
<hr>
<h3 id="issues">Issues</h3>
<p>if you have some trouble with the environment, you can open an issue <a href="https://github.com/reTHINK-project/dev-runtime-core/issues">here</a>;</p>
<h3 id="javascript-environment">Javascript Environment</h3>
<p>JavaScript code should be written in ES6. There are direct dependencies from nodejs and npm, these can be installed separately or in conjunction with <a href="https://github.com/creationix/nvm">nvm</a></p>
<h4 id="dependencies">Dependencies</h4>
<ul>
<li><p>nodejs</p>
</li>
<li><p>npm</p>
</li>
<li><p>karma - Make the communication between unit test tool and jenkins. See more on <a href="http://karma-runner.github.io/0.13/index.html">karma</a></p>
</li>
<li><p>mocha - Unit test tool. See more on <a href="http://mochajs.org/">http://mochajs.org</a></p>
<p>&#x200B;</p>
</li>
</ul>
<h4 id="code-style-and-hinting">Code Style and Hinting</h4>
<p>On the root directory you will find <strong>.eslintrc.yml</strong> based on the <a href="http://eslint.org/docs/user-guide/migrating-from-jscs#converting-presets">google style code</a> without some restrictions, this file are helpers to maintain syntax consistency (this could be changed if we understand), it signals syntax mistakes and makes the code equal for all developers.</p>
<ul>
<li><a href="http://eslint.org/">eslint</a> - Maintain JavaScript Code Style</li>
</ul>
<p>All IDE&apos;s and Text Editors can handle these tools.</p>
<pre><code class="lang-shell"><code class="source-code prettyprint"># to check if the code is aligned with the style code
npm run test:lint</code>
</code></pre>
<h4 id="documentation">Documentation</h4>
<p>To generates api documentation, check <a href="#documentation-task">here</a>;</p>
<h4 id="unit-testing">Unit Testing</h4>
<p>Unit testing can be launched manually with <strong>karma start</strong>.
The tool to do the tests is the <a href="http://chaijs.com/">chaijs</a>, with expect;</p>
<h5 id="karma">Karma</h5>
<p>if you have some problems starting the karma tests, try running this commands for the following order:</p>
<ol>
<li><p><code>npm uninstall karma karma-browserify karma-mocha karma-mocha-reporter karma-chrome-launcher -g</code></p>
</li>
<li><p><code>npm install karma-cli -g</code></p>
</li>
<li><p><code>npm install</code></p>
<p>&#x200B;</p>
</li>
</ol>
<h5 id="note">Note</h5>
<p>This repository is ready to start working on development of runtime-core. The code will go to the <strong>src</strong> folder. The unit tests will be on <strong>test</strong> folder, following the name standard &lt;component&gt;.spec.js</p>
<hr>
<h2 id="-a-id-tasks-gulp-tasks-a-"><a id="tasks">Gulp Tasks</a></h2>
<ul>
<li><a href="#documentation-task">Documentation</a></li>
<li><a href="#license">License</a></li>
<li><a href="#dist">Dist</a></li>
</ul>
<h3 id="-a-id-documentation-task-documentation-a-"><a id="documentation-task">Documentation</a></h3>
<pre><code class="lang-shell"><code class="source-code prettyprint"># Generate all the associated to the runtime core;
npm run build:doc</code>
</code></pre>
<blockquote>
<p>Generate all documentation associated to runtime core;</p>
<ul>
<li><p>if you run <strong>gulp doc</strong> the documentation based on jsdoc3 will be generated on folder docs/jsdoc and you can interact;</p>
<p><code>gulp doc</code>  <strong>deprecated</strong></p>
</li>
<li><p>if you run <strong>gulp api</strong> the documentation is generate based on docs/api/ html files, and converted to markdown;</p>
<p><code>gulp api</code>  <strong>deprecated</strong></p>
</li>
<li><p>if you run <strong>gulp docx</strong> should be generated an .docx file, but <strong>this process should be optimized</strong>, is not working very well;</p>
<p><code>gulp docx</code> <strong>deprecated</strong></p>
</li>
</ul>
</blockquote>
<h3 id="license">License</h3>
<p>The license text will be added to all files after it build</p>
<blockquote>
<p>To add the license text to all files in src folder;</p>
<p><code>gulp license</code> <strong>deprecated</strong></p>
</blockquote>
<h3 id="dist">Dist</h3>
<p>To distribute the runtime-core, you can make a distribution file.</p>
<p>Run the command:</p>
<pre><code class="lang-shell"><code class="source-code prettyprint"># make a build of core components to be used for development; The files could be a little large because include the sourceMaps;
npm run build:dev

# make a build of core components to be used form production;
npm run build:prod</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
