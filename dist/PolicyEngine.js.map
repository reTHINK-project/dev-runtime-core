{"version":3,"sources":["PolicyEngine.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","PolicyEngine","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-own-property-descriptor","5","core-js/library/fn/object/get-prototype-of","6","core-js/library/fn/object/keys","7","core-js/library/fn/object/set-prototype-of","8","core-js/library/fn/symbol","9","instance","Constructor","TypeError","10","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","11","_Object$getOwnPropertyDescriptor","_x","_x2","_x3","_again","object","property","receiver","Function","desc","undefined","value","getter","get","parent","Object","getPrototypeOf","babel-runtime/core-js/object/get-own-property-descriptor","12","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","13","_typeof2","_typeof3","ReferenceError","../helpers/typeof","14","_Symbol","babel-runtime/core-js/symbol","15","core","it","JSON","stringify","apply","arguments","../../modules/$.core","16","$","P","D","create","../../modules/$","17","setDesc","18","getDesc","../../modules/es6.object.get-own-property-descriptor","19","../../modules/es6.object.get-prototype-of","20","keys","../../modules/es6.object.keys","21","setPrototypeOf","../../modules/es6.object.set-prototype-of","22","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","23","24","isObject","./$.is-object","25","toString","slice","26","version","__e","27","aFunction","fn","that","b","c","./$.a-function","28","29","defineProperty","./$.fails","30","getKeys","getSymbols","symbols","isEnum","push","./$","31","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","C","param","./$.core","./$.ctx","./$.global","32","exec","33","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","34","Math","__g","35","hasOwnProperty","36","createDesc","./$.descriptors","./$.property-desc","37","cof","propertyIsEnumerable","split","./$.cof","38","Array","isArray","arg","39","40","$Object","getProto","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","41","el","O","index","42","43","fails","KEY","exp","./$.export","44","bitmap","45","./$.hide","46","anObject","check","proto","set","test","buggy","./$.an-object","47","def","has","TAG","tag","stat","./$.has","./$.wks","48","SHARED","store","49","IObject","defined","./$.defined","./$.iobject","50","51","id","px","random","concat","52","uid","./$.shared","./$.uid","53","$getOwnPropertyDescriptor","./$.object-sap","54","toObject","$getPrototypeOf","./$.to-object","55","$keys","56","./$.set-proto","57","58","DESCRIPTORS","redefine","$fails","shared","setToStringTag","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","_k","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","./$.library","./$.redefine","./$.set-to-string-tag","59","_classCallCheck2","_classCallCheck3","CombiningAlgorithm","babel-runtime/helpers/classCallCheck","60","_createClass2","_createClass3","Operators","params","start","parseInt","end","now","indexOf","babel-runtime/helpers/createClass","61","_Operators","_Operators2","PDP","context","operators","message","policies","evaluateSPPolicy","serviceProviderPolicy","userResult","evaluateUserPolicy","userPolicy","policy","evaluate","title","userPolicies","_context","_operators","./Operators","62","PEP","authDecision","enforceActions","63","_DenyOverrides","_DenyOverrides2","_FirstApplicable","_FirstApplicable2","Policy","rules","actions","combiningAlgorithm","results","_combiningAlgorithm","./combiningAlgorithms/DenyOverrides","./combiningAlgorithms/FirstApplicable","64","_PEP","_PEP2","_PDP","_PDP2","_UserPolicy","_UserPolicy2","policyEngine","loadActivePolicy","loadGroups","loadSPPolicies","loadUserPolicies","pdp","pep","serviceProviderPolicies","savePolicies","activeUserPolicy","saveActivePolicy","rule","scope","condition","_this","authorise","myGroups","groups","groupsNames","groupName","members","saveGroups","userEmail","group","splice","./PDP","./PEP","./policies/UserPolicy","65","_utils","Rule","priority","hypertyName","isDataObjectURL","from","reporter","runtimeRegistry","getReporterURLSynchonous","removePathFromURL","getHypertyName","to","_reporter","owner","_reporter2","getHypertyOwner","getUserEmailFromURL","_reporter3","isApplicable","../utils/utils","66","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_CombiningAlgorithm2","_CombiningAlgorithm3","DenyOverrides","_CombiningAlgorithm","individualResults","../CombiningAlgorithm","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","67","FirstApplicable","68","_Condition","_Condition2","_SubscriptionCondition","_SubscriptionCondition2","AdvancedCondition","operator","left","right","resultLeft","resultRight","../Operators","./Condition","./SubscriptionCondition","69","Condition","attribute","tempParam","dataObjectURL","pop","getPreAuthSubscribers","getGroup","70","_get2","_get3","_Condition3","SubscriptionCondition","isSubscription","isFromRemoteSM","babel-runtime/helpers/get","71","_AdvancedCondition","_AdvancedCondition2","_Policy2","_Policy3","_Rule","_Rule2","UserPolicy","_Policy","getLastPriority","indexToRemove","priorities","max","j","sort","x","y","../Policy","../Rule","../conditions/AdvancedCondition","../conditions/Condition","../conditions/SubscriptionCondition","72","divideURL","url","re","subst","parts","replace","domain","identity","divideEmail","email","indexOfAt","username","substring","emptyObject","_keys2","deepClone","parse","_stringify2","splitURL","getUserURLFromEmail","userURL","convertToUserURL","identifier","dividedURL","schemasToIgnore","urlSchema","_keys","babel-runtime/core-js/json/stringify","babel-runtime/core-js/object/keys"],"mappings":"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","file":"PolicyEngine.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PolicyEngine = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":15}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":16}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":17}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n},{\"core-js/library/fn/object/get-own-property-descriptor\":18}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":19}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":20}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":21}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":22}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],11:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$getOwnPropertyDescriptor = require(\"babel-runtime/core-js/object/get-own-property-descriptor\")[\"default\"];\n\nexports[\"default\"] = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    _again = false;\n    if (object === null) object = Function.prototype;\n\n    var desc = _Object$getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        desc = parent = undefined;\n        continue _function;\n      }\n    } else if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/get-own-property-descriptor\":4}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":2,\"babel-runtime/core-js/object/set-prototype-of\":7}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":14}],14:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":8}],15:[function(require,module,exports){\nvar core = require('../../modules/$.core');\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n};\n},{\"../../modules/$.core\":26}],16:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":40}],17:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":40}],18:[function(require,module,exports){\nvar $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-descriptor');\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $.getDesc(it, key);\n};\n},{\"../../modules/$\":40,\"../../modules/es6.object.get-own-property-descriptor\":53}],19:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.get-prototype-of\":54}],20:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.keys\":55}],21:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.set-prototype-of\":56}],22:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.to-string\":57,\"../../modules/es6.symbol\":58}],23:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],24:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":39}],25:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],26:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],27:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":23}],28:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],29:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":32}],30:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":40}],31:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":26,\"./$.ctx\":27,\"./$.global\":34}],32:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],33:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":40,\"./$.to-iobject\":49}],34:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],35:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],36:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":40,\"./$.descriptors\":29,\"./$.property-desc\":44}],37:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":25}],38:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":25}],39:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],40:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],41:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":40,\"./$.to-iobject\":49}],42:[function(require,module,exports){\nmodule.exports = true;\n},{}],43:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":26,\"./$.export\":31,\"./$.fails\":32}],44:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],45:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":36}],46:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":40,\"./$.an-object\":24,\"./$.ctx\":27,\"./$.is-object\":39}],47:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":40,\"./$.has\":35,\"./$.wks\":52}],48:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":34}],49:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":28,\"./$.iobject\":37}],50:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":28}],51:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],52:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":34,\"./$.shared\":48,\"./$.uid\":51}],53:[function(require,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./$.to-iobject');\n\nrequire('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./$.object-sap\":43,\"./$.to-iobject\":49}],54:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":43,\"./$.to-object\":50}],55:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./$.object-sap\":43,\"./$.to-object\":50}],56:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":31,\"./$.set-proto\":46}],57:[function(require,module,exports){\n\n},{}],58:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":40,\"./$.an-object\":24,\"./$.descriptors\":29,\"./$.enum-keys\":30,\"./$.export\":31,\"./$.fails\":32,\"./$.get-names\":33,\"./$.global\":34,\"./$.has\":35,\"./$.is-array\":38,\"./$.keyof\":41,\"./$.library\":42,\"./$.property-desc\":44,\"./$.redefine\":45,\"./$.set-to-string-tag\":47,\"./$.shared\":48,\"./$.to-iobject\":49,\"./$.uid\":51,\"./$.wks\":52}],59:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CombiningAlgorithm = function CombiningAlgorithm() {\n  (0, _classCallCheck3.default)(this, CombiningAlgorithm);\n};\n\nexports.default = CombiningAlgorithm;\nmodule.exports = exports[\"default\"];\n\n},{\"babel-runtime/helpers/classCallCheck\":9}],60:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Operators = function () {\n  function Operators() {\n    (0, _classCallCheck3.default)(this, Operators);\n  }\n\n  (0, _createClass3.default)(Operators, [{\n    key: 'and',\n    value: function and(params) {\n      return params[0] && params[1];\n    }\n  }, {\n    key: 'between',\n    value: function between(params) {\n      var start = parseInt(params[0][0]);\n      var end = parseInt(params[0][1]);\n      var now = params[1];\n\n      if (end < start) {\n        now = now < start ? now += 2400 : now;\n        end += 2400;\n      }\n\n      return now > start && now < end;\n    }\n  }, {\n    key: 'equals',\n    value: function equals(params) {\n      return params[0] == '*' || params[0] == params[1];\n    }\n  }, {\n    key: 'greaterThan',\n    value: function greaterThan(params) {\n      return params[1] > params[0];\n    }\n  }, {\n    key: 'in',\n    value: function _in(params) {\n      return params[0].indexOf(params[1]) > -1;\n    }\n  }, {\n    key: 'lessThan',\n    value: function lessThan(params) {\n      return params[1] < params[0];\n    }\n  }, {\n    key: 'not',\n    value: function not(params) {\n      return !params[0];\n    }\n  }, {\n    key: 'or',\n    value: function or(params) {\n      return params[0] || params[1];\n    }\n  }]);\n  return Operators;\n}();\n\nexports.default = Operators;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],61:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('./Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* The Policy Decision Point (PDP) decides if a message is to be authorised by checking a set of\n* policies. The resource to be verified is specified in the first word of the 'condition' field of\n* a Policy object. The implementation that verifies if the message is compliant with a policy is\n* specified in a hashtable to allow dynamic definition of the implementation, providing\n* extensibility to the Policy Engine functionalities.\n*/\n\nvar PDP = function () {\n  function PDP(context) {\n    (0, _classCallCheck3.default)(this, PDP);\n\n    this.context = context;\n    this.operators = new _Operators2.default();\n  }\n\n  (0, _createClass3.default)(PDP, [{\n    key: 'applyPolicies',\n    value: function applyPolicies(message, policies) {\n      var result = this.evaluateSPPolicy(message, policies.serviceProviderPolicy);\n      if (result || result === undefined || result === 'Not Applicable') {\n        var userResult = this.evaluateUserPolicy(message, policies.userPolicy);\n        if (userResult !== undefined) {\n          result = userResult;\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'evaluateSPPolicy',\n    value: function evaluateSPPolicy(message, policy) {\n      var result = void 0;\n\n      if (policy) {\n        result = policy.evaluate(this.context, message);\n      }\n\n      return result;\n    }\n  }, {\n    key: 'evaluateUserPolicy',\n    value: function evaluateUserPolicy(message, title) {\n      var result = void 0;\n\n      if (title !== undefined) {\n        var policy = this.context.userPolicies[title];\n\n        if (policy) {\n          result = policy.evaluate(this.context, message);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'context',\n    get: function get() {\n      return this._context;\n    },\n    set: function set(context) {\n      this._context = context;\n    }\n  }, {\n    key: 'operators',\n    get: function get() {\n      return this._operators;\n    },\n    set: function set(operators) {\n      this._operators = operators;\n    }\n  }]);\n  return PDP;\n}();\n\nexports.default = PDP;\nmodule.exports = exports['default'];\n\n},{\"./Operators\":60,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],62:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PEP = function () {\n  function PEP(context) {\n    (0, _classCallCheck3.default)(this, PEP);\n\n    this.context = context;\n  }\n\n  (0, _createClass3.default)(PEP, [{\n    key: \"enforcePolicies\",\n    value: function enforcePolicies(message, policies, authDecision) {\n      var policy = void 0;\n\n      if (policies.userPolicy) {\n        policy = this.context.userPolicies[policies.userPolicy];\n        if (policy) {\n          policy.enforceActions(this.context, message, authDecision);\n        }\n      }\n      policy = this.context.serviceProviderPolicy;\n      if (policy) {\n        policy.enforceActions(this.context, message, authDecision);\n      }\n    }\n\n    /*sendAutomaticMessage() {}\n     forwardToID() {}\n     forwardToHyperty() {}*/\n\n  }]);\n  return PEP;\n}();\n\nexports.default = PEP;\nmodule.exports = exports[\"default\"];\n\n},{\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],63:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _DenyOverrides = require('./combiningAlgorithms/DenyOverrides');\n\nvar _DenyOverrides2 = _interopRequireDefault(_DenyOverrides);\n\nvar _FirstApplicable = require('./combiningAlgorithms/FirstApplicable');\n\nvar _FirstApplicable2 = _interopRequireDefault(_FirstApplicable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Policy = function () {\n  function Policy(key, rules, actions, combiningAlgorithm) {\n    (0, _classCallCheck3.default)(this, Policy);\n\n    this.actions = actions;\n    this.key = key;\n    this.rules = rules;\n    this.combiningAlgorithm = combiningAlgorithm;\n  }\n\n  (0, _createClass3.default)(Policy, [{\n    key: 'enforceActions',\n    value: function enforceActions(context, message, authDecision) {\n      for (var i in this.actions) {\n        context[this.actions[i]](message, authDecision);\n      }\n    }\n  }, {\n    key: 'evaluate',\n    value: function evaluate(context, message) {\n      var results = [];\n\n      for (var i in this.rules) {\n        results.push(this.rules[i].evaluate(context, message));\n      }\n\n      return this.combiningAlgorithm.evaluate(results);\n    }\n  }, {\n    key: 'combiningAlgorithm',\n    get: function get() {\n      return this._combiningAlgorithm;\n    },\n    set: function set(combiningAlgorithm) {\n      if (combiningAlgorithm === 'denyOverrides') {\n        this._combiningAlgorithm = new _DenyOverrides2.default();\n      } else {\n        if (combiningAlgorithm === 'firstApplicable') {\n          this._combiningAlgorithm = new _FirstApplicable2.default();\n        } else {\n          throw Error('Unknown algorithm: ' + combiningAlgorithm);\n        }\n      }\n    }\n  }]);\n  return Policy;\n}();\n\nexports.default = Policy;\nmodule.exports = exports['default'];\n\n},{\"./combiningAlgorithms/DenyOverrides\":66,\"./combiningAlgorithms/FirstApplicable\":67,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],64:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _PEP = require('./PEP');\n\nvar _PEP2 = _interopRequireDefault(_PEP);\n\nvar _PDP = require('./PDP');\n\nvar _PDP2 = _interopRequireDefault(_PDP);\n\nvar _UserPolicy = require('./policies/UserPolicy');\n\nvar _UserPolicy2 = _interopRequireDefault(_UserPolicy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PolicyEngine = function () {\n  function PolicyEngine(context) {\n    (0, _classCallCheck3.default)(this, PolicyEngine);\n\n    this.context = context;\n    context.policyEngine = this;\n    context.loadActivePolicy();\n    context.loadGroups();\n    context.loadSPPolicies();\n    context.loadUserPolicies();\n    this.pdp = new _PDP2.default(context);\n    this.pep = new _PEP2.default(context);\n  }\n\n  (0, _createClass3.default)(PolicyEngine, [{\n    key: 'addPolicy',\n    value: function addPolicy(source, key, policy) {\n      if (source === 'SERVICE_PROVIDER') {\n        this.context.serviceProviderPolicies[key] = policy;\n        this.context.savePolicies(source);\n      } else {\n        if (source === 'USER') {\n          if (!policy) {\n            policy = new _UserPolicy2.default(key, [], []);\n          }\n          this.context.userPolicies[key] = policy;\n          this.context.savePolicies(source);\n        } else {\n          throw Error('Unknown policy source: ' + source);\n        }\n      }\n    }\n  }, {\n    key: 'removePolicy',\n    value: function removePolicy(source, key) {\n      if (source === '*') {\n        this.context.serviceProviderPolicies = {};\n        this.context.userPolicies = {};\n        this.context.activeUserPolicy = undefined;\n      } else {\n        if (source === 'SERVICE_PROVIDER') {\n          delete this.context.serviceProviderPolicies[key];\n        } else {\n          if (source === 'USER') {\n            delete this.context.userPolicies[key];\n            if (key === this.context.activeUserPolicy) {\n              this.context.activeUserPolicy = undefined;\n            }\n          } else {\n            throw Error('Unknown policy source: ' + source);\n          }\n        }\n      }\n\n      this.context.savePolicies('USER');\n      this.context.savePolicies('SERVICE_PROVIDER');\n      this.context.saveActivePolicy();\n    }\n  }, {\n    key: 'removeRule',\n    value: function removeRule(key, rule) {\n      delete this.context.userPolicies[key][rule.scope][rule.target][rule.condition];\n    }\n  }, {\n    key: 'authorise',\n    value: function authorise(message) {\n      var _this = this;\n      return _this.context.authorise(message);\n    }\n  }, {\n    key: 'getGroupsNames',\n    value: function getGroupsNames() {\n      var myGroups = this.context.groups;\n      var groupsNames = [];\n      if (myGroups !== undefined) {\n        for (var groupName in myGroups) {\n          groupsNames.push(groupName);\n        }\n      }\n      return groupsNames;\n    }\n  }, {\n    key: 'getGroup',\n    value: function getGroup(groupName) {\n      var myGroups = this.context.groups;\n      var members = [];\n\n      if (myGroups[groupName] !== undefined) {\n        members = myGroups[groupName];\n      }\n\n      return members;\n    }\n\n    /**\n    * Creates a group with the given name.\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'createGroup',\n    value: function createGroup(groupName) {\n      this.context.groups[groupName] = [];\n      this.context.saveGroups();\n    }\n  }, {\n    key: 'deleteGroup',\n    value: function deleteGroup(groupName) {\n      delete this.context.groups[groupName];\n      this.context.saveGroups();\n    }\n\n    /**\n    * Adds the given user email to the group with the given name.\n    * @param  {String}  userEmail\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'addToGroup',\n    value: function addToGroup(groupName, userEmail) {\n      var myGroups = this.context.groups;\n      if (myGroups[groupName] !== undefined) {\n        if (myGroups[groupName].indexOf(userEmail) === -1) {\n          myGroups[groupName].push(userEmail);\n          this.context.saveGroups();\n        }\n      } else {\n        throw Error('Group \"' + groupName + '\" does not exist!');\n      }\n    }\n  }, {\n    key: 'removeFromGroup',\n    value: function removeFromGroup(groupName, userEmail) {\n      var group = this.context.groups[groupName];\n\n      group.splice(group.indexOf(userEmail), 1);\n      this.context.saveGroups();\n    }\n  }]);\n  return PolicyEngine;\n}();\n\nexports.default = PolicyEngine;\nmodule.exports = exports['default'];\n\n},{\"./PDP\":61,\"./PEP\":62,\"./policies/UserPolicy\":71,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],65:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = require('../utils/utils');\n\nvar _Operators = require('./Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Rule = function () {\n  function Rule(authorise, condition, priority, scope, target) {\n    (0, _classCallCheck3.default)(this, Rule);\n\n    this.operators = new _Operators2.default();\n    this.authorise = authorise;\n    this.condition = condition;\n    this.priority = priority;\n    this.scope = scope;\n    this.target = target;\n  }\n\n  (0, _createClass3.default)(Rule, [{\n    key: 'evaluate',\n    value: function evaluate(context, message) {\n      var hypertyName = void 0;\n      switch (this.scope) {\n        case 'global':\n          break;\n\n        case 'hyperty':\n          if ((0, _utils.isDataObjectURL)(message.from)) {\n            var reporter = context.runtimeRegistry.getReporterURLSynchonous((0, _utils.removePathFromURL)(message.from));\n            if (reporter !== undefined) {\n              hypertyName = context.runtimeRegistry.getHypertyName(reporter);\n            }\n          } else {\n            if (message.from.split('://')[0] === 'hyperty') {\n              hypertyName = context.runtimeRegistry.getHypertyName((0, _utils.removePathFromURL)(message.from));\n            }\n          }\n          if (hypertyName === this.target) {\n            break;\n          }\n\n          if ((0, _utils.isDataObjectURL)(message.to)) {\n            var _reporter = context.runtimeRegistry.getReporterURLSynchonous((0, _utils.removePathFromURL)(message.to));\n            if (_reporter !== undefined) {\n              hypertyName = context.runtimeRegistry.getHypertyName(_reporter);\n            }\n          } else {\n            if (message.to.split('://')[0] === 'hyperty') {\n              hypertyName = context.runtimeRegistry.getHypertyName((0, _utils.removePathFromURL)(message.to));\n            }\n          }\n          if (hypertyName === this.target) {\n            break;\n          }\n\n          return 'Not Applicable';\n\n        case 'user':\n          var owner = void 0;\n\n          if ((0, _utils.isDataObjectURL)(message.from)) {\n            var _reporter2 = context.runtimeRegistry.getReporterURLSynchonous((0, _utils.removePathFromURL)(message.from));\n            owner = context.runtimeRegistry.getHypertyOwner(_reporter2);\n          } else {\n            if (message.from.split('://')[0] === 'hyperty') {\n              owner = context.runtimeRegistry.getHypertyOwner((0, _utils.removePathFromURL)(message.from));\n            }\n          }\n          if (owner !== undefined) {\n            owner = (0, _utils.getUserEmailFromURL)(owner);\n          }\n          if (owner === this.target) {\n            break;\n          }\n\n          if ((0, _utils.isDataObjectURL)(message.to)) {\n            var _reporter3 = context.runtimeRegistry.getReporterURLSynchonous((0, _utils.removePathFromURL)(message.to));\n            owner = context.runtimeRegistry.getHypertyOwner(_reporter3);\n            if (owner !== undefined) {\n              owner = (0, _utils.getUserEmailFromURL)(owner);\n            }\n          } else {\n            if (message.to.split('://')[0] === 'hyperty') {\n              owner = context.runtimeRegistry.getHypertyOwner((0, _utils.removePathFromURL)(message.to));\n              if (owner !== undefined) {\n                owner = (0, _utils.getUserEmailFromURL)(owner);\n              }\n            }\n          }\n          if (owner === this.target) {\n            break;\n          }\n\n          return 'Not Applicable';\n      }\n      if (this.condition.isApplicable(context, message, this.scope, this.target)) {\n        return this.authorise;\n      } else {\n        return 'Not Applicable';\n      }\n    }\n  }]);\n  return Rule;\n}();\n\nexports.default = Rule;\nmodule.exports = exports['default'];\n\n},{\"../utils/utils\":72,\"./Operators\":60,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],66:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CombiningAlgorithm2 = require('../CombiningAlgorithm');\n\nvar _CombiningAlgorithm3 = _interopRequireDefault(_CombiningAlgorithm2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DenyOverrides = function (_CombiningAlgorithm) {\n  (0, _inherits3.default)(DenyOverrides, _CombiningAlgorithm);\n\n  function DenyOverrides() {\n    (0, _classCallCheck3.default)(this, DenyOverrides);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(DenyOverrides).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(DenyOverrides, [{\n    key: 'evaluate',\n    value: function evaluate(individualResults) {\n      if (individualResults.indexOf(false) !== -1) {\n        return false;\n      } else {\n        if (individualResults.indexOf(true) !== -1) {\n          return true;\n        } else {\n          return 'Not Applicable';\n        }\n      }\n    }\n  }]);\n  return DenyOverrides;\n}(_CombiningAlgorithm3.default);\n\nexports.default = DenyOverrides;\nmodule.exports = exports['default'];\n\n},{\"../CombiningAlgorithm\":59,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":12,\"babel-runtime/helpers/possibleConstructorReturn\":13}],67:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CombiningAlgorithm2 = require('../CombiningAlgorithm');\n\nvar _CombiningAlgorithm3 = _interopRequireDefault(_CombiningAlgorithm2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FirstApplicable = function (_CombiningAlgorithm) {\n  (0, _inherits3.default)(FirstApplicable, _CombiningAlgorithm);\n\n  function FirstApplicable() {\n    (0, _classCallCheck3.default)(this, FirstApplicable);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(FirstApplicable).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(FirstApplicable, [{\n    key: 'evaluate',\n    value: function evaluate(individualResults) {\n      for (var i in individualResults) {\n        if (individualResults[i] !== 'Not Applicable') {\n          return individualResults[i];\n        }\n      }\n\n      return 'Not Applicable';\n    }\n  }]);\n  return FirstApplicable;\n}(_CombiningAlgorithm3.default);\n\nexports.default = FirstApplicable;\nmodule.exports = exports['default'];\n\n},{\"../CombiningAlgorithm\":59,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":12,\"babel-runtime/helpers/possibleConstructorReturn\":13}],68:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Condition = require('./Condition');\n\nvar _Condition2 = _interopRequireDefault(_Condition);\n\nvar _Operators = require('../Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nvar _SubscriptionCondition = require('./SubscriptionCondition');\n\nvar _SubscriptionCondition2 = _interopRequireDefault(_SubscriptionCondition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AdvancedCondition = function () {\n  function AdvancedCondition(condition) {\n    (0, _classCallCheck3.default)(this, AdvancedCondition);\n\n    this.operators = new _Operators2.default();\n    this.condition = condition;\n  }\n\n  (0, _createClass3.default)(AdvancedCondition, [{\n    key: 'isApplicable',\n    value: function isApplicable(context, message, scope, target, operator, left, right) {\n      if (!operator) {\n        operator = this.condition[0];\n        left = this.condition[1];\n        right = this.condition[2];\n      }\n\n      while (!(left instanceof _Condition2.default) & !(left instanceof _SubscriptionCondition2.default) & typeof left !== 'boolean') {\n        left = this.isApplicable(context, message, scope, target, left[0], left[1], left[2]);\n      }\n      if (right !== undefined) {\n        while (!(right instanceof _Condition2.default) & !(right instanceof _SubscriptionCondition2.default) & typeof right !== 'boolean') {\n          right = this.isApplicable(context, message, scope, target, right[0], right[1], right[2]);\n        }\n      }\n\n      var resultLeft = typeof left === 'boolean' ? left : left.isApplicable(context, message, scope, target);\n      var resultRight = void 0;\n      if (right !== undefined) {\n        resultRight = typeof right === 'boolean' ? right : right.isApplicable(context, message, scope, target);\n      }\n      return this.operators[operator]([resultLeft, resultRight]);\n    }\n  }]);\n  return AdvancedCondition;\n}();\n\nexports.default = AdvancedCondition;\nmodule.exports = exports['default'];\n\n},{\"../Operators\":60,\"./Condition\":69,\"./SubscriptionCondition\":70,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],69:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('../Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Condition = function () {\n  function Condition(attribute, operator, params) {\n    (0, _classCallCheck3.default)(this, Condition);\n\n    this.attribute = attribute;\n    this.operator = operator;\n    this.params = params;\n    this.operators = new _Operators2.default();\n  }\n\n  (0, _createClass3.default)(Condition, [{\n    key: 'isApplicable',\n    value: function isApplicable(context, message) {\n      context[this.attribute] = { message: message };\n      var value = context[this.attribute];\n      var tempParam = void 0;\n      if (this.operator === 'in') {\n        if (this.params === 'preauthorised') {\n          var dataObjectURL = message.to.split('/');\n          dataObjectURL.pop();\n          dataObjectURL = dataObjectURL[0] + '//' + dataObjectURL[2];\n          tempParam = context.runtimeRegistry.getPreAuthSubscribers(dataObjectURL);\n        } else {\n          tempParam = context.policyEngine.getGroup(this.params);\n        }\n      }\n      if (!tempParam) {\n        return this.operators[this.operator]([this.params, value]);\n      } else {\n        return this.operators[this.operator]([tempParam, value]);\n      }\n    }\n  }]);\n  return Condition;\n}();\n\nexports.default = Condition;\nmodule.exports = exports['default'];\n\n},{\"../Operators\":60,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],70:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Condition2 = require('./Condition');\n\nvar _Condition3 = _interopRequireDefault(_Condition2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SubscriptionCondition = function (_Condition) {\n  (0, _inherits3.default)(SubscriptionCondition, _Condition);\n\n  function SubscriptionCondition(attribute, operator, params) {\n    (0, _classCallCheck3.default)(this, SubscriptionCondition);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(SubscriptionCondition).call(this, attribute, operator, params));\n  }\n\n  (0, _createClass3.default)(SubscriptionCondition, [{\n    key: 'isApplicable',\n    value: function isApplicable(context, message, scope, target) {\n      var isSubscription = message.type === 'subscribe';\n      var isFromRemoteSM = context.isFromRemoteSM(message.from);\n      if (isSubscription & isFromRemoteSM) {\n        return (0, _get3.default)((0, _getPrototypeOf2.default)(SubscriptionCondition.prototype), 'isApplicable', this).call(this, context, message);\n      } else {\n        return false;\n      }\n    }\n  }]);\n  return SubscriptionCondition;\n}(_Condition3.default);\n\nexports.default = SubscriptionCondition;\nmodule.exports = exports['default'];\n\n},{\"./Condition\":69,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/get\":11,\"babel-runtime/helpers/inherits\":12,\"babel-runtime/helpers/possibleConstructorReturn\":13}],71:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _AdvancedCondition = require('../conditions/AdvancedCondition');\n\nvar _AdvancedCondition2 = _interopRequireDefault(_AdvancedCondition);\n\nvar _Condition = require('../conditions/Condition');\n\nvar _Condition2 = _interopRequireDefault(_Condition);\n\nvar _Policy2 = require('../Policy');\n\nvar _Policy3 = _interopRequireDefault(_Policy2);\n\nvar _Rule = require('../Rule');\n\nvar _Rule2 = _interopRequireDefault(_Rule);\n\nvar _SubscriptionCondition = require('../conditions/SubscriptionCondition');\n\nvar _SubscriptionCondition2 = _interopRequireDefault(_SubscriptionCondition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UserPolicy = function (_Policy) {\n  (0, _inherits3.default)(UserPolicy, _Policy);\n\n  function UserPolicy(key, rules, actions, combiningAlgorithm) {\n    (0, _classCallCheck3.default)(this, UserPolicy);\n\n    if (!combiningAlgorithm) {\n      combiningAlgorithm = 'denyOverrides';\n    }\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(UserPolicy).call(this, key, rules, actions, combiningAlgorithm));\n  }\n\n  (0, _createClass3.default)(UserPolicy, [{\n    key: 'createRule',\n    value: function createRule(type, authorise, condition, scope, target, priority) {\n      if (!(condition instanceof _Condition2.default)) {\n        switch (type) {\n          case 'advanced':\n            condition = new _AdvancedCondition2.default(condition);\n            break;\n          case 'simple':\n            condition = new _Condition2.default(condition[0], condition[1], condition[2]);\n            break;\n          case 'subscription':\n            condition = new _SubscriptionCondition2.default(condition[0], condition[1], condition[2]);\n            break;\n        }\n      }\n      if (priority === undefined) {\n        priority = this.getLastPriority() + 1;\n      }\n      var rule = new _Rule2.default(authorise, condition, priority, scope, target);\n      this.rules.push(rule);\n    }\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(rule) {\n      var indexToRemove = this.rules.indexOf(rule);\n      this.rules.splice(indexToRemove, 1);\n    }\n  }, {\n    key: 'getLastPriority',\n    value: function getLastPriority() {\n      var priorities = [];\n\n      if (this.rules.length !== 0) {\n        for (var i in this.rules) {\n          priorities.push(this.rules[i].priority);\n        }\n        return Math.max.apply(Math, priorities);\n      } else {\n        return -1;\n      }\n    }\n  }, {\n    key: 'getRuleByPriority',\n    value: function getRuleByPriority(priority) {\n      for (var i in this.rules) {\n        if (this.rules[i].priority == priority) {\n          return this.rules[i];\n        }\n      }\n      throw Error('Rule with priority ' + priority + ' does not exist!');\n    }\n  }, {\n    key: 'hasSubscriptionRule',\n    value: function hasSubscriptionRule() {\n      for (var i in this.rules) {\n        if (this.rules[i].scope !== 'global') {\n          continue;\n        }\n        if (this.rules[i].condition instanceof _SubscriptionCondition2.default) {\n          return true;\n        } else {\n          if (this.rules[i].condition instanceof _AdvancedCondition2.default) {\n            for (var j in this.rules[i].condition.condition) {\n              if (this.rules[i].condition.condition[j] instanceof _SubscriptionCondition2.default) {\n                return true;\n              }\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'sortRules',\n    value: function sortRules() {\n      return this.rules.sort(function (a, b) {\n        var x = a['priority'];var y = b['priority'];\n        return x < y ? -1 : x > y ? 1 : 0;\n      });\n    }\n  }]);\n  return UserPolicy;\n}(_Policy3.default);\n\nexports.default = UserPolicy;\nmodule.exports = exports['default'];\n\n},{\"../Policy\":63,\"../Rule\":65,\"../conditions/AdvancedCondition\":68,\"../conditions/Condition\":69,\"../conditions/SubscriptionCondition\":70,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":12,\"babel-runtime/helpers/possibleConstructorReturn\":13}],72:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.divideURL = divideURL;\nexports.divideEmail = divideEmail;\nexports.emptyObject = emptyObject;\nexports.deepClone = deepClone;\nexports.removePathFromURL = removePathFromURL;\nexports.getUserURLFromEmail = getUserURLFromEmail;\nexports.getUserEmailFromURL = getUserEmailFromURL;\nexports.convertToUserURL = convertToUserURL;\nexports.isDataObjectURL = isDataObjectURL;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovao e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n/**\n * Support module with some functions will be useful\n * @module utils\n */\n\n/**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n */\n\n/**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */\nfunction divideURL(url) {\n\n  if (!url) throw Error('URL is needed to split');\n\n  // let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\n  var re = /([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;\n  var subst = '$1,$2,$3';\n  var parts = url.replace(re, subst).split(',');\n\n  // If the url has no protocol, the default protocol set is https\n  if (parts[0] === url) {\n    parts[0] = 'https';\n    parts[1] = url;\n  }\n\n  var result = {\n    type: parts[0],\n    domain: parts[1],\n    identity: parts[2]\n  };\n\n  return result;\n}\n\nfunction divideEmail(email) {\n  var indexOfAt = email.indexOf('@');\n\n  var result = {\n    username: email.substring(0, indexOfAt),\n    domain: email.substring(indexOfAt + 1, email.length)\n  };\n\n  return result;\n}\n\n/**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */\nfunction emptyObject(object) {\n  return (0, _keys2.default)(object).length > 0 ? false : true;\n}\n\n/**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */\nfunction deepClone(obj) {\n  //TODO: simple but inefficient JSON deep clone...\n  if (obj) return JSON.parse((0, _stringify2.default)(obj));\n}\n\nfunction removePathFromURL(url) {\n  var splitURL = url.split('/');\n  return splitURL[0] + '//' + splitURL[2] + '/' + splitURL[3];\n}\n\n/**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */\nfunction getUserURLFromEmail(userEmail) {\n  var indexOfAt = userEmail.indexOf('@');\n  return 'user://' + userEmail.substring(indexOfAt + 1, userEmail.length) + '/' + userEmail.substring(0, indexOfAt);\n}\n\n/**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */\nfunction getUserEmailFromURL(userURL) {\n  var url = divideURL(userURL);\n  return url.identity.replace('/', '') + '@' + url.domain; // identity field has '/exampleID' instead of 'exampleID'\n}\n\n/**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */\nfunction convertToUserURL(identifier) {\n\n  // check if the identifier is already in the url format\n  if (identifier.substring(0, 7) === 'user://') {\n    var dividedURL = divideURL(identifier);\n\n    //check if the url is well formated\n    if (dividedURL.domain && dividedURL.identity) {\n      return identifier;\n    } else {\n      throw 'userURL with wrong format';\n    }\n\n    //if not, convert the user email to URL format\n  } else {\n      return getUserURLFromEmail(identifier);\n    }\n}\n\nfunction isDataObjectURL(url) {\n  var schemasToIgnore = ['domain-idp', 'runtime', 'domain', 'hyperty'];\n  var splitURL = url.split('://');\n  var urlSchema = splitURL[0];\n\n  return schemasToIgnore.indexOf(urlSchema) === -1;\n}\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/keys\":6}]},{},[64])(64)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYS1mdW5jdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmFuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZGVzY3JpcHRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mYWlscy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmdldC1uYW1lcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmdsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmhhcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmhpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmtleW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubGlicmFyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLm9iamVjdC1zYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQucmVkZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNoYXJlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC53a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsInNyYy9wb2xpY3kvQ29tYmluaW5nQWxnb3JpdGhtLmpzIiwic3JjL3BvbGljeS9PcGVyYXRvcnMuanMiLCJzcmMvcG9saWN5L1BEUC5qcyIsInNyYy9wb2xpY3kvUEVQLmpzIiwic3JjL3BvbGljeS9Qb2xpY3kuanMiLCJzcmMvcG9saWN5L1BvbGljeUVuZ2luZS5qcyIsInNyYy9wb2xpY3kvUnVsZS5qcyIsInNyYy9wb2xpY3kvY29tYmluaW5nQWxnb3JpdGhtcy9EZW55T3ZlcnJpZGVzLmpzIiwic3JjL3BvbGljeS9jb21iaW5pbmdBbGdvcml0aG1zL0ZpcnN0QXBwbGljYWJsZS5qcyIsInNyYy9wb2xpY3kvY29uZGl0aW9ucy9BZHZhbmNlZENvbmRpdGlvbi5qcyIsInNyYy9wb2xpY3kvY29uZGl0aW9ucy9Db25kaXRpb24uanMiLCJzcmMvcG9saWN5L2NvbmRpdGlvbnMvU3Vic2NyaXB0aW9uQ29uZGl0aW9uLmpzIiwic3JjL3BvbGljeS9wb2xpY2llcy9Vc2VyUG9saWN5LmpzIiwic3JjL3V0aWxzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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b290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgdmFyIF9hZ2FpbiA9IHRydWU7XG5cbiAgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG4gICAgdmFyIG9iamVjdCA9IF94LFxuICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgcmVjZWl2ZXIgPSBfeDM7XG4gICAgX2FnYWluID0gZmFsc2U7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gICAgdmFyIGRlc2MgPSBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcblxuICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcblxuICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3ggPSBwYXJlbnQ7XG4gICAgICAgIF94MiA9IHByb3BlcnR5O1xuICAgICAgICBfeDMgPSByZWNlaXZlcjtcbiAgICAgICAgX2FnYWluID0gdHJ1ZTtcbiAgICAgICAgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfT2JqZWN0JHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfU3ltYm9sID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2xcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9TeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwidmFyIGNvcmUgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAoY29yZS5KU09OICYmIGNvcmUuSlNPTi5zdHJpbmdpZnkgfHwgSlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XG59OyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICQuY3JlYXRlKFAsIEQpO1xufTsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcbn07IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICByZXR1cm4gJC5nZXREZXNjKGl0LCBrZXkpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5rZXlzOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN5bWJvbDsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTsiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcxLjIuNid9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07IiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyICQgPSByZXF1aXJlKCcuLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIga2V5cyAgICAgICA9ICQuZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSAkLmdldFN5bWJvbHM7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9ICQuaXNFbnVtXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpa2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59OyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKHBhcmFtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIGlmKElTX1BST1RPKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgLy8gd3JhcFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpXG4gICwgZ2V0TmFtZXMgID0gcmVxdWlyZSgnLi8kJykuZ2V0TmFtZXNcbiAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnZXROYW1lcyhpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldCA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICBpZih3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJylyZXR1cm4gZ2V0V2luZG93TmFtZXMoaXQpO1xuICByZXR1cm4gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSk7XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTsiLCJ2YXIgJCAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59OyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vJC5jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihhcmcpe1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59OyIsInZhciAkT2JqZWN0ID0gT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZTogICAgICRPYmplY3QuY3JlYXRlLFxuICBnZXRQcm90bzogICAkT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICBpc0VudW06ICAgICB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgZ2V0RGVzYzogICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIHNldERlc2M6ICAgICRPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gIHNldERlc2NzOiAgICRPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcbiAgZ2V0S2V5czogICAgJE9iamVjdC5rZXlzLFxuICBnZXROYW1lczogICAkT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldFN5bWJvbHM6ICRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICBlYWNoOiAgICAgICBbXS5mb3JFYWNoXG59OyIsInZhciAkICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9ICQuZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlOyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JylcbiAgLCBjb3JlICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuLyQuZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmhpZGUnKTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgZ2V0RGVzYyAgPSByZXF1aXJlKCcuLyQnKS5nZXREZXNjXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuLyQuY3R4JykoRnVuY3Rpb24uY2FsbCwgZ2V0RGVzYyhPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59OyIsInZhciBkZWYgPSByZXF1aXJlKCcuLyQnKS5zZXREZXNjXG4gICwgaGFzID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59OyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuLyQuaW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59OyIsInZhciBzdG9yZSAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpXG4gICwgU3ltYm9sID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLlN5bWJvbDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFN5bWJvbCAmJiBTeW1ib2xbbmFtZV0gfHwgKFN5bWJvbCB8fCB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07IiwiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uKCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKTtcblxucmVxdWlyZSgnLi8kLm9iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigkZ2V0UHJvdG90eXBlT2Ype1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpO1xuXG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdrZXlzJywgZnVuY3Rpb24oJGtleXMpe1xuICByZXR1cm4gZnVuY3Rpb24ga2V5cyhpdCl7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldH0pOyIsIiIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciAkICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5oYXMnKVxuICAsIERFU0NSSVBUT1JTICAgID0gcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmaW5lJylcbiAgLCAkZmFpbHMgICAgICAgICA9IHJlcXVpcmUoJy4vJC5mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vJC5zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQudWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC53a3MnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmtleW9mJylcbiAgLCAkbmFtZXMgICAgICAgICA9IHJlcXVpcmUoJy4vJC5nZXQtbmFtZXMnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi8kLmVudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXknKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpXG4gICwgZ2V0RGVzYyAgICAgICAgPSAkLmdldERlc2NcbiAgLCBzZXREZXNjICAgICAgICA9ICQuc2V0RGVzY1xuICAsIF9jcmVhdGUgICAgICAgID0gJC5jcmVhdGVcbiAgLCBnZXROYW1lcyAgICAgICA9ICRuYW1lcy5nZXRcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG4gICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcbiAgLCBzZXR0ZXIgICAgICAgICA9IGZhbHNlXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIGlzRW51bSAgICAgICAgID0gJC5pc0VudW1cbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgdXNlTmF0aXZlICAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3QucHJvdG90eXBlO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBfY3JlYXRlKHNldERlc2Moe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHNldERlc2ModGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ2V0RGVzYyhPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBzZXREZXNjKGl0LCBrZXksIEQpO1xuICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKXNldERlc2MoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBzZXREZXNjO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2wucHJvdG90eXBlKTtcbiAgc3ltLl9rID0gdGFnO1xuICBERVNDUklQVE9SUyAmJiBzZXR0ZXIgJiYgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpc2V0RGVzYyhpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gc2V0RGVzYyhpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5KTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XVxuICAgID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIHZhciBEID0gZ2V0RGVzYyhpdCA9IHRvSU9iamVjdChpdCksIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTilyZXN1bHQucHVzaChrZXkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gIHZhciBhcmdzID0gW2l0XVxuICAgICwgaSAgICA9IDFcbiAgICAsICQkICAgPSBhcmd1bWVudHNcbiAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gIHdoaWxlKCQkLmxlbmd0aCA+IGkpYXJncy5wdXNoKCQkW2krK10pO1xuICByZXBsYWNlciA9IGFyZ3NbMV07XG4gIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG4gIH07XG4gIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xufTtcbnZhciBidWdneUpTT04gPSAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoe2E6IFN9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSk7XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIXVzZU5hdGl2ZSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZihpc1N5bWJvbCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHJldHVybiB3cmFwKHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCkpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgaXNTeW1ib2wgPSBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbiAgfTtcblxuICAkLmNyZWF0ZSAgICAgPSAkY3JlYXRlO1xuICAkLmlzRW51bSAgICAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gICQuZ2V0RGVzYyAgICA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICQuc2V0RGVzYyAgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgJC5zZXREZXNjcyAgID0gJGRlZmluZVByb3BlcnRpZXM7XG4gICQuZ2V0TmFtZXMgICA9ICRuYW1lcy5nZXQgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgJC5nZXRTeW1ib2xzID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi8kLmxpYnJhcnknKSl7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cbn1cblxudmFyIHN5bWJvbFN0YXRpY3MgPSB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn07XG4vLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2Vcbi8vIDE5LjQuMi4zIFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVcbi8vIDE5LjQuMi40IFN5bWJvbC5pdGVyYXRvclxuLy8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG4vLyAxOS40LjIuOCBTeW1ib2wucmVwbGFjZVxuLy8gMTkuNC4yLjkgU3ltYm9sLnNlYXJjaFxuLy8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG4vLyAxOS40LjIuMTEgU3ltYm9sLnNwbGl0XG4vLyAxOS40LjIuMTIgU3ltYm9sLnRvUHJpbWl0aXZlXG4vLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG4vLyAxOS40LjIuMTQgU3ltYm9sLnVuc2NvcGFibGVzXG4kLmVhY2guY2FsbCgoXG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsJyArXG4gICdzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBmdW5jdGlvbihpdCl7XG4gIHZhciBzeW0gPSB3a3MoaXQpO1xuICBzeW1ib2xTdGF0aWNzW2l0XSA9IHVzZU5hdGl2ZSA/IHN5bSA6IHdyYXAoc3ltKTtcbn0pO1xuXG5zZXR0ZXIgPSB0cnVlO1xuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVywge1N5bWJvbDogJFN5bWJvbH0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1N5bWJvbCcsIHN5bWJvbFN0YXRpY3MpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICF1c2VOYXRpdmUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCF1c2VOYXRpdmUgfHwgYnVnZ3lKU09OKSwgJ0pTT04nLCB7c3RyaW5naWZ5OiAkc3RyaW5naWZ5fSk7XG5cbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwiY2xhc3MgQ29tYmluaW5nQWxnb3JpdGhtIHtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21iaW5pbmdBbGdvcml0aG07XG4iLCJjbGFzcyBPcGVyYXRvcnMge1xuXG4gIGFuZChwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdICYmIHBhcmFtc1sxXTtcbiAgfVxuXG4gIGJldHdlZW4ocGFyYW1zKSB7XG4gICAgbGV0IHN0YXJ0ID0gcGFyc2VJbnQocGFyYW1zWzBdWzBdKTtcbiAgICBsZXQgZW5kID0gcGFyc2VJbnQocGFyYW1zWzBdWzFdKTtcbiAgICBsZXQgbm93ID0gcGFyYW1zWzFdO1xuXG4gICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICBub3cgPSAobm93IDwgc3RhcnQpID8gbm93ICs9IDI0MDAgOiBub3c7XG4gICAgICBlbmQgKz0gMjQwMDtcbiAgICB9XG5cbiAgICByZXR1cm4gKG5vdyA+IHN0YXJ0ICYmIG5vdyA8IGVuZCk7XG4gIH1cblxuICBlcXVhbHMocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXSA9PSAnKicgfHwgcGFyYW1zWzBdID09IHBhcmFtc1sxXTtcbiAgfVxuXG4gIGdyZWF0ZXJUaGFuKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMV0gPiBwYXJhbXNbMF07XG4gIH1cblxuICBpbihwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdLmluZGV4T2YocGFyYW1zWzFdKSA+IC0xO1xuICB9XG5cbiAgbGVzc1RoYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1sxXSA8IHBhcmFtc1swXTtcbiAgfVxuXG4gIG5vdChwYXJhbXMpIHtcbiAgICByZXR1cm4gIXBhcmFtc1swXTtcbiAgfVxuXG4gIG9yKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF0gfHwgcGFyYW1zWzFdO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlcmF0b3JzO1xuIiwiaW1wb3J0IE9wZXJhdG9ycyBmcm9tICcuL09wZXJhdG9ycyc7XG5cbi8qKlxuKiBUaGUgUG9saWN5IERlY2lzaW9uIFBvaW50IChQRFApIGRlY2lkZXMgaWYgYSBtZXNzYWdlIGlzIHRvIGJlIGF1dGhvcmlzZWQgYnkgY2hlY2tpbmcgYSBzZXQgb2ZcbiogcG9saWNpZXMuIFRoZSByZXNvdXJjZSB0byBiZSB2ZXJpZmllZCBpcyBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgdGhlICdjb25kaXRpb24nIGZpZWxkIG9mXG4qIGEgUG9saWN5IG9iamVjdC4gVGhlIGltcGxlbWVudGF0aW9uIHRoYXQgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY29tcGxpYW50IHdpdGggYSBwb2xpY3kgaXNcbiogc3BlY2lmaWVkIGluIGEgaGFzaHRhYmxlIHRvIGFsbG93IGR5bmFtaWMgZGVmaW5pdGlvbiBvZiB0aGUgaW1wbGVtZW50YXRpb24sIHByb3ZpZGluZ1xuKiBleHRlbnNpYmlsaXR5IHRvIHRoZSBQb2xpY3kgRW5naW5lIGZ1bmN0aW9uYWxpdGllcy5cbiovXG5jbGFzcyBQRFAge1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMub3BlcmF0b3JzID0gbmV3IE9wZXJhdG9ycygpO1xuICB9XG5cbiAgZ2V0IGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRleHQ7XG4gIH1cblxuICBnZXQgb3BlcmF0b3JzKCkge1xuICAgIHJldHVybiB0aGlzLl9vcGVyYXRvcnM7XG4gIH1cblxuICBzZXQgY29udGV4dChjb250ZXh0KSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cblxuICBzZXQgb3BlcmF0b3JzKG9wZXJhdG9ycykge1xuICAgIHRoaXMuX29wZXJhdG9ycyA9IG9wZXJhdG9ycztcbiAgfVxuXG4gIGFwcGx5UG9saWNpZXMobWVzc2FnZSwgcG9saWNpZXMpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZVNQUG9saWN5KG1lc3NhZ2UsIHBvbGljaWVzLnNlcnZpY2VQcm92aWRlclBvbGljeSk7XG4gICAgaWYgKHJlc3VsdCB8fCByZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09ICdOb3QgQXBwbGljYWJsZScpIHtcbiAgICAgIGxldCB1c2VyUmVzdWx0ID0gdGhpcy5ldmFsdWF0ZVVzZXJQb2xpY3kobWVzc2FnZSwgcG9saWNpZXMudXNlclBvbGljeSk7XG4gICAgICBpZiAodXNlclJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHVzZXJSZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGV2YWx1YXRlU1BQb2xpY3kobWVzc2FnZSwgcG9saWN5KSB7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGlmIChwb2xpY3kpIHtcbiAgICAgIHJlc3VsdCA9IHBvbGljeS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBldmFsdWF0ZVVzZXJQb2xpY3kobWVzc2FnZSwgdGl0bGUpIHtcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBwb2xpY3kgPSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RpdGxlXTtcblxuICAgICAgaWYgKHBvbGljeSkge1xuICAgICAgICByZXN1bHQgPSBwb2xpY3kuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUERQO1xuIiwiY2xhc3MgUEVQIHtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIGVuZm9yY2VQb2xpY2llcyhtZXNzYWdlLCBwb2xpY2llcywgYXV0aERlY2lzaW9uKSB7XG4gICAgbGV0IHBvbGljeTtcblxuICAgIGlmIChwb2xpY2llcy51c2VyUG9saWN5KSB7XG4gICAgICBwb2xpY3kgPSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3BvbGljaWVzLnVzZXJQb2xpY3ldO1xuICAgICAgaWYgKHBvbGljeSkge1xuICAgICAgICBwb2xpY3kuZW5mb3JjZUFjdGlvbnModGhpcy5jb250ZXh0LCBtZXNzYWdlLCBhdXRoRGVjaXNpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2xpY3kgPSB0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5O1xuICAgIGlmIChwb2xpY3kpIHtcbiAgICAgIHBvbGljeS5lbmZvcmNlQWN0aW9ucyh0aGlzLmNvbnRleHQsIG1lc3NhZ2UsIGF1dGhEZWNpc2lvbik7XG4gICAgfVxuICB9XG5cbiAgLypzZW5kQXV0b21hdGljTWVzc2FnZSgpIHt9XG5cbiAgZm9yd2FyZFRvSUQoKSB7fVxuXG4gIGZvcndhcmRUb0h5cGVydHkoKSB7fSovXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUEVQO1xuIiwiaW1wb3J0IERlbnlPdmVycmlkZXMgZnJvbSAnLi9jb21iaW5pbmdBbGdvcml0aG1zL0RlbnlPdmVycmlkZXMnO1xuaW1wb3J0IEZpcnN0QXBwbGljYWJsZSBmcm9tICcuL2NvbWJpbmluZ0FsZ29yaXRobXMvRmlyc3RBcHBsaWNhYmxlJztcblxuY2xhc3MgUG9saWN5IHtcblxuICBjb25zdHJ1Y3RvcihrZXksIHJ1bGVzLCBhY3Rpb25zLCBjb21iaW5pbmdBbGdvcml0aG0pIHtcbiAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMucnVsZXMgPSBydWxlcztcbiAgICB0aGlzLmNvbWJpbmluZ0FsZ29yaXRobSA9IGNvbWJpbmluZ0FsZ29yaXRobTtcbiAgfVxuXG4gIGdldCBjb21iaW5pbmdBbGdvcml0aG0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbWJpbmluZ0FsZ29yaXRobTtcbiAgfVxuXG4gIHNldCBjb21iaW5pbmdBbGdvcml0aG0oY29tYmluaW5nQWxnb3JpdGhtKSB7XG4gICAgaWYgKGNvbWJpbmluZ0FsZ29yaXRobSA9PT0gJ2RlbnlPdmVycmlkZXMnKSB7XG4gICAgICB0aGlzLl9jb21iaW5pbmdBbGdvcml0aG0gPSBuZXcgRGVueU92ZXJyaWRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29tYmluaW5nQWxnb3JpdGhtID09PSAnZmlyc3RBcHBsaWNhYmxlJykge1xuICAgICAgICB0aGlzLl9jb21iaW5pbmdBbGdvcml0aG0gPSBuZXcgRmlyc3RBcHBsaWNhYmxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcignVW5rbm93biBhbGdvcml0aG06ICcgKyBjb21iaW5pbmdBbGdvcml0aG0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVuZm9yY2VBY3Rpb25zKGNvbnRleHQsIG1lc3NhZ2UsIGF1dGhEZWNpc2lvbikge1xuICAgIGZvciAobGV0IGkgaW4gdGhpcy5hY3Rpb25zKSB7XG4gICAgICBjb250ZXh0W3RoaXMuYWN0aW9uc1tpXV0obWVzc2FnZSwgYXV0aERlY2lzaW9uKTtcbiAgICB9XG4gIH1cblxuICBldmFsdWF0ZShjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgaW4gdGhpcy5ydWxlcykge1xuICAgICAgcmVzdWx0cy5wdXNoKHRoaXMucnVsZXNbaV0uZXZhbHVhdGUoY29udGV4dCwgbWVzc2FnZSkpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdGhpcy5jb21iaW5pbmdBbGdvcml0aG0uZXZhbHVhdGUocmVzdWx0cyk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY3k7XG4iLCJpbXBvcnQgUEVQIGZyb20gJy4vUEVQJztcbmltcG9ydCBQRFAgZnJvbSAnLi9QRFAnO1xuaW1wb3J0IFVzZXJQb2xpY3kgZnJvbSAnLi9wb2xpY2llcy9Vc2VyUG9saWN5JztcblxuY2xhc3MgUG9saWN5RW5naW5lIHtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICBjb250ZXh0LnBvbGljeUVuZ2luZSA9IHRoaXM7XG4gICAgY29udGV4dC5sb2FkQWN0aXZlUG9saWN5KCk7XG4gICAgY29udGV4dC5sb2FkR3JvdXBzKCk7XG4gICAgY29udGV4dC5sb2FkU1BQb2xpY2llcygpO1xuICAgIGNvbnRleHQubG9hZFVzZXJQb2xpY2llcygpO1xuICAgIHRoaXMucGRwID0gbmV3IFBEUChjb250ZXh0KTtcbiAgICB0aGlzLnBlcCA9IG5ldyBQRVAoY29udGV4dCk7XG4gIH1cblxuICBhZGRQb2xpY3koc291cmNlLCBrZXksIHBvbGljeSkge1xuICAgIGlmIChzb3VyY2UgPT09ICdTRVJWSUNFX1BST1ZJREVSJykge1xuICAgICAgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljaWVzW2tleV0gPSBwb2xpY3k7XG4gICAgICB0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKHNvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzb3VyY2UgPT09ICdVU0VSJykge1xuICAgICAgICBpZiAoIXBvbGljeSkge1xuICAgICAgICAgIHBvbGljeSA9IG5ldyBVc2VyUG9saWN5KGtleSwgW10sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW2tleV0gPSBwb2xpY3k7XG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKCdVbmtub3duIHBvbGljeSBzb3VyY2U6ICcgKyBzb3VyY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVBvbGljeShzb3VyY2UsIGtleSkge1xuICAgIGlmIChzb3VyY2UgPT09ICcqJykge1xuICAgICAgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljaWVzID0ge307XG4gICAgICB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzID0ge307XG4gICAgICB0aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gJ1NFUlZJQ0VfUFJPVklERVInKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWNpZXNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09ICdVU0VSJykge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW2tleV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignVW5rbm93biBwb2xpY3kgc291cmNlOiAnICsgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoJ1VTRVInKTtcbiAgICB0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCdTRVJWSUNFX1BST1ZJREVSJyk7XG4gICAgdGhpcy5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKTtcbiAgfVxuXG4gIHJlbW92ZVJ1bGUoa2V5LCBydWxlKSB7XG4gICAgZGVsZXRlIHRoaXMuY29udGV4dC51c2VyUG9saWNpZXNba2V5XVtydWxlLnNjb3BlXVtydWxlLnRhcmdldF1bcnVsZS5jb25kaXRpb25dO1xuICB9XG5cbiAgYXV0aG9yaXNlKG1lc3NhZ2UpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBfdGhpcy5jb250ZXh0LmF1dGhvcmlzZShtZXNzYWdlKTtcbiAgfVxuXG4gIGdldEdyb3Vwc05hbWVzKCkge1xuICAgIGxldCBteUdyb3VwcyA9IHRoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IGdyb3Vwc05hbWVzID0gW107XG4gICAgaWYgKG15R3JvdXBzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAobGV0IGdyb3VwTmFtZSBpbiBteUdyb3Vwcykge1xuICAgICAgICBncm91cHNOYW1lcy5wdXNoKGdyb3VwTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncm91cHNOYW1lcztcbiAgfVxuXG4gIGdldEdyb3VwKGdyb3VwTmFtZSkge1xuICAgIGxldCBteUdyb3VwcyA9IHRoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IG1lbWJlcnMgPSBbXTtcblxuICAgIGlmIChteUdyb3Vwc1tncm91cE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1lbWJlcnMgPSBteUdyb3Vwc1tncm91cE5hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1iZXJzO1xuICB9XG5cbiAgLyoqXG4gICogQ3JlYXRlcyBhIGdyb3VwIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgZ3JvdXBOYW1lXG4gICovXG4gIGNyZWF0ZUdyb3VwKGdyb3VwTmFtZSkge1xuICAgIHRoaXMuY29udGV4dC5ncm91cHNbZ3JvdXBOYW1lXSA9IFtdO1xuICAgIHRoaXMuY29udGV4dC5zYXZlR3JvdXBzKCk7XG4gIH1cblxuICBkZWxldGVHcm91cChncm91cE5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5jb250ZXh0Lmdyb3Vwc1tncm91cE5hbWVdO1xuICAgIHRoaXMuY29udGV4dC5zYXZlR3JvdXBzKCk7XG4gIH1cblxuICAvKipcbiAgKiBBZGRzIHRoZSBnaXZlbiB1c2VyIGVtYWlsIHRvIHRoZSBncm91cCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJFbWFpbFxuICAqIEBwYXJhbSAge1N0cmluZ30gIGdyb3VwTmFtZVxuICAqL1xuICBhZGRUb0dyb3VwKGdyb3VwTmFtZSwgdXNlckVtYWlsKSB7XG4gICAgbGV0IG15R3JvdXBzID0gdGhpcy5jb250ZXh0Lmdyb3VwcztcbiAgICBpZiAobXlHcm91cHNbZ3JvdXBOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAobXlHcm91cHNbZ3JvdXBOYW1lXS5pbmRleE9mKHVzZXJFbWFpbCkgPT09IC0xKSB7XG4gICAgICAgIG15R3JvdXBzW2dyb3VwTmFtZV0ucHVzaCh1c2VyRW1haWwpO1xuICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZUdyb3VwcygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignR3JvdXAgXCInICsgZ3JvdXBOYW1lICsgJ1wiIGRvZXMgbm90IGV4aXN0IScpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUZyb21Hcm91cChncm91cE5hbWUsIHVzZXJFbWFpbCkge1xuICAgIGxldCBncm91cCA9IHRoaXMuY29udGV4dC5ncm91cHNbZ3JvdXBOYW1lXTtcblxuICAgIGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKHVzZXJFbWFpbCksIDEpO1xuICAgIHRoaXMuY29udGV4dC5zYXZlR3JvdXBzKCk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY3lFbmdpbmU7XG4iLCJpbXBvcnQge2dldFVzZXJFbWFpbEZyb21VUkwsIGlzRGF0YU9iamVjdFVSTCwgcmVtb3ZlUGF0aEZyb21VUkx9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBPcGVyYXRvcnMgZnJvbSAnLi9PcGVyYXRvcnMnO1xuXG5jbGFzcyBSdWxlIHtcblxuICBjb25zdHJ1Y3RvcihhdXRob3Jpc2UsIGNvbmRpdGlvbiwgcHJpb3JpdHksIHNjb3BlLCB0YXJnZXQpIHtcbiAgICB0aGlzLm9wZXJhdG9ycyA9IG5ldyBPcGVyYXRvcnMoKTtcbiAgICB0aGlzLmF1dGhvcmlzZSA9IGF1dGhvcmlzZTtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dCwgbWVzc2FnZSkge1xuICAgIGxldCBoeXBlcnR5TmFtZTtcbiAgICBzd2l0Y2ggKHRoaXMuc2NvcGUpIHtcbiAgICAgIGNhc2UgJ2dsb2JhbCc6XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdoeXBlcnR5JzpcbiAgICAgICAgaWYgKGlzRGF0YU9iamVjdFVSTChtZXNzYWdlLmZyb20pKSB7XG4gICAgICAgICAgbGV0IHJlcG9ydGVyID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKHJlbW92ZVBhdGhGcm9tVVJMKG1lc3NhZ2UuZnJvbSkpO1xuICAgICAgICAgIGlmIChyZXBvcnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoeXBlcnR5TmFtZSA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlOYW1lKHJlcG9ydGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG1lc3NhZ2UuZnJvbS5zcGxpdCgnOi8vJylbMF0gPT09ICdoeXBlcnR5Jykge1xuICAgICAgICAgICAgaHlwZXJ0eU5hbWUgPSBjb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShyZW1vdmVQYXRoRnJvbVVSTChtZXNzYWdlLmZyb20pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh5cGVydHlOYW1lID09PSB0aGlzLnRhcmdldCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGF0YU9iamVjdFVSTChtZXNzYWdlLnRvKSkge1xuICAgICAgICAgIGxldCByZXBvcnRlciA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhyZW1vdmVQYXRoRnJvbVVSTChtZXNzYWdlLnRvKSk7XG4gICAgICAgICAgaWYgKHJlcG9ydGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGh5cGVydHlOYW1lID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUocmVwb3J0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobWVzc2FnZS50by5zcGxpdCgnOi8vJylbMF0gPT09ICdoeXBlcnR5Jykge1xuICAgICAgICAgICAgaHlwZXJ0eU5hbWUgPSBjb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShyZW1vdmVQYXRoRnJvbVVSTChtZXNzYWdlLnRvKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoeXBlcnR5TmFtZSA9PT0gdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnTm90IEFwcGxpY2FibGUnO1xuXG4gICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgbGV0IG93bmVyO1xuXG4gICAgICAgIGlmIChpc0RhdGFPYmplY3RVUkwobWVzc2FnZS5mcm9tKSkge1xuICAgICAgICAgIGxldCByZXBvcnRlciA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhyZW1vdmVQYXRoRnJvbVVSTChtZXNzYWdlLmZyb20pKTtcbiAgICAgICAgICBvd25lciA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihyZXBvcnRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG1lc3NhZ2UuZnJvbS5zcGxpdCgnOi8vJylbMF0gPT09ICdoeXBlcnR5Jykge1xuICAgICAgICAgICAgb3duZXIgPSBjb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIocmVtb3ZlUGF0aEZyb21VUkwobWVzc2FnZS5mcm9tKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvd25lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb3duZXIgPSBnZXRVc2VyRW1haWxGcm9tVVJMKG93bmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3duZXIgPT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEYXRhT2JqZWN0VVJMKG1lc3NhZ2UudG8pKSB7XG4gICAgICAgICAgbGV0IHJlcG9ydGVyID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKHJlbW92ZVBhdGhGcm9tVVJMKG1lc3NhZ2UudG8pKTtcbiAgICAgICAgICBvd25lciA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihyZXBvcnRlcik7XG4gICAgICAgICAgaWYgKG93bmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG93bmVyID0gZ2V0VXNlckVtYWlsRnJvbVVSTChvd25lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChtZXNzYWdlLnRvLnNwbGl0KCc6Ly8nKVswXSA9PT0gJ2h5cGVydHknKSB7XG4gICAgICAgICAgICBvd25lciA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihyZW1vdmVQYXRoRnJvbVVSTChtZXNzYWdlLnRvKSk7XG4gICAgICAgICAgICBpZiAob3duZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBvd25lciA9IGdldFVzZXJFbWFpbEZyb21VUkwob3duZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3duZXIgPT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ05vdCBBcHBsaWNhYmxlJztcbiAgICB9XG4gICAgaWYgKHRoaXMuY29uZGl0aW9uLmlzQXBwbGljYWJsZShjb250ZXh0LCBtZXNzYWdlLCB0aGlzLnNjb3BlLCB0aGlzLnRhcmdldCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmF1dGhvcmlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdOb3QgQXBwbGljYWJsZSc7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bGU7XG4iLCJpbXBvcnQgQ29tYmluaW5nQWxnb3JpdGhtIGZyb20gJy4uL0NvbWJpbmluZ0FsZ29yaXRobSc7XG5cbmNsYXNzIERlbnlPdmVycmlkZXMgZXh0ZW5kcyBDb21iaW5pbmdBbGdvcml0aG0ge1xuXG4gIGV2YWx1YXRlKGluZGl2aWR1YWxSZXN1bHRzKSB7XG4gICAgaWYgKGluZGl2aWR1YWxSZXN1bHRzLmluZGV4T2YoZmFsc2UpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5kaXZpZHVhbFJlc3VsdHMuaW5kZXhPZih0cnVlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ05vdCBBcHBsaWNhYmxlJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBEZW55T3ZlcnJpZGVzO1xuIiwiaW1wb3J0IENvbWJpbmluZ0FsZ29yaXRobSBmcm9tICcuLi9Db21iaW5pbmdBbGdvcml0aG0nO1xuXG5jbGFzcyBGaXJzdEFwcGxpY2FibGUgZXh0ZW5kcyBDb21iaW5pbmdBbGdvcml0aG0ge1xuXG4gIGV2YWx1YXRlKGluZGl2aWR1YWxSZXN1bHRzKSB7XG4gICAgZm9yIChsZXQgaSBpbiBpbmRpdmlkdWFsUmVzdWx0cykge1xuICAgICAgaWYgKGluZGl2aWR1YWxSZXN1bHRzW2ldICE9PSAnTm90IEFwcGxpY2FibGUnKSB7XG4gICAgICAgIHJldHVybiBpbmRpdmlkdWFsUmVzdWx0c1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ05vdCBBcHBsaWNhYmxlJztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaXJzdEFwcGxpY2FibGU7XG4iLCJpbXBvcnQgQ29uZGl0aW9uIGZyb20gJy4vQ29uZGl0aW9uJztcbmltcG9ydCBPcGVyYXRvcnMgZnJvbSAnLi4vT3BlcmF0b3JzJztcbmltcG9ydCBTdWJzY3JpcHRpb25Db25kaXRpb24gZnJvbSAnLi9TdWJzY3JpcHRpb25Db25kaXRpb24nO1xuXG5jbGFzcyBBZHZhbmNlZENvbmRpdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoY29uZGl0aW9uKSB7XG4gICAgdGhpcy5vcGVyYXRvcnMgPSBuZXcgT3BlcmF0b3JzKCk7XG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gIH1cblxuICBpc0FwcGxpY2FibGUoY29udGV4dCwgbWVzc2FnZSwgc2NvcGUsIHRhcmdldCwgb3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKCFvcGVyYXRvcikge1xuICAgICAgb3BlcmF0b3IgPSB0aGlzLmNvbmRpdGlvblswXTtcbiAgICAgIGxlZnQgPSB0aGlzLmNvbmRpdGlvblsxXTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5jb25kaXRpb25bMl07XG4gICAgfVxuXG4gICAgd2hpbGUgKCEobGVmdCBpbnN0YW5jZW9mIENvbmRpdGlvbikgJiAhKGxlZnQgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb25Db25kaXRpb24pICYgKHR5cGVvZiBsZWZ0ICE9PSAnYm9vbGVhbicpKSB7XG4gICAgICBsZWZ0ID0gdGhpcy5pc0FwcGxpY2FibGUoY29udGV4dCwgbWVzc2FnZSwgc2NvcGUsIHRhcmdldCwgbGVmdFswXSwgbGVmdFsxXSwgbGVmdFsyXSk7XG4gICAgfVxuICAgIGlmIChyaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3aGlsZSAoIShyaWdodCBpbnN0YW5jZW9mIENvbmRpdGlvbikgJiAhKHJpZ2h0IGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uQ29uZGl0aW9uKSAmICh0eXBlb2YgcmlnaHQgIT09ICdib29sZWFuJykpIHtcbiAgICAgICAgcmlnaHQgPSB0aGlzLmlzQXBwbGljYWJsZShjb250ZXh0LCBtZXNzYWdlLCBzY29wZSwgdGFyZ2V0LCByaWdodFswXSwgcmlnaHRbMV0sIHJpZ2h0WzJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0TGVmdCA9ICh0eXBlb2YgbGVmdCA9PT0gJ2Jvb2xlYW4nKSA/IGxlZnQgOiBsZWZ0LmlzQXBwbGljYWJsZShjb250ZXh0LCBtZXNzYWdlLCBzY29wZSwgdGFyZ2V0KTtcbiAgICBsZXQgcmVzdWx0UmlnaHQ7XG4gICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc3VsdFJpZ2h0ID0gKHR5cGVvZiByaWdodCA9PT0gJ2Jvb2xlYW4nKSA/IHJpZ2h0IDogcmlnaHQuaXNBcHBsaWNhYmxlKGNvbnRleHQsIG1lc3NhZ2UsIHNjb3BlLCB0YXJnZXQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcGVyYXRvcnNbb3BlcmF0b3JdKFtyZXN1bHRMZWZ0LCByZXN1bHRSaWdodF0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWR2YW5jZWRDb25kaXRpb247XG4iLCJpbXBvcnQgT3BlcmF0b3JzIGZyb20gJy4uL09wZXJhdG9ycyc7XG5cbmNsYXNzIENvbmRpdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoYXR0cmlidXRlLCBvcGVyYXRvciwgcGFyYW1zKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGU7XG4gICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMub3BlcmF0b3JzID0gbmV3IE9wZXJhdG9ycygpO1xuICB9XG5cbiAgaXNBcHBsaWNhYmxlKGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICBjb250ZXh0W3RoaXMuYXR0cmlidXRlXSA9IHsgbWVzc2FnZTogbWVzc2FnZSB9O1xuICAgIGxldCB2YWx1ZSA9IGNvbnRleHRbdGhpcy5hdHRyaWJ1dGVdO1xuICAgIGxldCB0ZW1wUGFyYW07XG4gICAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICdpbicpIHtcbiAgICAgIGlmICh0aGlzLnBhcmFtcyA9PT0gJ3ByZWF1dGhvcmlzZWQnKSB7XG4gICAgICAgIGxldCBkYXRhT2JqZWN0VVJMID0gbWVzc2FnZS50by5zcGxpdCgnLycpO1xuICAgICAgICBkYXRhT2JqZWN0VVJMLnBvcCgpO1xuICAgICAgICBkYXRhT2JqZWN0VVJMID0gZGF0YU9iamVjdFVSTFswXSArICcvLycgKyBkYXRhT2JqZWN0VVJMWzJdO1xuICAgICAgICB0ZW1wUGFyYW0gPSBjb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5nZXRQcmVBdXRoU3Vic2NyaWJlcnMoZGF0YU9iamVjdFVSTCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wUGFyYW0gPSBjb250ZXh0LnBvbGljeUVuZ2luZS5nZXRHcm91cCh0aGlzLnBhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGVtcFBhcmFtKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW3RoaXMucGFyYW1zLCB2YWx1ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW3RlbXBQYXJhbSwgdmFsdWVdKTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb247XG4iLCJpbXBvcnQgQ29uZGl0aW9uIGZyb20gJy4vQ29uZGl0aW9uJztcblxuY2xhc3MgU3Vic2NyaXB0aW9uQ29uZGl0aW9uIGV4dGVuZHMgQ29uZGl0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGUsIG9wZXJhdG9yLCBwYXJhbXMpIHtcbiAgICBzdXBlcihhdHRyaWJ1dGUsIG9wZXJhdG9yLCBwYXJhbXMpO1xuICB9XG5cbiAgaXNBcHBsaWNhYmxlKGNvbnRleHQsIG1lc3NhZ2UsIHNjb3BlLCB0YXJnZXQpIHtcbiAgICBsZXQgaXNTdWJzY3JpcHRpb24gPSBtZXNzYWdlLnR5cGUgPT09ICdzdWJzY3JpYmUnO1xuICAgIGxldCBpc0Zyb21SZW1vdGVTTSA9IGNvbnRleHQuaXNGcm9tUmVtb3RlU00obWVzc2FnZS5mcm9tKTtcbiAgICBpZiAoaXNTdWJzY3JpcHRpb24gJiBpc0Zyb21SZW1vdGVTTSkge1xuICAgICAgcmV0dXJuIHN1cGVyLmlzQXBwbGljYWJsZShjb250ZXh0LCBtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdWJzY3JpcHRpb25Db25kaXRpb247XG4iLCJpbXBvcnQgQWR2YW5jZWRDb25kaXRpb24gZnJvbSAnLi4vY29uZGl0aW9ucy9BZHZhbmNlZENvbmRpdGlvbic7XG5pbXBvcnQgQ29uZGl0aW9uIGZyb20gJy4uL2NvbmRpdGlvbnMvQ29uZGl0aW9uJ1xuaW1wb3J0IFBvbGljeSBmcm9tICcuLi9Qb2xpY3knO1xuaW1wb3J0IFJ1bGUgZnJvbSAnLi4vUnVsZSc7XG5pbXBvcnQgU3Vic2NyaXB0aW9uQ29uZGl0aW9uIGZyb20gJy4uL2NvbmRpdGlvbnMvU3Vic2NyaXB0aW9uQ29uZGl0aW9uJztcblxuY2xhc3MgVXNlclBvbGljeSBleHRlbmRzIFBvbGljeSB7XG4gIGNvbnN0cnVjdG9yKGtleSwgcnVsZXMsIGFjdGlvbnMsIGNvbWJpbmluZ0FsZ29yaXRobSkge1xuICAgIGlmICghY29tYmluaW5nQWxnb3JpdGhtKSB7XG4gICAgICBjb21iaW5pbmdBbGdvcml0aG0gPSAnZGVueU92ZXJyaWRlcyc7XG4gICAgfVxuICAgIHN1cGVyKGtleSwgcnVsZXMsIGFjdGlvbnMsIGNvbWJpbmluZ0FsZ29yaXRobSk7XG4gIH1cblxuICBjcmVhdGVSdWxlKHR5cGUsIGF1dGhvcmlzZSwgY29uZGl0aW9uLCBzY29wZSwgdGFyZ2V0LCBwcmlvcml0eSkge1xuICAgIGlmICghKGNvbmRpdGlvbiBpbnN0YW5jZW9mIENvbmRpdGlvbikpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdhZHZhbmNlZCc6XG4gICAgICAgICAgY29uZGl0aW9uID0gbmV3IEFkdmFuY2VkQ29uZGl0aW9uKGNvbmRpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NpbXBsZSc6XG4gICAgICAgICAgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbihjb25kaXRpb25bMF0sIGNvbmRpdGlvblsxXSwgY29uZGl0aW9uWzJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3Vic2NyaXB0aW9uJzpcbiAgICAgICAgICBjb25kaXRpb24gPSBuZXcgU3Vic2NyaXB0aW9uQ29uZGl0aW9uKGNvbmRpdGlvblswXSwgY29uZGl0aW9uWzFdLCBjb25kaXRpb25bMl0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJpb3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJpb3JpdHkgPSB0aGlzLmdldExhc3RQcmlvcml0eSgpICsgMTtcbiAgICB9XG4gICAgbGV0IHJ1bGUgPSBuZXcgUnVsZShhdXRob3Jpc2UsIGNvbmRpdGlvbiwgcHJpb3JpdHksIHNjb3BlLCB0YXJnZXQpO1xuICAgIHRoaXMucnVsZXMucHVzaChydWxlKTtcbiAgfVxuXG4gIGRlbGV0ZVJ1bGUocnVsZSkge1xuICAgIGxldCBpbmRleFRvUmVtb3ZlID0gdGhpcy5ydWxlcy5pbmRleE9mKHJ1bGUpO1xuICAgIHRoaXMucnVsZXMuc3BsaWNlKGluZGV4VG9SZW1vdmUsIDEpO1xuICB9XG5cbiAgZ2V0TGFzdFByaW9yaXR5KCkge1xuICAgIGxldCBwcmlvcml0aWVzID0gW107XG5cbiAgICBpZiAodGhpcy5ydWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5ydWxlcykge1xuICAgICAgICBwcmlvcml0aWVzLnB1c2godGhpcy5ydWxlc1tpXS5wcmlvcml0eSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgcHJpb3JpdGllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cblxuICBnZXRSdWxlQnlQcmlvcml0eShwcmlvcml0eSkge1xuICAgIGZvciAobGV0IGkgaW4gdGhpcy5ydWxlcykge1xuICAgICAgaWYgKHRoaXMucnVsZXNbaV0ucHJpb3JpdHkgPT0gcHJpb3JpdHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdSdWxlIHdpdGggcHJpb3JpdHkgJyArIHByaW9yaXR5ICsgJyBkb2VzIG5vdCBleGlzdCEnKVxuICB9XG5cbiAgaGFzU3Vic2NyaXB0aW9uUnVsZSgpIHtcbiAgICBmb3IgKGxldCBpIGluIHRoaXMucnVsZXMpIHtcbiAgICAgIGlmICh0aGlzLnJ1bGVzW2ldLnNjb3BlICE9PSAnZ2xvYmFsJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJ1bGVzW2ldLmNvbmRpdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbkNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bGVzW2ldLmNvbmRpdGlvbiBpbnN0YW5jZW9mIEFkdmFuY2VkQ29uZGl0aW9uKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiBpbiB0aGlzLnJ1bGVzW2ldLmNvbmRpdGlvbi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVzW2ldLmNvbmRpdGlvbi5jb25kaXRpb25bal0gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb25Db25kaXRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNvcnRSdWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgbGV0IHggPSBhWydwcmlvcml0eSddOyBsZXQgeSA9IGJbJ3ByaW9yaXR5J107XG4gICAgICAgIHJldHVybiAoKHggPCB5KSA/IC0xIDogKCh4ID4geSkgPyAxIDogMCkpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJQb2xpY3k7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG4vKipcbiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWxcbiAqIEBtb2R1bGUgdXRpbHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIGRpdmlkZVVSTFxuICogQHR5cGUgT2JqZWN0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMXG4gKi9cblxuLyoqXG4gKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHlcbiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzXG4gKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7XG5cbiAgaWYgKCF1cmwpIHRocm93IEVycm9yKCdVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Jyk7XG5cbiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XFwvXFwvKD86XFwuKT8oWy1hLXpBLVowLTlAOiUuX1xcK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYikqKFxcL1tcXC9cXGRcXHdcXC4tXSopKig/OltcXD9dKSooLispKi9naTtcbiAgbGV0IHJlID0gLyhbYS16QS1aLV0qKTpcXC9cXC8oPzpcXC4pPyhbLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cXCt+Iz1cXC9dKikvZ2k7XG4gIGxldCBzdWJzdCA9ICckMSwkMiwkMyc7XG4gIGxldCBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTtcblxuICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7XG4gICAgcGFydHNbMF0gPSAnaHR0cHMnO1xuICAgIHBhcnRzWzFdID0gdXJsO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHtcbiAgICB0eXBlOiBwYXJ0c1swXSxcbiAgICBkb21haW46IHBhcnRzWzFdLFxuICAgIGlkZW50aXR5OiBwYXJ0c1syXVxuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVFbWFpbChlbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpO1xuXG4gIGxldCByZXN1bHQgPSB7XG4gICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLFxuICAgIGRvbWFpbjogZW1haWwuc3Vic3RyaW5nKGluZGV4T2ZBdCArIDEsIGVtYWlsLmxlbmd0aClcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGFuIE9iamVjdCBpcyBlbXB0eVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIHN0YXR1cyBvZiBPYmplY3QsIGVtcHR5IG9yIG5vdCAodHJ1ZXxmYWxzZSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMCA/IGZhbHNlIDogdHJ1ZTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xuICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uXG4gIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUGF0aEZyb21VUkwodXJsKSB7XG4gIGxldCBzcGxpdFVSTCA9IHVybC5zcGxpdCgnLycpO1xuICByZXR1cm4gc3BsaXRVUkxbMF0gKyAnLy8nICsgc3BsaXRVUkxbMl0gKyAnLycgKyBzcGxpdFVSTFszXTtcbn1cblxuLyoqXG4gKiBPYnRhaW5zIHRoZSB1c2VyIFVSTCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gZW1haWxcbiAqIEBwYXJhbSAge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsXG4gKiBAcmV0dXJuIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclVSTEZyb21FbWFpbCh1c2VyRW1haWwpIHtcbiAgbGV0IGluZGV4T2ZBdCA9IHVzZXJFbWFpbC5pbmRleE9mKCdAJyk7XG4gIHJldHVybiAndXNlcjovLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKGluZGV4T2ZBdCArIDEsIHVzZXJFbWFpbC5sZW5ndGgpICsgJy8nICsgdXNlckVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpO1xufVxuXG4vKipcbiAqIE9idGFpbnMgdGhlIHVzZXIgZW1haWwgdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIFVSTFxuICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkxcbiAqIEByZXR1cm4ge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRW1haWxGcm9tVVJMKHVzZXJVUkwpIHtcbiAgbGV0IHVybCA9IGRpdmlkZVVSTCh1c2VyVVJMKTtcbiAgcmV0dXJuIHVybC5pZGVudGl0eS5yZXBsYWNlKCcvJywgJycpICsgJ0AnICsgdXJsLmRvbWFpbjsgLy8gaWRlbnRpdHkgZmllbGQgaGFzICcvZXhhbXBsZUlEJyBpbnN0ZWFkIG9mICdleGFtcGxlSUQnXG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgdXNlciBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIFVSTCBmb3JtYXQsIGlmIG5vdCwgY29udmVydCB0byBVUkwgZm9ybWF0XG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgaWRlbnRpZmllciAgdXNlciBpZGVudGlmaWVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgdXNlclVSTCAgICB0aGUgdXNlciBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1VzZXJVUkwoaWRlbnRpZmllcikge1xuXG4gIC8vIGNoZWNrIGlmIHRoZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIHVybCBmb3JtYXRcbiAgaWYgKGlkZW50aWZpZXIuc3Vic3RyaW5nKDAsIDcpID09PSAndXNlcjovLycpIHtcbiAgICBsZXQgZGl2aWRlZFVSTCA9IGRpdmlkZVVSTChpZGVudGlmaWVyKTtcblxuICAgIC8vY2hlY2sgaWYgdGhlIHVybCBpcyB3ZWxsIGZvcm1hdGVkXG4gICAgaWYgKGRpdmlkZWRVUkwuZG9tYWluICYmIGRpdmlkZWRVUkwuaWRlbnRpdHkpIHtcbiAgICAgIHJldHVybiBpZGVudGlmaWVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyAndXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCc7XG4gICAgfVxuXG4gIC8vaWYgbm90LCBjb252ZXJ0IHRoZSB1c2VyIGVtYWlsIHRvIFVSTCBmb3JtYXRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0VXNlclVSTEZyb21FbWFpbChpZGVudGlmaWVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRhT2JqZWN0VVJMKHVybCkge1xuICBsZXQgc2NoZW1hc1RvSWdub3JlID0gWydkb21haW4taWRwJywgJ3J1bnRpbWUnLCAnZG9tYWluJywgJ2h5cGVydHknXTtcbiAgbGV0IHNwbGl0VVJMID0gKHVybCkuc3BsaXQoJzovLycpO1xuICBsZXQgdXJsU2NoZW1hID0gc3BsaXRVUkxbMF07XG5cbiAgcmV0dXJuIHNjaGVtYXNUb0lnbm9yZS5pbmRleE9mKHVybFNjaGVtYSkgPT09IC0xO1xufVxuIl19\n"],"sourceRoot":"/source/"}