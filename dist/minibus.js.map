{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/babel-runtime/core-js/object/create.js","minibus.js","node_modules/babel-runtime/core-js/object/define-property.js","node_modules/babel-runtime/core-js/object/get-prototype-of.js","node_modules/babel-runtime/core-js/object/set-prototype-of.js","node_modules/babel-runtime/core-js/symbol.js","node_modules/babel-runtime/helpers/classCallCheck.js","node_modules/babel-runtime/helpers/createClass.js","node_modules/babel-runtime/helpers/inherits.js","node_modules/babel-runtime/helpers/possibleConstructorReturn.js","node_modules/babel-runtime/helpers/typeof.js","node_modules/core-js/library/fn/object/create.js","node_modules/core-js/library/fn/object/define-property.js","node_modules/core-js/library/fn/object/get-prototype-of.js","node_modules/core-js/library/fn/object/set-prototype-of.js","node_modules/core-js/library/fn/symbol/index.js","node_modules/core-js/library/modules/$.a-function.js","node_modules/core-js/library/modules/$.an-object.js","node_modules/core-js/library/modules/$.cof.js","node_modules/core-js/library/modules/$.core.js","node_modules/core-js/library/modules/$.ctx.js","node_modules/core-js/library/modules/$.defined.js","node_modules/core-js/library/modules/$.descriptors.js","node_modules/core-js/library/modules/$.enum-keys.js","node_modules/core-js/library/modules/$.export.js","node_modules/core-js/library/modules/$.fails.js","node_modules/core-js/library/modules/$.get-names.js","node_modules/core-js/library/modules/$.global.js","node_modules/core-js/library/modules/$.has.js","node_modules/core-js/library/modules/$.hide.js","node_modules/core-js/library/modules/$.iobject.js","node_modules/core-js/library/modules/$.is-array.js","node_modules/core-js/library/modules/$.is-object.js","node_modules/core-js/library/modules/$.js","node_modules/core-js/library/modules/$.keyof.js","node_modules/core-js/library/modules/$.library.js","node_modules/core-js/library/modules/$.object-sap.js","node_modules/core-js/library/modules/$.property-desc.js","node_modules/core-js/library/modules/$.redefine.js","node_modules/core-js/library/modules/$.set-proto.js","node_modules/core-js/library/modules/$.set-to-string-tag.js","node_modules/core-js/library/modules/$.shared.js","node_modules/core-js/library/modules/$.to-iobject.js","node_modules/core-js/library/modules/$.to-object.js","node_modules/core-js/library/modules/$.uid.js","node_modules/core-js/library/modules/$.wks.js","node_modules/core-js/library/modules/es6.object.get-prototype-of.js","node_modules/core-js/library/modules/es6.object.set-prototype-of.js","node_modules/core-js/library/modules/es6.symbol.js","src/bus/Bus.js","src/bus/MiniBus.js","src/minibus.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","minibus","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/object/create","2","core-js/library/fn/object/define-property","3","core-js/library/fn/object/get-prototype-of","4","core-js/library/fn/object/set-prototype-of","5","core-js/library/fn/symbol","6","instance","Constructor","TypeError","7","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","8","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","value","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","9","_typeof2","_typeof3","ReferenceError","../helpers/typeof","10","_Symbol","babel-runtime/core-js/symbol","11","$","P","D","create","../../modules/$","12","it","desc","setDesc","13","Object","getPrototypeOf","../../modules/$.core","../../modules/es6.object.get-prototype-of","14","setPrototypeOf","../../modules/es6.object.set-prototype-of","15","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","16","17","isObject","./$.is-object","18","toString","slice","19","core","version","__e","20","aFunction","fn","that","undefined","b","c","apply","arguments","./$.a-function","21","22","defineProperty","get","./$.fails","23","keys","getKeys","getSymbols","symbols","isEnum","push","./$","24","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","C","param","Function","./$.core","./$.ctx","./$.global","25","exec","26","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","27","Math","__g","28","hasOwnProperty","29","createDesc","object","./$.descriptors","./$.property-desc","30","cof","propertyIsEnumerable","split","./$.cof","31","Array","isArray","arg","32","33","$Object","getProto","getDesc","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","34","el","O","index","35","36","fails","KEY","exp","./$.export","37","bitmap","38","./$.hide","39","anObject","check","proto","set","test","buggy","./$.an-object","40","def","has","TAG","tag","stat","./$.has","./$.wks","41","SHARED","store","42","IObject","defined","./$.defined","./$.iobject","43","44","id","px","random","concat","45","uid","./$.shared","./$.uid","46","toObject","$getPrototypeOf","./$.object-sap","./$.to-object","47","./$.set-proto","48","49","DESCRIPTORS","redefine","$fails","shared","setToStringTag","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","JSON","_stringify","stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","_k","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","./$.library","./$.redefine","./$.set-to-string-tag","50","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","Bus","_this","_msgId","_subscriptions","_responseTimeOut","_responseCallbacks","_registerExternalListener","url","listener","item","MsgListener","itemList","msgId","responseListener","outUrl","inUrl","_this2","thisListn","addListener","msg","postMessage","targetListn","thisListener","targetListener","unbind","remove","_publishOn","sub","_callback","inMsg","responseCallback","responseId","from","setTimeout","responseFun","errorMsg","body","to","_onResponse","_publishOnDefault","subscriptions","callback","_url","subs","indexOf","splice","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","51","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Bus2","_Bus3","MiniBus","_Bus","_genId","_responseCallback","_onPostMessage","startsWith","./Bus","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","52","_MiniBus","_MiniBus2","./bus/MiniBus"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,KAAAJ,EAAAK,QAAAV,MAAA,WAAA,MAAA,SAAAW,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAhB,GAAA,GAAAqB,OAAA,uBAAAL,EAAA,IAAA,MAAAhB,GAAAsB,KAAA,mBAAAtB,EAAA,GAAAuB,GAAAV,EAAAG,IAAAf,WAAAW,GAAAI,GAAA,GAAAQ,KAAAD,EAAAtB,QAAA,SAAAU,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAtB,QAAAU,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAf,QAAA,IAAA,GAAAmB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAjB,EAAAD,GCAAC,EAAAD,SAAA0B,UAAAR,EAAA,oCAAAS,YAAA,KCEGC,mCAAmC,KAAKC,GAAG,SAASX,EAAQjB,EAAOD,GCFtEC,EAAAD,SAAA0B,UAAAR,EAAA,6CAAAS,YAAA,KDIGG,4CAA4C,KAAKC,GAAG,SAASb,EAAQjB,EAAOD,GEJ/EC,EAAAD,SAAA0B,UAAAR,EAAA,8CAAAS,YAAA,KFMGK,6CAA6C,KAAKC,GAAG,SAASf,EAAQjB,EAAOD,GGNhFC,EAAAD,SAAA0B,UAAAR,EAAA,8CAAAS,YAAA,KHQGO,6CAA6C,KAAKC,GAAG,SAASjB,EAAQjB,EAAOD,GIRhFC,EAAAD,SAAA0B,UAAAR,EAAA,6BAAAS,YAAA,KJUGS,4BAA4B,KAAKC,GAAG,SAASnB,EAAQjB,EAAOD,GKV/D,YAEAA,GAAA2B,YAAA,EAEA3B,EAAAA,WAAA,SAAAsC,EAAAC,GACA,KAAAD,YAAAC,IACA,KAAA,IAAAC,WAAA,2CLcMC,GAAG,SAASvB,EAAQjB,EAAOD,GMpBjC,YAQA,SAAA0C,GAAAC,GAAA,MAAAA,IAAAA,EAAAhB,WAAAgB,GAAAjB,UAAAiB,GANA3C,EAAA2B,YAAA,CAEA,IAAAiB,GAAA1B,EAAA,qCAEA2B,EAAAH,EAAAE,EAIA5C,GAAAA,WAAA,WACA,QAAA8C,GAAAC,EAAAC,GACA,IAAA,GAAA7B,GAAA,EAAAA,EAAA6B,EAAAxB,OAAAL,IAAA,CACA,GAAA8B,GAAAD,EAAA7B,EACA8B,GAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,SAAAF,KAAAA,EAAAG,UAAA,IACA,EAAAP,EAAAA,YAAAE,EAAAE,EAAAI,IAAAJ,IAIA,MAAA,UAAAV,EAAAe,EAAAC,GAGA,MAFAD,IAAAR,EAAAP,EAAAiB,UAAAF,GACAC,GAAAT,EAAAP,EAAAgB,GACAhB,QNwBGkB,oCAAoC,IAAIC,GAAG,SAASxC,EAAQjB,EAAOD,GOhDtE,YAEA,IAAA2D,GAAAzC,EAAA,uCAAA,WAEA0C,EAAA1C,EAAA,iDAAA,UAEAlB,GAAA,WAAA,SAAA6D,EAAAC,GACA,GAAA,kBAAAA,IAAA,OAAAA,EACA,KAAA,IAAAtB,WAAA,iEAAAsB,GAGAD,GAAAL,UAAAG,EAAAG,GAAAA,EAAAN,WACAO,aACAC,MAAAH,EACAX,YAAA,EACAE,UAAA,EACAD,cAAA,KAGAW,IAAAF,EAAAA,EAAAC,EAAAC,GAAAD,EAAAI,UAAAH,IAGA9D,EAAA2B,YAAA,IPkDGuC,sCAAsC,EAAEC,gDAAgD,IAAIC,GAAG,SAASlD,EAAQjB,EAAOD,GQxE1H,YAQA,SAAA0C,GAAAC,GAAA,MAAAA,IAAAA,EAAAhB,WAAAgB,GAAAjB,UAAAiB,GANA3C,EAAA2B,YAAA,CAEA,IAAA0C,GAAAnD,EAAA,qBAEAoD,EAAA5B,EAAA2B,EAIArE,GAAAA,WAAA,SAAAO,EAAAgB,GACA,IAAAhB,EACA,KAAA,IAAAgE,gBAAA,4DAGA,QAAAhD,GAAA,YAAA,mBAAAA,GAAA,aAAA,EAAA+C,EAAAA,YAAA/C,KAAA,kBAAAA,GAAAhB,EAAAgB,KR2EGiD,oBAAoB,KAAKC,IAAI,SAASvD,EAAQjB,EAAOD,GS1FxD,YAEA,IAAA0E,GAAAxD,EAAA,gCAAA,UAEAlB,GAAA,WAAA,SAAA2C,GACA,MAAAA,IAAAA,EAAAoB,cAAAW,EAAA,eAAA/B,IAGA3C,EAAA2B,YAAA,IT4FGgD,+BAA+B,IAAIC,IAAI,SAAS1D,EAAQjB,EAAOD,GUpGlE,GAAA6E,GAAA3D,EAAA,kBACAjB,GAAAD,QAAA,SAAA8E,EAAAC,GACA,MAAAF,GAAAG,OAAAF,EAAAC,MVuGGE,kBAAkB,KAAKC,IAAI,SAAShE,EAAQjB,EAAOD,GWzGtD,GAAA6E,GAAA3D,EAAA,kBACAjB,GAAAD,QAAA,SAAAmF,EAAA9B,EAAA+B,GACA,MAAAP,GAAAQ,QAAAF,EAAA9B,EAAA+B,MX4GGH,kBAAkB,KAAKK,IAAI,SAASpE,EAAQjB,EAAOD,GY9GtDkB,EAAA,6CACAjB,EAAAD,QAAAkB,EAAA,wBAAAqE,OAAAC,iBZgHGC,uBAAuB,GAAGC,4CAA4C,KAAKC,IAAI,SAASzE,EAAQjB,EAAOD,GajH1GkB,EAAA,6CACAjB,EAAAD,QAAAkB,EAAA,wBAAAqE,OAAAK,iBbmHGH,uBAAuB,GAAGI,4CAA4C,KAAKC,IAAI,SAAS5E,EAAQjB,EAAOD,GcpH1GkB,EAAA,4BACAA,EAAA,sCACAjB,EAAAD,QAAAkB,EAAA,wBAAA6E,SdsHGN,uBAAuB,GAAGO,qCAAqC,GAAGC,2BAA2B,KAAKC,IAAI,SAAShF,EAAQjB,EAAOD,GexHjIC,EAAAD,QAAA,SAAAmF,GACA,GAAA,kBAAAA,GAAA,KAAA3C,WAAA2C,EAAA,sBACA,OAAAA,Sf2HMgB,IAAI,SAASjF,EAAQjB,EAAOD,GgB7HlC,GAAAoG,GAAAlF,EAAA,gBACAjB,GAAAD,QAAA,SAAAmF,GACA,IAAAiB,EAAAjB,GAAA,KAAA3C,WAAA2C,EAAA,qBACA,OAAAA,MhBgIGkB,gBAAgB,KAAKC,IAAI,SAASpF,EAAQjB,EAAOD,GiBnIpD,GAAAuG,MAAAA,QAEAtG,GAAAD,QAAA,SAAAmF,GACA,MAAAoB,GAAAhF,KAAA4D,GAAAqB,MAAA,YjBsIMC,IAAI,SAASvF,EAAQjB,EAAOD,GkBzIlC,GAAA0G,GAAAzG,EAAAD,SAAA2G,QAAA,QACA,iBAAAC,OAAAA,IAAAF,QlB2IMG,IAAI,SAAS3F,EAAQjB,EAAOD,GmB3IlC,GAAA8G,GAAA5F,EAAA,iBACAjB,GAAAD,QAAA,SAAA+G,EAAAC,EAAAxF,GAEA,GADAsF,EAAAC,GACAE,SAAAD,EAAA,MAAAD,EACA,QAAAvF,GACA,IAAA,GAAA,MAAA,UAAAP,GACA,MAAA8F,GAAAxF,KAAAyF,EAAA/F,GAEA,KAAA,GAAA,MAAA,UAAAA,EAAAiG,GACA,MAAAH,GAAAxF,KAAAyF,EAAA/F,EAAAiG,GAEA,KAAA,GAAA,MAAA,UAAAjG,EAAAiG,EAAAC,GACA,MAAAJ,GAAAxF,KAAAyF,EAAA/F,EAAAiG,EAAAC,IAGA,MAAA,YACA,MAAAJ,GAAAK,MAAAJ,EAAAK,enBgJGC,iBAAiB,KAAKC,IAAI,SAASrG,EAAQjB,EAAOD,GoBhKrDC,EAAAD,QAAA,SAAAmF,GACA,GAAA8B,QAAA9B,EAAA,KAAA3C,WAAA,yBAAA2C,EACA,OAAAA,SpBoKMqC,IAAI,SAAStG,EAAQjB,EAAOD,GqBtKlCC,EAAAD,SAAAkB,EAAA,aAAA,WACA,MAAA,IAAAqE,OAAAkC,kBAAA,KAAAC,IAAA,WAAA,MAAA,MAAAzG,MrB0KG0G,YAAY,KAAKC,IAAI,SAAS1G,EAAQjB,EAAOD,GsB3KhD,GAAA6E,GAAA3D,EAAA,MACAjB,GAAAD,QAAA,SAAAmF,GACA,GAAA0C,GAAAhD,EAAAiD,QAAA3C,GACA4C,EAAAlD,EAAAkD,UACA,IAAAA,EAKA,IAJA,GAGA1E,GAHA2E,EAAAD,EAAA5C,GACA8C,EAAApD,EAAAoD,OACA9G,EAAA,EAEA6G,EAAAxG,OAAAL,GAAA8G,EAAA1G,KAAA4D,EAAA9B,EAAA2E,EAAA7G,OAAA0G,EAAAK,KAAA7E,EAEA,OAAAwE,MtB+KGM,MAAM,KAAKC,IAAI,SAASlH,EAAQjB,EAAOD,GuB3L1C,GAAAM,GAAAY,EAAA,cACAwF,EAAAxF,EAAA,YACAmH,EAAAnH,EAAA,WACAoH,EAAA,YAEAC,EAAA,SAAAC,EAAAC,EAAAC,GACA,GAQArF,GAAAsF,EAAAC,EARAC,EAAAL,EAAAD,EAAAO,EACAC,EAAAP,EAAAD,EAAAS,EACAC,EAAAT,EAAAD,EAAAW,EACAC,EAAAX,EAAAD,EAAAzD,EACAsE,EAAAZ,EAAAD,EAAAc,EACAC,EAAAd,EAAAD,EAAAgB,EACAvJ,EAAA+I,EAAArC,EAAAA,EAAA+B,KAAA/B,EAAA+B,OACA1F,EAAAgG,EAAAzI,EAAA2I,EAAA3I,EAAAmI,IAAAnI,EAAAmI,QAAAH,EAEAS,KAAAL,EAAAD,EACA,KAAApF,IAAAqF,GAEAC,GAAAE,GAAA9F,GAAAM,IAAAN,GACA4F,GAAAtF,IAAArD,KAEA4I,EAAAD,EAAA5F,EAAAM,GAAAqF,EAAArF,GAEArD,EAAAqD,GAAA0F,GAAA,kBAAAhG,GAAAM,GAAAqF,EAAArF,GAEA+F,GAAAT,EAAAN,EAAAO,EAAAtI,GAEAgJ,GAAAvG,EAAAM,IAAAuF,EAAA,SAAAY,GACA,GAAAV,GAAA,SAAAW,GACA,MAAAjJ,gBAAAgJ,GAAA,GAAAA,GAAAC,GAAAD,EAAAC,GAGA,OADAX,GAAAR,GAAAkB,EAAAlB,GACAQ,GAEAF,GAAAO,GAAA,kBAAAP,GAAAP,EAAAqB,SAAAnI,KAAAqH,GAAAA,EACAO,KAAAnJ,EAAAsI,KAAAtI,EAAAsI,QAAAjF,GAAAuF,IAIAL,GAAAO,EAAA,EACAP,EAAAS,EAAA,EACAT,EAAAW,EAAA,EACAX,EAAAzD,EAAA,EACAyD,EAAAc,EAAA,GACAd,EAAAgB,EAAA,GACAtJ,EAAAD,QAAAuI,IvB6LGoB,WAAW,GAAGC,UAAU,GAAGC,aAAa,KAAKC,IAAI,SAAS5I,EAAQjB,EAAOD,GwB1O5EC,EAAAD,QAAA,SAAA+J,GACA,IACA,QAAAA,IACA,MAAArJ,GACA,OAAA,SxB8OMsJ,IAAI,SAAS9I,EAAQjB,EAAOD,GyBjPlC,GAAAiK,GAAA/I,EAAA,kBACAgJ,EAAAhJ,EAAA,OAAAgJ,SACA3D,KAAAA,SAEA4D,EAAA,gBAAA9J,SAAAkF,OAAA6E,oBACA7E,OAAA6E,oBAAA/J,WAEAgK,EAAA,SAAAlF,GACA,IACA,MAAA+E,GAAA/E,GACA,MAAAzE,GACA,MAAAyJ,GAAA3D,SAIAvG,GAAAD,QAAA0H,IAAA,SAAAvC,GACA,MAAAgF,IAAA,mBAAA5D,EAAAhF,KAAA4D,GAAAkF,EAAAlF,GACA+E,EAAAD,EAAA9E,OzBqPGgD,MAAM,GAAGmC,iBAAiB,KAAKC,IAAI,SAASrJ,EAAQjB,EAAOD,G0BtQ9D,GAAAM,GAAAL,EAAAD,QAAA,mBAAAK,SAAAA,OAAAmK,MAAAA,KACAnK,OAAA,mBAAAE,OAAAA,KAAAiK,MAAAA,KAAAjK,KAAAmJ,SAAA,gBACA,iBAAAe,OAAAA,IAAAnK,Q1ByQMoK,IAAI,SAASxJ,EAAQjB,EAAOD,G2B5QlC,GAAA2K,MAAAA,cACA1K,GAAAD,QAAA,SAAAmF,EAAA9B,GACA,MAAAsH,GAAApJ,KAAA4D,EAAA9B,S3B+QMuH,IAAI,SAAS1J,EAAQjB,EAAOD,G4BjRlC,GAAA6E,GAAA3D,EAAA,OACA2J,EAAA3J,EAAA,oBACAjB,GAAAD,QAAAkB,EAAA,mBAAA,SAAA4J,EAAAzH,EAAAW,GACA,MAAAa,GAAAQ,QAAAyF,EAAAzH,EAAAwH,EAAA,EAAA7G,KACA,SAAA8G,EAAAzH,EAAAW,GAEA,MADA8G,GAAAzH,GAAAW,EACA8G,K5BoRG3C,MAAM,GAAG4C,kBAAkB,GAAGC,oBAAoB,KAAKC,IAAI,SAAS/J,EAAQjB,EAAOD,G6BzRtF,GAAAkL,GAAAhK,EAAA,UACAjB,GAAAD,QAAAuF,OAAA,KAAA4F,qBAAA,GAAA5F,OAAA,SAAAJ,GACA,MAAA,UAAA+F,EAAA/F,GAAAA,EAAAiG,MAAA,IAAA7F,OAAAJ,M7B6RGkG,UAAU,KAAKC,IAAI,SAASpK,EAAQjB,EAAOD,G8B/R9C,GAAAkL,GAAAhK,EAAA,UACAjB,GAAAD,QAAAuL,MAAAC,SAAA,SAAAC,GACA,MAAA,SAAAP,EAAAO,M9BmSGJ,UAAU,KAAKK,IAAI,SAASxK,EAAQjB,EAAOD,G+BtS9CC,EAAAD,QAAA,SAAAmF,GACA,MAAA,gBAAAA,GAAA,OAAAA,EAAA,kBAAAA,S/BySMwG,IAAI,SAASzK,EAAQjB,EAAOD,GgC1SlC,GAAA4L,GAAArG,MACAtF,GAAAD,SACAgF,OAAA4G,EAAA5G,OACA6G,SAAAD,EAAApG,eACAyC,UAAAkD,qBACAW,QAAAF,EAAAG,yBACA1G,QAAAuG,EAAAnE,eACAuE,SAAAJ,EAAA9I,iBACAgF,QAAA8D,EAAA/D,KACAqC,SAAA0B,EAAAxB,oBACArC,WAAA6D,EAAAK,sBACAC,QAAAC,chC6SMC,IAAI,SAASlL,EAAQjB,EAAOD,GiCxTlC,GAAA6E,GAAA3D,EAAA,OACA+I,EAAA/I,EAAA,iBACAjB,GAAAD,QAAA,SAAA8K,EAAAuB,GAMA,IALA,GAIAhJ,GAJAiJ,EAAArC,EAAAa,GACAjD,EAAAhD,EAAAiD,QAAAwE,GACA9K,EAAAqG,EAAArG,OACA+K,EAAA,EAEA/K,EAAA+K,GAAA,GAAAD,EAAAjJ,EAAAwE,EAAA0E,QAAAF,EAAA,MAAAhJ,MjC2TG8E,MAAM,GAAGmC,iBAAiB,KAAKkC,IAAI,SAAStL,EAAQjB,EAAOD,GkCnU9DC,EAAAD,SAAA,OlCqUMyM,IAAI,SAASvL,EAAQjB,EAAOD,GmCpUlC,GAAAuI,GAAArH,EAAA,cACAwF,EAAAxF,EAAA,YACAwL,EAAAxL,EAAA,YACAjB,GAAAD,QAAA,SAAA2M,EAAA5C,GACA,GAAAhD,IAAAL,EAAAnB,YAAAoH,IAAApH,OAAAoH,GACAC,IACAA,GAAAD,GAAA5C,EAAAhD,GACAwB,EAAAA,EAAAW,EAAAX,EAAAO,EAAA4D,EAAA,WAAA3F,EAAA,KAAA,SAAA6F,MnCwUGjD,WAAW,GAAGkD,aAAa,GAAGlF,YAAY,KAAKmF,IAAI,SAAS5L,EAAQjB,EAAOD,GoChV9EC,EAAAD,QAAA,SAAA+M,EAAA/I,GACA,OACAd,aAAA,EAAA6J,GACA5J,eAAA,EAAA4J,GACA3J,WAAA,EAAA2J,GACA/I,MAAAA,SpCoVMgJ,IAAI,SAAS9L,EAAQjB,EAAOD,GqCzVlCC,EAAAD,QAAAkB,EAAA,crC2VG+L,WAAW,KAAKC,IAAI,SAAShM,EAAQjB,EAAOD,GsCzV/C,GAAA8L,GAAA5K,EAAA,OAAA4K,QACA1F,EAAAlF,EAAA,iBACAiM,EAAAjM,EAAA,iBACAkM,EAAA,SAAAd,EAAAe,GAEA,GADAF,EAAAb,IACAlG,EAAAiH,IAAA,OAAAA,EAAA,KAAA7K,WAAA6K,EAAA,6BAEApN,GAAAD,SACAsN,IAAA/H,OAAAK,iBAAA,gBACA,SAAA2H,EAAAC,EAAAF,GACA,IACAA,EAAApM,EAAA,WAAAwI,SAAAnI,KAAAuK,EAAAvG,OAAA/B,UAAA,aAAA8J,IAAA,GACAA,EAAAC,MACAC,IAAAD,YAAAhC,QACA,MAAA7K,GAAA8M,GAAA,EACA,MAAA,UAAAlB,EAAAe,GAIA,MAHAD,GAAAd,EAAAe,GACAG,EAAAlB,EAAArI,UAAAoJ,EACAC,EAAAhB,EAAAe,GACAf,QAEA,GAAArF,QACAmG,MAAAA,KtC8VGjF,MAAM,GAAGsF,gBAAgB,GAAG7D,UAAU,GAAGvD,gBAAgB,KAAKqH,IAAI,SAASxM,EAAQjB,EAAOD,GuCtX7F,GAAA2N,GAAAzM,EAAA,OAAAmE,QACAuI,EAAA1M,EAAA,WACA2M,EAAA3M,EAAA,WAAA,cAEAjB,GAAAD,QAAA,SAAAmF,EAAA2I,EAAAC,GACA5I,IAAAyI,EAAAzI,EAAA4I,EAAA5I,EAAAA,EAAA3B,UAAAqK,IAAAF,EAAAxI,EAAA0I,GAAA1K,cAAA,EAAAa,MAAA8J,OvCyXG3F,MAAM,GAAG6F,UAAU,GAAGC,UAAU,KAAKC,IAAI,SAAShN,EAAQjB,EAAOD,GwC9XpE,GAAAM,GAAAY,EAAA,cACAiN,EAAA,qBACAC,EAAA9N,EAAA6N,KAAA7N,EAAA6N,MACAlO,GAAAD,QAAA,SAAAqD,GACA,MAAA+K,GAAA/K,KAAA+K,EAAA/K,UxCiYGwG,aAAa,KAAKwE,IAAI,SAASnN,EAAQjB,EAAOD,GyCpYjD,GAAAsO,GAAApN,EAAA,eACAqN,EAAArN,EAAA,cACAjB,GAAAD,QAAA,SAAAmF,GACA,MAAAmJ,GAAAC,EAAApJ,OzCwYGqJ,cAAc,GAAGC,cAAc,KAAKC,IAAI,SAASxN,EAAQjB,EAAOD,G0C3YnE,GAAAuO,GAAArN,EAAA,cACAjB,GAAAD,QAAA,SAAAmF,GACA,MAAAI,QAAAgJ,EAAApJ,O1C+YGqJ,cAAc,KAAKG,IAAI,SAASzN,EAAQjB,EAAOD,G2ClZlD,GAAA4O,GAAA,EACAC,EAAArE,KAAAsE,QACA7O,GAAAD,QAAA,SAAAqD,GACA,MAAA,UAAA0L,OAAA9H,SAAA5D,EAAA,GAAAA,EAAA,QAAAuL,EAAAC,GAAAtI,SAAA,W3CqZMyI,IAAI,SAAS9N,EAAQjB,EAAOD,G4CxZlC,GAAAoO,GAAAlN,EAAA,cAAA,OACA+N,EAAA/N,EAAA,WACA6E,EAAA7E,EAAA,cAAA6E,MACA9F,GAAAD,QAAA,SAAAyI,GACA,MAAA2F,GAAA3F,KAAA2F,EAAA3F,GACA1C,GAAAA,EAAA0C,KAAA1C,GAAAkJ,GAAA,UAAAxG,O5C2ZGoB,aAAa,GAAGqF,aAAa,GAAGC,UAAU,KAAKC,IAAI,SAASlO,EAAQjB,EAAOD,G6C/Z9E,GAAAqP,GAAAnO,EAAA,gBAEAA,GAAA,kBAAA,iBAAA,SAAAoO,GACA,MAAA,UAAAnK,GACA,MAAAmK,GAAAD,EAAAlK,S7CoaGoK,iBAAiB,GAAGC,gBAAgB,KAAKC,IAAI,SAASvO,EAAQjB,EAAOD,G8CxaxE,GAAAuI,GAAArH,EAAA,aACAqH,GAAAA,EAAAW,EAAA,UAAAtD,eAAA1E,EAAA,iBAAAoM,Q9C2aGT,aAAa,GAAG6C,gBAAgB,KAAKC,IAAI,SAASzO,EAAQjB,EAAOD,SAE9D4P,IAAI,SAAS1O,EAAQjB,EAAOD,G+C/alC,YAEA,IAAA6E,GAAA3D,EAAA,OACAZ,EAAAY,EAAA,cACA0M,EAAA1M,EAAA,WACA2O,EAAA3O,EAAA,mBACAqH,EAAArH,EAAA,cACA4O,EAAA5O,EAAA,gBACA6O,EAAA7O,EAAA,aACA8O,EAAA9O,EAAA,cACA+O,EAAA/O,EAAA,yBACA+N,EAAA/N,EAAA,WACAgP,EAAAhP,EAAA,WACAiP,EAAAjP,EAAA,aACAkP,EAAAlP,EAAA,iBACAmP,EAAAnP,EAAA,iBACAsK,EAAAtK,EAAA,gBACAiM,EAAAjM,EAAA,iBACA+I,EAAA/I,EAAA,kBACA2J,EAAA3J,EAAA,qBACA4K,EAAAjH,EAAAiH,QACAzG,EAAAR,EAAAQ,QACAiL,EAAAzL,EAAAG,OACAkF,EAAAkG,EAAA1I,IACA6I,EAAAjQ,EAAAyF,OACAyK,EAAAlQ,EAAAmQ,KACAC,EAAAF,GAAAA,EAAAG,UACAC,GAAA,EACAC,EAAAX,EAAA,WACAjI,EAAApD,EAAAoD,OACA6I,EAAAd,EAAA,mBACAe,EAAAf,EAAA,WACAgB,EAAA,kBAAAT,GACAU,EAAA1L,OAAA/B,UAGA0N,EAAArB,GAAAE,EAAA,WACA,MAEA,IAFAO,EAAAjL,KAAA,KACAqC,IAAA,WAAA,MAAArC,GAAA7E,KAAA,KAAAwD,MAAA,IAAA/C,MACAA,IACA,SAAAkE,EAAA9B,EAAA0B,GACA,GAAAoM,GAAArF,EAAAmF,EAAA5N,EACA8N,UAAAF,GAAA5N,GACAgC,EAAAF,EAAA9B,EAAA0B,GACAoM,GAAAhM,IAAA8L,GAAA5L,EAAA4L,EAAA5N,EAAA8N,IACA9L,EAEA+L,EAAA,SAAAtD,GACA,GAAAuD,GAAAN,EAAAjD,GAAAwC,EAAAC,EAAA/M,UASA,OARA6N,GAAAC,GAAAxD,EACA+B,GAAAe,GAAAM,EAAAD,EAAAnD,GACA3K,cAAA,EACAmK,IAAA,SAAAtJ,GACA4J,EAAApN,KAAAqQ,IAAAjD,EAAApN,KAAAqQ,GAAA/C,KAAAtN,KAAAqQ,GAAA/C,IAAA,GACAoD,EAAA1Q,KAAAsN,EAAAjD,EAAA,EAAA7G,OAGAqN,GAGAE,EAAA,SAAApM,GACA,MAAA,gBAAAA,IAGAqM,EAAA,SAAArM,EAAA9B,EAAA0B,GACA,MAAAA,IAAA6I,EAAAmD,EAAA1N,IACA0B,EAAA7B,YAIA0K,EAAAzI,EAAA0L,IAAA1L,EAAA0L,GAAAxN,KAAA8B,EAAA0L,GAAAxN,IAAA,GACA0B,EAAAuL,EAAAvL,GAAA7B,WAAA2H,EAAA,GAAA,OAJA+C,EAAAzI,EAAA0L,IAAAxL,EAAAF,EAAA0L,EAAAhG,EAAA,OACA1F,EAAA0L,GAAAxN,IAAA,GAIA6N,EAAA/L,EAAA9B,EAAA0B,IACAM,EAAAF,EAAA9B,EAAA0B,IAEA0M,EAAA,SAAAtM,EAAAL,GACAqI,EAAAhI,EAKA,KAJA,GAGA9B,GAHAwE,EAAAwI,EAAAvL,EAAAmF,EAAAnF,IACA3D,EAAA,EACAG,EAAAuG,EAAArG,OAEAF,EAAAH,GAAAqQ,EAAArM,EAAA9B,EAAAwE,EAAA1G,KAAA2D,EAAAzB,GACA,OAAA8B,IAEAuM,EAAA,SAAAvM,EAAAL,GACA,MAAAmC,UAAAnC,EAAAwL,EAAAnL,GAAAsM,EAAAnB,EAAAnL,GAAAL,IAEA6M,EAAA,SAAAtO,GACA,GAAAuO,GAAA3J,EAAA1G,KAAAf,KAAA6C,EACA,SAAAuO,IAAAhE,EAAApN,KAAA6C,KAAAuK,EAAAmD,EAAA1N,IAAAuK,EAAApN,KAAAqQ,IAAArQ,KAAAqQ,GAAAxN,KACAuO,GAEAC,EAAA,SAAA1M,EAAA9B,GACA,GAAA0B,GAAA+G,EAAA3G,EAAA8E,EAAA9E,GAAA9B,EAEA,QADA0B,IAAA6I,EAAAmD,EAAA1N,IAAAuK,EAAAzI,EAAA0L,IAAA1L,EAAA0L,GAAAxN,KAAA0B,EAAA7B,YAAA,GACA6B,GAEA+M,EAAA,SAAA3M,GAKA,IAJA,GAGA9B,GAHA0O,EAAA7H,EAAAD,EAAA9E,IACA6M,KACA7Q,EAAA,EAEA4Q,EAAAvQ,OAAAL,GAAAyM,EAAAmD,EAAA1N,EAAA0O,EAAA5Q,OAAAkC,GAAAwN,GAAAmB,EAAA9J,KAAA7E,EACA,OAAA2O,IAEAC,EAAA,SAAA9M,GAKA,IAJA,GAGA9B,GAHA0O,EAAA7H,EAAAD,EAAA9E,IACA6M,KACA7Q,EAAA,EAEA4Q,EAAAvQ,OAAAL,GAAAyM,EAAAmD,EAAA1N,EAAA0O,EAAA5Q,OAAA6Q,EAAA9J,KAAA6I,EAAA1N,GACA,OAAA2O,IAEAE,EAAA,SAAA/M,GACA,GAAA8B,SAAA9B,IAAAoM,EAAApM,GAAA,CAKA,IAJA,GAGAgN,GAAAC,EAHAC,GAAAlN,GACAhE,EAAA,EACAmR,EAAAjL,UAEAiL,EAAA9Q,OAAAL,GAAAkR,EAAAnK,KAAAoK,EAAAnR,KAQA,OAPAgR,GAAAE,EAAA,GACA,kBAAAF,KAAAC,EAAAD,IACAC,GAAA5G,EAAA2G,KAAAA,EAAA,SAAA9O,EAAAW,GAEA,GADAoO,IAAApO,EAAAoO,EAAA7Q,KAAAf,KAAA6C,EAAAW,KACAuN,EAAAvN,GAAA,MAAAA,KAEAqO,EAAA,GAAAF,EACAzB,EAAAtJ,MAAAoJ,EAAA6B,KAEAE,EAAAxC,EAAA,WACA,GAAA7G,GAAAqH,GAIA,OAAA,UAAAG,GAAAxH,KAAA,MAAAwH,GAAAzP,EAAAiI,KAAA,MAAAwH,EAAAnL,OAAA2D,KAIA8H,KACAT,EAAA,WACA,GAAAgB,EAAA/Q,MAAA,KAAAgC,WAAA,8BACA,OAAA4O,GAAAnC,EAAA5H,UAAA7F,OAAA,EAAA6F,UAAA,GAAAJ,UAEA6I,EAAAS,EAAA/M,UAAA,WAAA,WACA,MAAAhD,MAAA8Q,KAGAC,EAAA,SAAApM,GACA,MAAAA,aAAAoL,IAGA1L,EAAAG,OAAA0M,EACA7M,EAAAoD,OAAA0J,EACA9M,EAAAiH,QAAA+F,EACAhN,EAAAQ,QAAAmM,EACA3M,EAAAmH,SAAAyF,EACA5M,EAAAqF,SAAAkG,EAAA1I,IAAAoK,EACAjN,EAAAkD,WAAAkK,EAEApC,IAAA3O,EAAA,gBACA4O,EAAAmB,EAAA,uBAAAU,GAAA,GAIA,IAAAa,IAEAC,MAAA,SAAApP,GACA,MAAAuK,GAAAkD,EAAAzN,GAAA,IACAyN,EAAAzN,GACAyN,EAAAzN,GAAAkN,EAAAlN,IAGAqP,OAAA,SAAArP,GACA,MAAA8M,GAAAW,EAAAzN,IAEAsP,UAAA,WAAA/B,GAAA,GACAgC,UAAA,WAAAhC,GAAA,GAaA/L,GAAAqH,KAAA3K,KAAA,iHAGA6J,MAAA,KAAA,SAAAjG,GACA,GAAAkM,GAAAnB,EAAA/K,EACAqN,GAAArN,GAAA6L,EAAAK,EAAAD,EAAAC,KAGAT,GAAA,EAEArI,EAAAA,EAAAS,EAAAT,EAAAgB,GAAAxD,OAAAwK,IAEAhI,EAAAA,EAAAW,EAAA,SAAAsJ,GAEAjK,EAAAA,EAAAW,EAAAX,EAAAO,GAAAkI,EAAA,UAEAhM,OAAA0M,EAEAjK,eAAA+J,EAEA1O,iBAAA2O,EAEA1F,yBAAA8F,EAEAzH,oBAAA0H,EAEA7F,sBAAAgG,IAIAzB,GAAAjI,EAAAA,EAAAW,EAAAX,EAAAO,IAAAkI,GAAAuB,GAAA,QAAA5B,UAAAuB,IAGAjC,EAAAM,EAAA,UAEAN,EAAAzF,KAAA,QAAA,GAEAyF,EAAA3P,EAAAmQ,KAAA,QAAA,K/CibGtI,MAAM,GAAGsF,gBAAgB,GAAG1C,kBAAkB,GAAG8H,gBAAgB,GAAGhG,aAAa,GAAGlF,YAAY,GAAGmL,gBAAgB,GAAGjJ,aAAa,GAAGmE,UAAU,GAAG+E,eAAe,GAAGC,YAAY,GAAGC,cAAc,GAAGjI,oBAAoB,GAAGkI,eAAe,GAAGC,wBAAwB,GAAGjE,aAAa,GAAG5E,iBAAiB,GAAG6E,UAAU,GAAGlB,UAAU,KAAKmF,IAAI,SAASlS,EAAQjB,EAAOD,GACxW,YAcA,SAAS0C,GAAuBC,GAAO,MAAOA,IAAOA,EAAIhB,WAAagB,GAAQjB,UAASiB,GAZvF4C,OAAOkC,eAAezH,EAAS,cAC7BgE,OAAO,GAGT,IAAIqP,GAAmBnS,EAAQ,wCAE3BoS,EAAmB5Q,EAAuB2Q,GAE1CE,EAAgBrS,EAAQ,qCAExBsS,EAAgB9Q,EAAuB6Q,GgDnoBrCE,EhDqqBI,WgD3pBR,QAAAA,MAAc,EAAAH,EAAAA,YAAA9S,KAAAiT,EACZ,IAAIC,GAAQlT,IACZkT,GAAMC,OAAS,EACfD,EAAME,kBAENF,EAAMG,iBAAmB,IACzBH,EAAMI,sBAENJ,EAAMK,4BhD84BR,OA7NA,EAAIP,EAAAA,YAAuBC,IACzBpQ,IAAK,cACLW,MAAO,SgDzqBGgQ,EAAKC,GACf,GAAIP,GAAQlT,KAER0T,EAAO,GAAIC,GAAYT,EAAME,eAAgBI,EAAKC,GAClDG,EAAWV,EAAME,eAAeI,EAOpC,OANKI,KACHA,KACAV,EAAME,eAAeI,GAAOI,GAG9BA,EAASlM,KAAKgM,GACPA,KhDsrBP7Q,IAAK,sBACLW,MAAO,SgD5qBWgQ,EAAKK,EAAOC,GAC9B9T,KAAKsT,mBAAmBE,EAAMK,GAASC,KhDsrBvCjR,IAAK,yBACLW,MAAO,SgD/qBcgQ,EAAKK,SACnB7T,MAAKsT,mBAAmBE,EAAMK,MhDwrBrChR,IAAK,uBACLW,MAAO,SgDlrBYgQ,SACZxT,MAAKoT,eAAeI,MhD8rB3B3Q,IAAK,OACLW,MAAO,SgDrrBJuQ,EAAQC,EAAOzR,GAAQ,GAAA0R,GAAAjU,KACtBkT,EAAQlT,KAERkU,EAAYhB,EAAMiB,YAAYJ,EAAQ,SAACK,GACzC7R,EAAO8R,YAAYD,KAGjBE,EAAc/R,EAAO4R,YAAYH,EAAO,SAACI,GAC3ClB,EAAMmB,YAAYD,IAGpB,QACEG,aAAcL,EACdM,eAAgBF,EAChBG,OAAQ,WACNR,EAAKM,aAAaG,SAClBT,EAAKO,eAAeE,chD+rBxB7R,IAAK,oBACLW,MAAO,SgD1rBS4Q,GAEhB,GAAIR,GAAW5T,KAAKoT,eAAe,IAC/BQ,IACF5T,KAAK2U,WAAWf,EAAUQ,MhDisB5BvR,IAAK,aACLW,MAAO,SgD7rBEoQ,EAAUQ,GACnBR,EAASjI,QAAQ,SAACiJ,GAChBA,EAAIC,UAAUT,QhDisBhBvR,IAAK,oBACLW,MAAO,SgD9rBSsR,EAAOC,GACvB,GAAI7B,GAAQlT,IAGR+U,KAAkB,WACpB,GAAIC,GAAaF,EAAMG,KAAOH,EAAM1G,EACpC8E,GAAMI,mBAAmB0B,GAAcD,EAEvCG,WAAW,WACT,GAAIC,GAAcjC,EAAMI,mBAAmB0B,EAG3C,UAFO9B,GAAMI,mBAAmB0B,GAE5BG,EAAa,CACf,GAAIC,IACFhH,GAAI0G,EAAM1G,GAAIpG,KAAM,WACpBqN,MAAQxU,KAAM,IAAK+D,KAAM,oBAAqBpB,MAAOsR,GAGvDK,GAAYC,KAEblC,EAAMG,wBhDosBXxQ,IAAK,cACLW,MAAO,SgDjsBG4Q,GACV,GAAIlB,GAAQlT,IAEZ,IAAiB,aAAboU,EAAIpM,KAAqB,CAC3B,GAAIgN,GAAaZ,EAAIkB,GAAKlB,EAAIhG,GAC1B+G,EAAcjC,EAAMI,mBAAmB0B,EAO3C,IAJIZ,EAAIiB,KAAKxU,MAAQ,WACZqS,GAAMI,mBAAmB0B,GAG9BG,EAEF,MADAA,GAAYf,IACL,EAIX,OAAO,KhDusBPvR,IAAK,aACLW,MAAO,SgDpsBE4Q,GACT,GAAIlB,GAAQlT,IAEZ,KAAKkT,EAAMqC,YAAYnB,GAAM,CAC3B,GAAIR,GAAWV,EAAME,eAAegB,EAAIkB,GACpC1B,GACFV,EAAMyB,WAAWf,EAAUQ,GAE3BlB,EAAMsC,kBAAkBpB,OhDysB5BvR,IAAK,SACLW,MAAO,SgDrsBFsR,GAKAA,EAAM1G,IAAmB,IAAb0G,EAAM1G,KACrBpO,KAAKmT,SACL2B,EAAM1G,GAAKpO,KAAKmT,WhDmtBlBtQ,IAAK,cACLW,MAAO,SgDxsBGsR,EAAOC,OhDitBjBlS,IAAK,iBACLW,MAAO,SgD3sBM4Q,OhDqtBbvR,IAAK,4BACLW,MAAO,gBAEFyP,KgD5sBHU,EhD+sBY,WgDxsBhB,QAAAA,GAAY8B,EAAejC,EAAKkC,IAAU,EAAA5C,EAAAA,YAAA9S,KAAA2T,EACxC,IAAIT,GAAQlT,IAEZkT,GAAME,eAAiBqC,EACvBvC,EAAMyC,KAAOnC,EACbN,EAAM2B,UAAYa,EhD+uBpB,OA3BA,EAAI1C,EAAAA,YAAuBW,IACzB9Q,IAAK,SAMLW,MAAO,WgDltBP,GAAI0P,GAAQlT,KAER4V,EAAO1C,EAAME,eAAeF,EAAMyC,KACtC,IAAIC,EAAM,CACR,GAAI7J,GAAQ6J,EAAKC,QAAQ3C,EACzB0C,GAAKE,OAAO/J,EAAO,GAGC,IAAhB6J,EAAK5U,cACAkS,GAAME,eAAeF,EAAMyC,UhDwtBtC9S,IAAK,MACLqE,IAAK,WgDxuBK,MAAOlH,MAAK2V,ShD4uBjBhC,IAGTnU,GAAAA,WgD1tBeyT,EhD2tBfxT,EAAOD,QAAUA,EAAQ,aAEtBuW,uCAAuC,EAAEC,oCAAoC,IAAIC,IAAI,SAASvV,EAAQjB,EAAOD,GAChH,YA8BA,SAAS0C,GAAuBC,GAAO,MAAOA,IAAOA,EAAIhB,WAAagB,GAAQjB,UAASiB,GA5BvF4C,OAAOkC,eAAezH,EAAS,cAC7BgE,OAAO,GAGT,IAAI0S,GAAkBxV,EAAQ,iDAE1ByV,EAAmBjU,EAAuBgU,GAE1CrD,EAAmBnS,EAAQ,wCAE3BoS,EAAmB5Q,EAAuB2Q,GAE1CE,EAAgBrS,EAAQ,qCAExBsS,EAAgB9Q,EAAuB6Q,GAEvCqD,EAA8B1V,EAAQ,mDAEtC2V,EAA8BnU,EAAuBkU,GAErDE,EAAa5V,EAAQ,kCAErB6V,EAAarU,EAAuBoU,GiDr/BxCE,EAAA9V,EAAA,SjDy/BI+V,EAAQvU,EAAuBsU,GiDl/B7BE,EjD4/BQ,SAAUC,GiD1/BtB,QAAAD,KAAc,OAAA,EAAA5D,EAAAA,YAAA9S,KAAA0W,IAAA,EAAAL,EAAAA,YAAArW,MAAA,EAAAmW,EAAAA,YAAAO,GAAA3V,KAAAf,OjD4iCd,OAjDA,EAAIuW,EAAAA,YAAoBG,EAASC,IAejC,EAAI3D,EAAAA,YAAuB0D,IACzB7T,IAAK,cACLW,MAAO,SiDlgCGsR,EAAOC,GACjB,GAAI7B,GAAQlT,IAQZ,OANAkT,GAAM0D,OAAO9B,GACb5B,EAAM2D,kBAAkB/B,EAAOC,GAG/B7B,EAAM4D,eAAehC,GAEdA,EAAM1G,MjDwgCbvL,IAAK,aACLW,MAAO,SiDrgCE4Q,GACT,GAAIlB,GAAQlT,IAEZ,KAAKkT,EAAMqC,YAAYnB,GAAM,CAC3B,GAAIR,GAAWV,EAAME,eAAegB,EAAIkB,GACpC1B,IACFV,EAAMyB,WAAWf,EAAUQ,GACtBA,EAAIkB,GAAGyB,WAAW,YACrB7D,EAAMsC,kBAAkBpB,IAG1BlB,EAAMsC,kBAAkBpB,QjD0gCvBsC,GACPD,EAAAA,WAwBFjX,GAAAA,WiD5hCekX,EjD6hCfjX,EAAOD,QAAUA,EAAQ,aAEtBwX,QAAQ,GAAGC,gDAAgD,EAAElB,uCAAuC,EAAEC,oCAAoC,EAAEkB,iCAAiC,EAAEC,kDAAkD,IAAIC,IAAI,SAAS1W,EAAQjB,EAAOD,GACpQ,YAUA,SAAS0C,GAAuBC,GAAO,MAAOA,IAAOA,EAAIhB,WAAagB,GAAQjB,UAASiB,GARvF4C,OAAOkC,eAAezH,EAAS,cAC7BgE,OAAO,GkDrlCT,IAAA6T,GAAA3W,EAAA,iBlD0lCI4W,EAAYpV,EAAuBmV,EAIvC7X,GAAAA,WAAkB8X,EAAAA,WAuBlB7X,EAAOD,QAAUA,EAAQ,aAEtB+X,gBAAgB,UAAU,KAAK","file":"minibus.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.minibus = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":11}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":12}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":13}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":14}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":15}],6:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":2}],8:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":1,\"babel-runtime/core-js/object/set-prototype-of\":4}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":10}],10:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":5}],11:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":33}],12:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":33}],13:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":19,\"../../modules/es6.object.get-prototype-of\":46}],14:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":19,\"../../modules/es6.object.set-prototype-of\":47}],15:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":19,\"../../modules/es6.object.to-string\":48,\"../../modules/es6.symbol\":49}],16:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],17:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":32}],18:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],19:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],20:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":16}],21:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],22:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":25}],23:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":33}],24:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":19,\"./$.ctx\":20,\"./$.global\":27}],25:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],26:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":33,\"./$.to-iobject\":42}],27:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],28:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],29:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":33,\"./$.descriptors\":22,\"./$.property-desc\":37}],30:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":18}],31:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":18}],32:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],33:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],34:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":33,\"./$.to-iobject\":42}],35:[function(require,module,exports){\nmodule.exports = true;\n},{}],36:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":19,\"./$.export\":24,\"./$.fails\":25}],37:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],38:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":29}],39:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":33,\"./$.an-object\":17,\"./$.ctx\":20,\"./$.is-object\":32}],40:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":33,\"./$.has\":28,\"./$.wks\":45}],41:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":27}],42:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":21,\"./$.iobject\":30}],43:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":21}],44:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],45:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":27,\"./$.shared\":41,\"./$.uid\":44}],46:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":36,\"./$.to-object\":43}],47:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":24,\"./$.set-proto\":39}],48:[function(require,module,exports){\n\n},{}],49:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":33,\"./$.an-object\":17,\"./$.descriptors\":22,\"./$.enum-keys\":23,\"./$.export\":24,\"./$.fails\":25,\"./$.get-names\":26,\"./$.global\":27,\"./$.has\":28,\"./$.is-array\":31,\"./$.keyof\":34,\"./$.library\":35,\"./$.property-desc\":37,\"./$.redefine\":38,\"./$.set-to-string-tag\":40,\"./$.shared\":41,\"./$.to-iobject\":42,\"./$.uid\":44,\"./$.wks\":45}],50:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovao e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n* @author micaelpedrosa@gmail.com\n* Minimal interface and implementation to send and receive messages. It can be reused in many type of components.\n* Components that need a message system should receive this class as a dependency or extend it.\n* Extensions should implement the following private methods: _onPostMessage and _registerExternalListener\n*/\n\nvar Bus = function () {\n  /* private\n  _msgId: number;\n  _subscriptions: <url: MsgListener[]>\n   _responseTimeOut: number\n  _responseCallbacks: <url+id: (msg) => void>\n   */\n\n  function Bus() {\n    (0, _classCallCheck3.default)(this, Bus);\n\n    var _this = this;\n    _this._msgId = 0;\n    _this._subscriptions = {};\n\n    _this._responseTimeOut = 5000; //default to 3s\n    _this._responseCallbacks = {};\n\n    _this._registerExternalListener();\n  }\n\n  /**\n  * Register listener to receive message when \"msg.to === url\".\n  * Special url \"*\" for default listener is accepted to intercept all messages.\n  * @param {URL} url Address to intercept, tha is in the message \"to\"\n  * @param {Listener} listener listener\n  * @return {MsgListener} instance of MsgListener\n  */\n\n\n  (0, _createClass3.default)(Bus, [{\n    key: 'addListener',\n    value: function addListener(url, listener) {\n      var _this = this;\n\n      var item = new MsgListener(_this._subscriptions, url, listener);\n      var itemList = _this._subscriptions[url];\n      if (!itemList) {\n        itemList = [];\n        _this._subscriptions[url] = itemList;\n      }\n\n      itemList.push(item);\n      return item;\n    }\n\n    /**\n     * Manually add a response listener. Only one listener per message ID should exist.\n     * ATENTION, there is no timeout for this listener.\n     * The listener should be removed with a removeResponseListener, failing to do this will result in a unreleased memory problem.\n     * @param {URL} url Origin address of the message sent, \"msg.from\".\n     * @param {number} msgId Message ID that is returned from the postMessage.\n     * @param {Function} responseListener Callback function for the response\n     */\n\n  }, {\n    key: 'addResponseListener',\n    value: function addResponseListener(url, msgId, responseListener) {\n      this._responseCallbacks[url + msgId] = responseListener;\n    }\n\n    /**\n     * Remove the response listener.\n     * @param {URL} url Origin address of the message sent, \"msg.from\".\n     * @param {number} msgId  Message ID that is returned from the postMessage\n     */\n\n  }, {\n    key: 'removeResponseListener',\n    value: function removeResponseListener(url, msgId) {\n      delete this._responseCallbacks[url + msgId];\n    }\n\n    /**\n     * Remove all existent listeners for the URL\n     * @param  {URL} url Address registered\n     */\n\n  }, {\n    key: 'removeAllListenersOf',\n    value: function removeAllListenersOf(url) {\n      delete this._subscriptions[url];\n    }\n\n    /**\n     * Helper method to bind listeners (in both directions) into other MiniBus target.\n     * @param  {URL} outUrl Outbound URL, register listener for url in direction \"this -> target\"\n     * @param  {URL} inUrl Inbound URL, register listener for url in direction \"target -> this\"\n     * @param  {MiniBus} target The other target MiniBus\n     * @return {Bound} an object that contains the properties [thisListener, targetListener] and the unbind method.\n     */\n\n  }, {\n    key: 'bind',\n    value: function bind(outUrl, inUrl, target) {\n      var _this2 = this;\n\n      var _this = this;\n\n      var thisListn = _this.addListener(outUrl, function (msg) {\n        target.postMessage(msg);\n      });\n\n      var targetListn = target.addListener(inUrl, function (msg) {\n        _this.postMessage(msg);\n      });\n\n      return {\n        thisListener: thisListn,\n        targetListener: targetListn,\n        unbind: function unbind() {\n          _this2.thisListener.remove();\n          _this2.targetListener.remove();\n        }\n      };\n    }\n\n    //publish on default listeners\n\n  }, {\n    key: '_publishOnDefault',\n    value: function _publishOnDefault(msg) {\n      //is there any \"*\" (default) listeners?\n      var itemList = this._subscriptions['*'];\n      if (itemList) {\n        this._publishOn(itemList, msg);\n      }\n    }\n\n    //publish on a subscription list.\n\n  }, {\n    key: '_publishOn',\n    value: function _publishOn(itemList, msg) {\n      itemList.forEach(function (sub) {\n        sub._callback(msg);\n      });\n    }\n  }, {\n    key: '_responseCallback',\n    value: function _responseCallback(inMsg, responseCallback) {\n      var _this = this;\n\n      //automatic management of response handlers\n      if (responseCallback) {\n        (function () {\n          var responseId = inMsg.from + inMsg.id;\n          _this._responseCallbacks[responseId] = responseCallback;\n\n          setTimeout(function () {\n            var responseFun = _this._responseCallbacks[responseId];\n            delete _this._responseCallbacks[responseId];\n\n            if (responseFun) {\n              var errorMsg = {\n                id: inMsg.id, type: 'response',\n                body: { code: 408, desc: 'Response timeout!', value: inMsg }\n              };\n\n              responseFun(errorMsg);\n            }\n          }, _this._responseTimeOut);\n        })();\n      }\n    }\n  }, {\n    key: '_onResponse',\n    value: function _onResponse(msg) {\n      var _this = this;\n\n      if (msg.type === 'response') {\n        var responseId = msg.to + msg.id;\n        var responseFun = _this._responseCallbacks[responseId];\n\n        //if it's a provisional response, don't delete response listener\n        if (msg.body.code >= 200) {\n          delete _this._responseCallbacks[responseId];\n        }\n\n        if (responseFun) {\n          responseFun(msg);\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    //receive messages from external interface\n\n  }, {\n    key: '_onMessage',\n    value: function _onMessage(msg) {\n      var _this = this;\n\n      if (!_this._onResponse(msg)) {\n        var itemList = _this._subscriptions[msg.to];\n        if (itemList) {\n          _this._publishOn(itemList, msg);\n        } else {\n          _this._publishOnDefault(msg);\n        }\n      }\n    }\n  }, {\n    key: '_genId',\n    value: function _genId(inMsg) {\n      //TODO: how do we manage message ID's? Should it be a global runtime counter, or per URL address?\n      //Global counter will not work, because there will be multiple MiniBus instances!\n      //Per URL, can be a lot of data to maintain!\n      //Maybe a counter per MiniBus instance. This is the assumed solution for now.\n      if (!inMsg.id || inMsg.id === 0) {\n        this._msgId++;\n        inMsg.id = this._msgId;\n      }\n    }\n\n    /**\n    * Send messages to local listeners, or if not exists to external listeners.\n    * It's has an optional mechanism for automatic management of response handlers.\n    * The response handler will be unregistered after receiving the response, or after response timeout (default to 3s).\n    * @param  {Message} msg Message to send. Message ID is automatically added to the message.\n    * @param  {Function} responseCallback Optional parameter, if the developer what's automatic response management.\n    * @return {number} Returns the message ID, in case it should be needed for manual management of the response handler.\n    */\n\n  }, {\n    key: 'postMessage',\n    value: function postMessage(inMsg, responseCallback) {}\n\n    /**\n     * Not public available, used by the class extension implementation, to process messages from the public \"postMessage\" without a registered listener.\n     * Used to send the message to an external interface, like a WebWorker, IFrame, etc.\n     * @param  {Message.Message} msg Message\n     */\n\n  }, {\n    key: '_onPostMessage',\n    value: function _onPostMessage(msg) {} /*implementation will send message to external system*/\n\n    /**\n     * Not public available, used by the class extension implementation, to process all messages that enter the MiniBus from an external interface, like a WebWorker, IFrame, etc.\n     * This method is called one time in the constructor to register external listeners.\n     * The implementation will probably call the \"_onMessage\" method to publish in the local listeners.\n     * DO NOT call \"postMessage\", there is a danger that the message enters in a cycle!\n     */\n\n  }, {\n    key: '_registerExternalListener',\n    value: function _registerExternalListener() {/*implementation will register external listener and call \"this._onMessage(msg)\" */}\n  }]);\n  return Bus;\n}();\n\nvar MsgListener = function () {\n  /* private\n  _subscriptions: <string: MsgListener[]>;\n  _url: string;\n  _callback: (msg) => void;\n  */\n\n  function MsgListener(subscriptions, url, callback) {\n    (0, _classCallCheck3.default)(this, MsgListener);\n\n    var _this = this;\n\n    _this._subscriptions = subscriptions;\n    _this._url = url;\n    _this._callback = callback;\n  }\n\n  (0, _createClass3.default)(MsgListener, [{\n    key: 'remove',\n\n\n    /**\n     * Remove this listener from the Bus\n     */\n    value: function remove() {\n      var _this = this;\n\n      var subs = _this._subscriptions[_this._url];\n      if (subs) {\n        var index = subs.indexOf(_this);\n        subs.splice(index, 1);\n\n        //if there are no listeners, remove the subscription entirely.\n        if (subs.length === 0) {\n          delete _this._subscriptions[_this._url];\n        }\n      }\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      return this._url;\n    }\n  }]);\n  return MsgListener;\n}();\n\nexports.default = Bus;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":6,\"babel-runtime/helpers/createClass\":7}],51:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Bus2 = require('./Bus');\n\nvar _Bus3 = _interopRequireDefault(_Bus2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* @author micaelpedrosa@gmail.com\n* Message BUS Interface is an extension of the Bus\n* It is used mainly in the internal sandbox routing.\n*/\n\nvar MiniBus = function (_Bus) {\n  (0, _inherits3.default)(MiniBus, _Bus);\n\n  function MiniBus() {\n    (0, _classCallCheck3.default)(this, MiniBus);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(MiniBus).call(this));\n  }\n\n  /**\n   * Post a message for routing. Message is routed directly to the external routing _onPostMessage.\n   * @param  {Message} inMsg            JSON with mandatory Message structure {id, type, from, to}\n   * @param  {Callback} responseCallback Optional callback if a response is expected from the request. A response will be always sent, even if it is a \"Timeout\".\n   * @return {number}                  the Message id\n   */\n\n\n  (0, _createClass3.default)(MiniBus, [{\n    key: 'postMessage',\n    value: function postMessage(inMsg, responseCallback) {\n      var _this = this;\n\n      _this._genId(inMsg);\n      _this._responseCallback(inMsg, responseCallback);\n\n      //always send to external (to core MessageBus)\n      _this._onPostMessage(inMsg);\n\n      return inMsg.id;\n    }\n\n    //internal method used when a message is received by an external routing system\n\n  }, {\n    key: '_onMessage',\n    value: function _onMessage(msg) {\n      var _this = this;\n\n      if (!_this._onResponse(msg)) {\n        var itemList = _this._subscriptions[msg.to];\n        if (itemList) {\n          _this._publishOn(itemList, msg);\n          if (!msg.to.startsWith('hyperty')) {\n            _this._publishOnDefault(msg);\n          }\n        } else {\n          _this._publishOnDefault(msg);\n        }\n      }\n    }\n  }]);\n  return MiniBus;\n}(_Bus3.default); /**\n                  * Copyright 2016 PT Inovao e Sistemas SA\n                  * Copyright 2016 INESC-ID\n                  * Copyright 2016 QUOBIS NETWORKS SL\n                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                  * Copyright 2016 ORANGE SA\n                  * Copyright 2016 Deutsche Telekom AG\n                  * Copyright 2016 Apizee\n                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                  *\n                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                  * you may not use this file except in compliance with the License.\n                  * You may obtain a copy of the License at\n                  *\n                  *   http://www.apache.org/licenses/LICENSE-2.0\n                  *\n                  * Unless required by applicable law or agreed to in writing, software\n                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                  * See the License for the specific language governing permissions and\n                  * limitations under the License.\n                  **/\n\n\nexports.default = MiniBus;\nmodule.exports = exports['default'];\n\n},{\"./Bus\":50,\"babel-runtime/core-js/object/get-prototype-of\":3,\"babel-runtime/helpers/classCallCheck\":6,\"babel-runtime/helpers/createClass\":7,\"babel-runtime/helpers/inherits\":8,\"babel-runtime/helpers/possibleConstructorReturn\":9}],52:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MiniBus = require('./bus/MiniBus');\n\nvar _MiniBus2 = _interopRequireDefault(_MiniBus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _MiniBus2.default; /**\n                                     * Copyright 2016 PT Inovao e Sistemas SA\n                                     * Copyright 2016 INESC-ID\n                                     * Copyright 2016 QUOBIS NETWORKS SL\n                                     * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                     * Copyright 2016 ORANGE SA\n                                     * Copyright 2016 Deutsche Telekom AG\n                                     * Copyright 2016 Apizee\n                                     * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                     *\n                                     * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                     * you may not use this file except in compliance with the License.\n                                     * You may obtain a copy of the License at\n                                     *\n                                     *   http://www.apache.org/licenses/LICENSE-2.0\n                                     *\n                                     * Unless required by applicable law or agreed to in writing, software\n                                     * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                     * See the License for the specific language governing permissions and\n                                     * limitations under the License.\n                                     **/\n\nmodule.exports = exports['default'];\n\n},{\"./bus/MiniBus\":51}]},{},[52])(52)\n});\n\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};","var $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};","// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};","var $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};","module.exports = true;","// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","module.exports = require('./$.hide');","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});","'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);","/**\n* Copyright 2016 PT Inovao e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n* @author micaelpedrosa@gmail.com\n* Minimal interface and implementation to send and receive messages. It can be reused in many type of components.\n* Components that need a message system should receive this class as a dependency or extend it.\n* Extensions should implement the following private methods: _onPostMessage and _registerExternalListener\n*/\nclass Bus {\n  /* private\n  _msgId: number;\n  _subscriptions: <url: MsgListener[]>\n\n  _responseTimeOut: number\n  _responseCallbacks: <url+id: (msg) => void>\n\n  */\n\n  constructor() {\n    let _this = this;\n    _this._msgId = 0;\n    _this._subscriptions = {};\n\n    _this._responseTimeOut = 5000; //default to 3s\n    _this._responseCallbacks = {};\n\n    _this._registerExternalListener();\n  }\n\n  /**\n  * Register listener to receive message when \"msg.to === url\".\n  * Special url \"*\" for default listener is accepted to intercept all messages.\n  * @param {URL} url Address to intercept, tha is in the message \"to\"\n  * @param {Listener} listener listener\n  * @return {MsgListener} instance of MsgListener\n  */\n  addListener(url, listener) {\n    let _this = this;\n\n    let item = new MsgListener(_this._subscriptions, url, listener);\n    let itemList = _this._subscriptions[url];\n    if (!itemList) {\n      itemList = [];\n      _this._subscriptions[url] = itemList;\n    }\n\n    itemList.push(item);\n    return item;\n  }\n\n  /**\n   * Manually add a response listener. Only one listener per message ID should exist.\n   * ATENTION, there is no timeout for this listener.\n   * The listener should be removed with a removeResponseListener, failing to do this will result in a unreleased memory problem.\n   * @param {URL} url Origin address of the message sent, \"msg.from\".\n   * @param {number} msgId Message ID that is returned from the postMessage.\n   * @param {Function} responseListener Callback function for the response\n   */\n  addResponseListener(url, msgId, responseListener) {\n    this._responseCallbacks[url + msgId] = responseListener;\n  }\n\n  /**\n   * Remove the response listener.\n   * @param {URL} url Origin address of the message sent, \"msg.from\".\n   * @param {number} msgId  Message ID that is returned from the postMessage\n   */\n  removeResponseListener(url, msgId) {\n    delete this._responseCallbacks[url + msgId];\n  }\n\n  /**\n   * Remove all existent listeners for the URL\n   * @param  {URL} url Address registered\n   */\n  removeAllListenersOf(url) {\n    delete this._subscriptions[url];\n  }\n\n  /**\n   * Helper method to bind listeners (in both directions) into other MiniBus target.\n   * @param  {URL} outUrl Outbound URL, register listener for url in direction \"this -> target\"\n   * @param  {URL} inUrl Inbound URL, register listener for url in direction \"target -> this\"\n   * @param  {MiniBus} target The other target MiniBus\n   * @return {Bound} an object that contains the properties [thisListener, targetListener] and the unbind method.\n   */\n  bind(outUrl, inUrl, target) {\n    let _this = this;\n\n    let thisListn = _this.addListener(outUrl, (msg) => {\n      target.postMessage(msg);\n    });\n\n    let targetListn = target.addListener(inUrl, (msg) => {\n      _this.postMessage(msg);\n    });\n\n    return {\n      thisListener: thisListn,\n      targetListener: targetListn,\n      unbind: () => {\n        this.thisListener.remove();\n        this.targetListener.remove();\n      }\n    };\n  }\n\n  //publish on default listeners\n  _publishOnDefault(msg) {\n    //is there any \"*\" (default) listeners?\n    let itemList = this._subscriptions['*'];\n    if (itemList) {\n      this._publishOn(itemList, msg);\n    }\n  }\n\n  //publish on a subscription list.\n  _publishOn(itemList, msg) {\n    itemList.forEach((sub) => {\n      sub._callback(msg);\n    });\n  }\n\n  _responseCallback(inMsg, responseCallback) {\n    let _this = this;\n\n    //automatic management of response handlers\n    if (responseCallback) {\n      let responseId = inMsg.from + inMsg.id;\n      _this._responseCallbacks[responseId] = responseCallback;\n\n      setTimeout(() => {\n        let responseFun = _this._responseCallbacks[responseId];\n        delete _this._responseCallbacks[responseId];\n\n        if (responseFun) {\n          let errorMsg = {\n            id: inMsg.id, type: 'response',\n            body: { code: 408, desc: 'Response timeout!', value: inMsg }\n          };\n\n          responseFun(errorMsg);\n        }\n      }, _this._responseTimeOut);\n    }\n  }\n\n  _onResponse(msg) {\n    let _this = this;\n\n    if (msg.type === 'response') {\n      let responseId = msg.to + msg.id;\n      let responseFun = _this._responseCallbacks[responseId];\n\n      //if it's a provisional response, don't delete response listener\n      if (msg.body.code >= 200) {\n        delete _this._responseCallbacks[responseId];\n      }\n\n      if (responseFun) {\n        responseFun(msg);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  //receive messages from external interface\n  _onMessage(msg) {\n    let _this = this;\n\n    if (!_this._onResponse(msg)) {\n      let itemList = _this._subscriptions[msg.to];\n      if (itemList) {\n        _this._publishOn(itemList, msg);\n      } else {\n        _this._publishOnDefault(msg);\n      }\n    }\n  }\n\n  _genId(inMsg) {\n    //TODO: how do we manage message ID's? Should it be a global runtime counter, or per URL address?\n    //Global counter will not work, because there will be multiple MiniBus instances!\n    //Per URL, can be a lot of data to maintain!\n    //Maybe a counter per MiniBus instance. This is the assumed solution for now.\n    if (!inMsg.id || inMsg.id === 0) {\n      this._msgId++;\n      inMsg.id = this._msgId;\n    }\n  }\n\n  /**\n  * Send messages to local listeners, or if not exists to external listeners.\n  * It's has an optional mechanism for automatic management of response handlers.\n  * The response handler will be unregistered after receiving the response, or after response timeout (default to 3s).\n  * @param  {Message} msg Message to send. Message ID is automatically added to the message.\n  * @param  {Function} responseCallback Optional parameter, if the developer what's automatic response management.\n  * @return {number} Returns the message ID, in case it should be needed for manual management of the response handler.\n  */\n  postMessage(inMsg, responseCallback) { }\n\n  /**\n   * Not public available, used by the class extension implementation, to process messages from the public \"postMessage\" without a registered listener.\n   * Used to send the message to an external interface, like a WebWorker, IFrame, etc.\n   * @param  {Message.Message} msg Message\n   */\n  _onPostMessage(msg) { /*implementation will send message to external system*/ }\n\n  /**\n   * Not public available, used by the class extension implementation, to process all messages that enter the MiniBus from an external interface, like a WebWorker, IFrame, etc.\n   * This method is called one time in the constructor to register external listeners.\n   * The implementation will probably call the \"_onMessage\" method to publish in the local listeners.\n   * DO NOT call \"postMessage\", there is a danger that the message enters in a cycle!\n   */\n  _registerExternalListener() { /*implementation will register external listener and call \"this._onMessage(msg)\" */ }\n\n}\n\nclass MsgListener {\n  /* private\n  _subscriptions: <string: MsgListener[]>;\n  _url: string;\n  _callback: (msg) => void;\n  */\n\n  constructor(subscriptions, url, callback) {\n    let _this = this;\n\n    _this._subscriptions = subscriptions;\n    _this._url = url;\n    _this._callback = callback;\n  }\n\n  get url() { return this._url; }\n\n  /**\n   * Remove this listener from the Bus\n   */\n  remove() {\n    let _this = this;\n\n    let subs = _this._subscriptions[_this._url];\n    if (subs) {\n      let index = subs.indexOf(_this);\n      subs.splice(index, 1);\n\n      //if there are no listeners, remove the subscription entirely.\n      if (subs.length === 0) {\n        delete _this._subscriptions[_this._url];\n      }\n    }\n  }\n}\n\nexport default Bus;\n","/**\n* Copyright 2016 PT Inovao e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport Bus from './Bus';\n\n/**\n* @author micaelpedrosa@gmail.com\n* Message BUS Interface is an extension of the Bus\n* It is used mainly in the internal sandbox routing.\n*/\nclass MiniBus extends Bus {\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Post a message for routing. Message is routed directly to the external routing _onPostMessage.\n   * @param  {Message} inMsg            JSON with mandatory Message structure {id, type, from, to}\n   * @param  {Callback} responseCallback Optional callback if a response is expected from the request. A response will be always sent, even if it is a \"Timeout\".\n   * @return {number}                  the Message id\n   */\n  postMessage(inMsg, responseCallback) {\n    let _this = this;\n\n    _this._genId(inMsg);\n    _this._responseCallback(inMsg, responseCallback);\n\n    //always send to external (to core MessageBus)\n    _this._onPostMessage(inMsg);\n\n    return inMsg.id;\n  }\n\n  //internal method used when a message is received by an external routing system\n  _onMessage(msg) {\n    let _this = this;\n\n    if (!_this._onResponse(msg)) {\n      let itemList = _this._subscriptions[msg.to];\n      if (itemList) {\n        _this._publishOn(itemList, msg);\n        if (!msg.to.startsWith('hyperty')) {\n          _this._publishOnDefault(msg);\n        }\n      } else {\n        _this._publishOnDefault(msg);\n      }\n    }\n  }\n\n}\n\nexport default MiniBus;\n","/**\n* Copyright 2016 PT Inovao e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport MiniBus from './bus/MiniBus';\nexport default MiniBus;\n"],"sourceRoot":"/source/"}