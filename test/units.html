<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Unit Tests - reThink Project performance tests</title>
    <style type="text/css">html,body{font-family:Arial,sans-serif;font-size:1rem;margin:0;padding:0;}body{padding:10px 40px;}h1{margin-bottom:0;}h2{margin-top:0;margin-bottom:0;color:#999;}table{width:100%;margin-top:20px;margin-bottom:20px;table-layout:fixed;}tr.header{background:#ddd;font-weight:bold;border-bottom:none;}td{padding:7px;border-top:none;border-left:1px black solid;border-bottom:1px black solid;border-right:none;word-break:break-all;word-wrap:break-word;}tr.pass td{color:#003b07;background:#86e191;}tr.skip td{color:#7d3a00;background:#ffd24a;}tr.fail td{color:#5e0e00;background:#ff9c8a;}tr:first-child td{border-top:1px black solid;}td:last-child{border-right:1px black solid;}tr.overview{font-weight:bold;color:#777;}tr.overview td{padding-bottom:0px;border-bottom:none;}tr.system-out td{color:#777;}tr.system-errors td{color:#f00;}hr{height:2px;margin:30px 0;background:#000;border:none;}section{margin-top:40px;}h3{margin:6px 0;}.overview{color:#333;font-weight:bold;}.system-out{margin:0.4rem 0;}.system-errors{color:#a94442}.spec{padding:0.8rem;margin:0.3rem 0;}.spec--pass{color:#3c763d;background-color:#dff0d8;border:1px solid #d6e9c6;}.spec--skip{color:#8a6d3b;background-color:#fcf8e3;border:1px solid #faebcc;}.spec--fail{color:#a94442;background-color:#f2dede;border:1px solid #ebccd1;}.spec--group{color:#636363;background-color:#f0f0f0;border:1px solid #e6e6e6;margin:0;}.spec--group:not(:first-of-type){margin:20px 0 0 0;}.spec__title{display:inline;}.spec__suite{display:inline;}.spec__descrip{font-weight:normal;}.spec__status{float:right;}.spec__log{padding-left: 2.3rem;}.hidden{display:none;}body.compact .spec p{margin-top:0;margin-bottom:0.5rem;}body.compact .spec,body.compact tr,body.compact .overview,body.compact .system-out,body.compact .system-errors{font-size:0.85rem;}body.compact .spec{padding:0.3rem 0.5rem;}body.compact section{margin-top:30px;}</style>
  </head>
  <body class="compact">
    <h1>Unit Tests</h1>
    <h2>reThink Project performance tests</h2>
    <table cellspacing="0" cellpadding="0" border="0">
      <tr class="overview">
        <td colspan="3" title="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36">Browser: Chrome 67.0.3396 (Linux 0.0.0)</td>
      </tr>
      <tr class="overview">
        <td colspan="3">Timestamp: 11/5/2018, 10:04:04 AM</td>
      </tr>
      <tr>
        <td colspan="3">
          174 tests / 
          0 errors / 
          0 failures / 
          43 skipped / 
          runtime: 1.361s
        </td>
      </tr>
      <tr class="header">
        <td>Status</td>
        <td>Spec</td>
        <td>Suite / Results</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should create a new hyperty address</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should create a new data Object address</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should reuse an hyperty url address based on reuse option</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should reuse an hyperty url address based on an given url</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should create a CatalogueDataObject-Factory object without error</td>
        <td>CatalogueDataObjectFactory &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should generate HypertyDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>testing getters/setters (name, type, messageSchema)</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should generate ProtocolStubDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type PROTOSTUB</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should generate HypertyInterceptorDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY_INTERCEPTOR</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate SourcePackage</td>
        <td>CatalogueDataObjectFactory &raquo; createSourcePackage()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should generate CatalogueDataObject of type HypertyDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should generate HypertyRuntimeDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY_RUNTIME</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should generate HypertyDataObjectSchema</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type DATA_SCHEMA</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should create a new CoreDiscovery without error</td>
        <td>CoreDiscovery &raquo; construction</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverHyperties()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjects()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverHypertyPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectsPerName()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectsPerReporter()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.009s</td>
        <td>constructor should receive 3 arguments</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should get hyperty</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should get protocolstub</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>should get protocolstub</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should create a HypertyDiscovery object without error</td>
        <td>Discovery &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.009s</td>
        <td>should return a Promise with an Identity using the default domain</td>
        <td>Discovery &raquo; discoverHypertyPerUser()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return a Promise with an Identity using a given domain</td>
        <td>Discovery &raquo; discoverHypertyPerUser()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHyperty()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertiesPerUserProfileData()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerUserProfileData()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertiesPerGUID()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerGUID()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHyperties()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjects()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertyPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerName()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerReporter()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should create an Identity object without error</td>
        <td>IdentityFactory &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should create a identityManager object without error</td>
        <td>IdentityManager &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should return a Promise with the identity associated</td>
        <td>IdentityManager &raquo; discoverUserRegistered()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return a Promise with the identity associated (with optional hyperty field)</td>
        <td>IdentityManager &raquo; discoverUserRegistered()</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Code and encode test</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test generated IVs</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test generated random values</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test generatePMS key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>Test generateMasterSecret key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>Test concatPMSwithRandoms key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.01s</td>
        <td>Test generateKeys</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.383s</td>
        <td>Test genereated keys pair with encrypt and decrypt data</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test AES algorithm</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Test genereated keys pair, signRSA and verifyRSA</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>Test hashHMAC and verifyHMAC</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check GUI deployment</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check Identities to Choose</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check messageBus</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check coreDiscovery</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check registry</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>setCurrentIdentity/getCurrentIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test sendGenerateMessage</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test requestIdentityToGUI</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentities</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test storeIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test unregisterIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test deleteIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test callIdentityModuleFunc</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test generateAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test callGenerateMethods</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test validateAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test loginSelectedIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test generateSelectedIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test selectIdentityFromGUI</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test selectIdentityForHyperty</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test encryptDataObject/decryptDataObject</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentityAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _getValidToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _resolveDomain</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _filterMessageToHash</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _newChatCrypto</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _sendReporterSessionKey</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test encryptMessage - startHandShake and update</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - startHandShake</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - senderHello</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - receiverHello</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - senderCertificate</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - receiverFinishedMessage</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - reporterSessionKey</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test doMutualAuthentication</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.011s</td>
        <td>should return false instead of true</td>
        <td>schema validation of good Apple &raquo; good Apple should be good</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should add a new schema</td>
        <td>adding new schema</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>sending message</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>pipeline msg change</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>sending using external system</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.016s</td>
        <td>publish unique messages</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>sending without callback and without pipeline processing</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>simple sending message</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>send with external response</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.011s</td>
        <td>send and publish</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>fail detected</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>deliver detected</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>sequence processor</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>depends of the MessageBus</td>
        <td>Registry &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>return AppSandbox()</td>
        <td>Registry &raquo; getAppSandbox()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should register a stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should register a P2P Handler Stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should register a P2P Requester Stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should discover P2PHandlerStub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should discover a ProtocolStub</td>
        <td>Registry &raquo; discoverProtostub(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should register PEP</td>
        <td>Registry &raquo; registerPEP(postMessage, hyperty)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should unregister PEP</td>
        <td>Registry &raquo; unregisterPEP(HypertyRuntimeURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.013s</td>
        <td>should register an Hyperty</td>
        <td>Registry &raquo; registerHyperty(sandbox, descriptorURL, descriptor)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should register a anotherdomain protoStub URL</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get a sandbox from another domain</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get a sandbox from a domain</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should get a sandbox from a specific hypertyIstance</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get a sandbox from a specific protostubURL</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should return a protostub url</td>
        <td>Registry &raquo; resolve(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should unregister a ProtocolStub</td>
        <td>Registry &raquo; unregisterStub(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the user associated to the hyperty URL</td>
        <td>Registry &raquo; getHypertyOwner(hypertyURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the hyperty Name from a given hypertyURL</td>
        <td>Registry &raquo; getHypertyName(hypertyURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should register a new Data Object in the runtime registry</td>
        <td>Registry &raquo; registerDataObject(identifier, dataObjectschema, dataObjectUrl, dataObjectReporter, authorise)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.008s</td>
        <td>should return a previously registered Hyperty URL</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a undefined value if the Hyperty is not previously registered</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should return a previously registered Data Object URL</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a undefined value if the dataObjectURL is not previously registered</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.012s</td>
        <td>should return an hyperty url based on given address</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return the reporterURL associated with the dataobject URL</td>
        <td>Registry &raquo; getReporterURL(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should not found the reporter the reporterURL associated with the dataobject URL</td>
        <td>Registry &raquo; getReporterURL(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return the list of pre authorised users</td>
        <td>Registry &raquo; getPreAuthSubscribers(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return the list of pre authorised users</td>
        <td>Registry &raquo; getDataObjectSubscribers(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should unregister an Hyperty</td>
        <td>Registry &raquo; unregisterHyperty(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a protostub</td>
        <td>Registry &raquo; isLegacy(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.083s</td>
        <td>should return a promise with RuntimeCapabilities and save on storageManager</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>should return if a capability was available</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should update the previous capabilites</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.523s</td>
        <td>expects the runtime was ready</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>depends of the Registry</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>depends of the Identity Module</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the Policy Engine</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the MessageBus</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should be a Promise</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should load an hyperty based on given true value for the reuse</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should load an hyperty based on given reuse URL address</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.011s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should be a Promise</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.012s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should be a Promise</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.008s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>deploy and undeploy</td>
        <td>Sandbox</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.015s</td>
        <td>deploy url duplication rejected</td>
        <td>Sandbox</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.011s</td>
        <td>should use SyncObject</td>
        <td>The Object.Observer and Array.Observer</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should use SyncObject observe</td>
        <td>The Object.Observer and Array.Observer</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should encode a string</td>
        <td>encode decode function</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should divide an url in 3 parts (type, domain, identity)</td>
        <td>Utils Module</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return the dataObjectURL identifier</td>
        <td>Utils Module</td>
      </tr>
      <tr class="system-out">
        <td colspan="3"><strong>System output:</strong><br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Browser Request'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Object{getRuntimeCapabilities: () => { ... }}
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'ist.pt'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'App:', AppSandboxBrowser{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'app'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Work:', Sandbox{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, capabilities: Object{browser: true}, type: 'normal'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Browser Request'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Object{getRuntimeCapabilities: () => { ... }}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name runtimeCatalogue with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name capabilities with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name subscriptions with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name runtime with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name registry with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name cryptoManager with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name identity with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name policy with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name syncherManager with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: 'Found database name hypertyResources with version no: 1'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'REUSETEST -  _reuseAllocatedAddress', 'sp.domain', 1, Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}, 'hyperty', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'CHECK REGISTER: ', Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'REUSETEST -  registeredurls', 'hyperty://sp.domain/b1ee5a74-57e3-8329-60a4-4565ffaf3d16'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'CoreDiscovery - GraphConnector:', class GraphConnector { ... }
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Browser Request'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/hyperty/idp-identifier/openidtest20@gmail.com', criteria: Object{dataSchemes: ..., resources: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/hyperty/idp-identifier/openidtest20@gmail.com'}, id: 2}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/comm', criteria: Object{reporter: ..., dataSchemes: ..., resources: ...}}, id: 3}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'hyperty://ist.pt/1'}, id: 4}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'comm://ist.pt/1'}, id: 5}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'myChat', criteria: Object{dataSchemes: ..., resources: ...}}, id: 6}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/comm', criteria: Object{reporter: ..., dataSchemes: ..., resources: ...}}, id: 7}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Browser Request'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'LOG HERE', Object{constraints: Object{onlyAccessToken: true, onlyIdAssertionValidation: true}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Response->', Object{id: 'openidtest10@gmail.com', descriptor: 'hyperty-catalogue://ist.pt/.well-known/hyperty/HelloHyperty', hypertyURL: 'hyperty://ist.pt/1'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Crypto{_crypto: Crypto{}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'This is the schema', undefined
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[MessageBus Test] pipeline msg change: ', Object{type: 'ping', from: 'hyperty://123', to: 'hyperty://456', id: 1, token: '12345678'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Object{from: 'x', to: 'obj1', id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Object{from: 'x', to: 'obj2', id: 2}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: Object{from: 'x', to: 'obj2', id: 3}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[MessageBus.test sending without callback and without pipeline processing] reply:', Object{type: 'response', id: 1, from: 'runtime://local/123/identity-gui', to: 'runtime://local/123/idm', body: Object{code: 200}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', undefined
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Depoyed->', Object{url: 'runtime://ua.pt/protostub/9196f8cd-7d81-66fb-080b-60a97c2914f6', status: 'deploying'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'MSG BUS LISTENER for MN Subscription Manager: ', Object{type: 'subscribe', from: 'runtime://ua.pt/registry/', to: 'domain://msg-node.ua.pt/sm', body: Object{subscribe: [...], source: 'runtime://ua.pt/registry/'}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'ua.pt'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'MSG BUS LISTENER for Domain Registry: ', Object{type: 'update', to: 'domain://registry.ua.pt', from: 'runtime://ua.pt/registry/', body: Object{resource: 'hyperty://ua.pt/1', value: Object{status: ..., user: ..., p2pHandler: ..., p2pRequester: ...}}, id: 2}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', undefined
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Get Sandbox:', Sandbox{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, capabilities: Object{browser: true}, type: 'normal'}, Registry{registryURL: 'runtime://ua.pt/registry/', appSandbox: AppSandboxBrowser{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'app'}, runtimeURL: 'runtime://ua.pt', p2pHandlerURL: 'runtime://ua.pt/p2phandler/a3e1db54-d958-ecef-fec7-86d4fc610607', runtimeCatalogue: Object{getDataSchemaDescriptor: () => { ... }}, remoteRegistry: '', idModule: Object{getIdentityAssertion: () => { ... }}, storageManager: StorageManager{db: Dexie{_dbSchema: ..., version: ..., _allTables: ..., _tableFactory: ..., _createTransaction: ..., _whenReady: ..., verno: ..., open: ..., close: ..., delete: ..., backendDB: ..., isOpen: ..., hasFailed: ..., dynamicallyOpened: ..., name: ..., on: ..., transaction: ..., table: ..., Collection: ..., Table: ..., Transaction: ..., Version: ..., WhereClause: ..., WriteableCollection: ..., WriteableTable: ..., registry:DataObjectURLs: ..., registry:HypertyURLs: ...}, storageName: 'registry', _remoteStorage: false, _runtimeUA: undefined}, runtimeCapabilities: 'runtimeCapabilities', identifier: '5d31171c-617d-bf79-a864-1887b30eafd7', hypertiesListToRemove: Object{}, hypertiesList: [HypertyInstance{_id: ..., _url: ..., _descriptorURL: ..., _startingTime: ..., _lastModified: ..., _status: ..., _stubs: ..., _stubsConfiguration: ..., _p2pRequester: ..., _descriptor: ..., _hypertyURL: ..., _user: ..., _guid: ..., _runtime: ..., _context: ..., _p2pHandler: ..., _dataSchemes: ..., _resources: ...}], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: WatchingYou{_watching: Object{p2pRequesterStub: ..., p2pConnectionList: ..., protostubsList: ..., idpProxyList: ...}, _observers: []}, p2pHandlerStub: Object{runtime://ua.pt: Object{url: ..., status: ...}}, p2pRequesterStub: Object{ua.pt: Object{url: ..., status: ...}}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{runtime://ua.pt: [...]}, protostubsList: Object{ua.pt: Object{url: ..., status: ...}, anotherDomain.pt: Object{url: ..., status: ...}}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: Object{runtime://ua.pt/protostub/9196f8cd-7d81-66fb-080b-60a97c2914f6: ..., runtime://ua.pt/p2phandler/a3e1db54-d958-ecef-fec7-86d4fc610607: ..., runtime://ua.pt/p2prequester/5635c79c-f0eb-f3c4-7e95-97fbabc9a0dc: ..., hyperty://ua.pt/1: ..., runtime://anotherDomain.pt/protostub/186194ee-0a91-cdd8-9d31-c349229904a8: ...}, appSandbox: Object{runtime://ua.pt: ...}}, pepList: Object{hyperty-catalogue://ua.pt/HelloHyperty: Object{}}, registries: Object{}, _domain: 'ua.pt', _p2pConnectionResolve: P2PConnectionResolve{_registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _remoteP2PEntities: Object{}}, _hypertyUrls: Object{commvalueundefined: [...]}, _dataObjectUrls: Object{}, _runtimeURL: 'runtime://ua.pt', _loader: Loader{log: Logger{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, runtimeConfiguration: Object{}, descriptors: Descriptors{log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, _runtimeURL: 'runtime://ua.pt', runtimeCatalogue: Object{getDataSchemaDescriptor: ...}, _registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _addressAllocation: AddressAllocation{_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _runtimeFactory: Object{databases: ..., storeManager: ...}, _messagesBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}, _messageBus: MessageBus{_msgId: 2, _subscriptions: Object{runtime://ua.pt/registry/: ..., domain://registry.ua.pt: ..., domain://msg-node.ua.pt/sm: ..., runtime://ua.pt/protostub/9196f8cd-7d81-66fb-080b-60a97c2914f6/status: ..., runtime://ua.pt/p2phandler/a3e1db54-d958-ecef-fec7-86d4fc610607/status: ..., runtime://ua.pt/p2prequester/5635c79c-f0eb-f3c4-7e95-97fbabc9a0dc/status: ..., runtime://anotherDomain.pt/protostub/186194ee-0a91-cdd8-9d31-c349229904a8/status: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _forwards: Object{}, _pipelineIn: Pipeline{handlers: ..., onFail: ...}, _pipelineOut: Pipeline{handlers: ..., onFail: ...}}, addressAllocation: AddressAllocation{_url: 'runtime://ua.pt/address-allocation', _bus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, _registry: undefined, _subscriptionManager: undefined}, _domainRegistration: DomainRegistration{registryURL: 'runtime://ua.pt/registry/', runtimeURL: 'runtime://ua.pt', _registrationRetries: 5, expiresTime: 3600, _domain: 'ua.pt', _messageBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'response:', 'runtime://ua.pt/protostub/9196f8cd-7d81-66fb-080b-60a97c2914f6'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'MSG BUS LISTENER for Domain Registry: ', Object{type: 'create', from: 'runtime://ua.pt/registry/', to: 'domain://registry.ua.pt', body: Object{value: Object{name: ..., schema: ..., url: ..., reporter: ..., resources: ..., startingTime: ..., expires: ..., dataSchemes: ..., p2pHandler: ..., p2pRequester: ..., status: ...}, policy: 'policy'}, id: 3}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'checkRegisteredURLs should return a previously registered Data Object URL', ['comm://localhost/9303b707-f301-4929-ad7d-65a89a356871']
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'https://catalogue.ua.pt/.well-known/idp-proxy/slack.com', 'catalogue.ua.pt', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ProtoSTUB->', true
<br />Chrome 67.0.3396 (Linux 0.0.0) ERROR: DexieError{_e: Error{}, name: 'NoSuchDatabaseError', message: 'Database cache doesnt exist', inner: null, _promise: Promise{_listeners: [], onuncatched: function nop() { ... }, _lib: false, _PSD: Object{global: ..., ref: ..., unhandleds: ..., onunhandled: ..., finalize: ...}, _stackHolder: Error{}, _prev: null, _numPrev: 0, _state: false, _value: DexieError{_e: ..., name: ..., message: ..., inner: ..., _promise: ...}}}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[RuntimeUA - init] Starting '
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[StorageManager] - set ', 'capabilities', Object{browser: true}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[StorageManager] - set ', 'runtime:URL', Object{runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[RuntimeUA - init] P2PHandlerURL: ', 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/p2phandler/0372dabc-1cfc-d261-c789-2e47bdad037a'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[StorageManager] - set ', 'p2pHandler:URL', Object{p2pHandlerURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/p2phandler/0372dabc-1cfc-d261-c789-2e47bdad037a'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: StorageManager{db: Dexie{_dbSchema: Object{rethink:activePolicy: ..., rethink:groups: ..., rethink:userPolicies: ..., rethink:spPolicies: ...}, version: function (versionNumber) { ... }, _allTables: Object{rethink:activePolicy: ..., rethink:groups: ..., rethink:userPolicies: ..., rethink:spPolicies: ...}, _tableFactory: function createTable(mode, tableSchema) { ... }, _createTransaction: function (mode, storeNames, dbschema, parentTransaction) { ... }, _whenReady: function (fn) { ... }, verno: 1, open: function () { ... }, close: function () { ... }, delete: function () { ... }, backendDB: function () { ... }, isOpen: function () { ... }, hasFailed: function () { ... }, dynamicallyOpened: function () { ... }, name: 'policy', on: function (eventName, subscriber) { ... }, transaction: function (mode, tableInstances, scopeFunc) { ... }, table: function (tableName) { ... }, Collection: function Collection(whereClause, keyRangeGenerator) { ... }, Table: function Table(name, tableSchema, collClass) { ... }, Transaction: function Transaction(mode, storeNames, dbschema, parent) { ... }, Version: function Version(versionNumber) { ... }, WhereClause: function WhereClause(table, index, orCollection) { ... }, WriteableCollection: function WriteableCollection() { ... }, WriteableTable: function WriteableTable(name, tableSchema, collClass) { ... }, rethink:activePolicy: WriteableTable{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:groups: WriteableTable{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:userPolicies: WriteableTable{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:spPolicies: WriteableTable{name: ..., schema: ..., hook: ..., _collClass: ...}}, storageName: 'policy', _remoteStorage: false, _runtimeUA: RuntimeUA{runtimeConfiguration: Object{domain: ..., storageSchemas: ..., runtimeURLS: ..., catalogueURLs: ..., msgNodeURL: ..., domainRegistryURL: ..., globalRegistryURL: ..., remoteStorage: ...}, runtimeFactory: Object{databases: ..., storeManager: ..., capabilitiesManager: ...}, log: Logger{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, logLevels: Logger{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ..., getLogger: ..., noConflict: ..., getLoggers: ...}, p2p: false, runtimeUtils: Object{runtimeDescriptor: ..., runtimeCapabilities: ...}, storages: Object{capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., runtimeCatalogue: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, runtimeCatalogue: RuntimeCatalogue{_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, graphConnector: function() { ... }, domain: 'localhost', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d', capabilities: Object{browser: ...}, _dataObjectsStorage: DataObjectsStorage{_storageManager: ..., _storeDataObject: ..., _cache: ..., _createSyncDB: ..., _remotes: ..., _factory: ..., _table: ..., _remoteStorageTable: ..., _remoteSchema: ..., _runtimeStatusUpdate: ...}, _hypertyResources: Object{}, p2pHandlerURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/p2phandler/0372dabc-1cfc-d261-c789-2e47bdad037a', descriptorInstance: Descriptors{log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, loader: Loader{log: ..., runtimeConfiguration: ..., descriptors: ...}, identityModule: IdentityModule{_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ...}, registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ...}, messageBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, subscriptionManager: SubscriptionManager{_bus: ..., _storage: ..., _subscriptions: ..., _subscriptionsStorage: ..., runtimeURL: ..., _url: ..., _domain: ...}, addressAllocation: AddressAllocation{_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'Browser Request'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[NOTSAVING] storeDataObjects', DataObjectsStorage{_storageManager: StorageManager{db: Dexie{_dbSchema: ..., version: ..., _allTables: ..., _tableFactory: ..., _createTransaction: ..., _whenReady: ..., verno: ..., open: ..., close: ..., delete: ..., backendDB: ..., isOpen: ..., hasFailed: ..., dynamicallyOpened: ..., name: ..., on: ..., transaction: ..., table: ..., Collection: ..., Table: ..., Transaction: ..., Version: ..., WhereClause: ..., WriteableCollection: ..., WriteableTable: ..., syncherManager:ObjectURLs: ..., remotes: ...}, storageName: 'syncherManager', _remoteStorage: false, _runtimeUA: RuntimeUA{runtimeConfiguration: ..., runtimeFactory: ..., log: ..., logLevels: ..., p2p: ..., runtimeUtils: ..., storages: ..., runtimeCatalogue: ..., runtimeCapabilities: ..., graphConnector: ..., domain: ..., runtimeURL: ..., capabilities: ..., _dataObjectsStorage: ..., _hypertyResources: ..., p2pHandlerURL: ..., descriptorInstance: ..., loader: ..., identityModule: ..., registry: ..., messageBus: ..., subscriptionManager: ..., addressAllocation: ..., policyEngine: ..., coreDiscovery: ..., identityHandler: ..., handlers: ...}}, _storeDataObject: Object{}, _cache: Object{}, _createSyncDB: function createSyncDB(key, runtimeFactory, schema, runtimeStatusUpdate, url = false) { ... }, _remotes: Object{}, _factory: Object{databases: Object{runtimeCatalogue: ..., capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, storeManager: Object{runtimeCatalogue: ..., capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, capabilitiesManager: Object{getRuntimeCapabilities: ...}, messageBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}, _table: 'syncherManager:ObjectURLs', _remoteStorageTable: 'dataObjectStorage', _remoteSchema: 'url', _runtimeStatusUpdate: RuntimeUA{runtimeConfiguration: Object{domain: ..., storageSchemas: ..., runtimeURLS: ..., catalogueURLs: ..., msgNodeURL: ..., domainRegistryURL: ..., globalRegistryURL: ..., remoteStorage: ...}, runtimeFactory: Object{databases: ..., storeManager: ..., capabilitiesManager: ..., messageBus: ...}, log: Logger{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, logLevels: Logger{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ..., getLogger: ..., noConflict: ..., getLoggers: ...}, p2p: false, runtimeUtils: Object{runtimeDescriptor: ..., runtimeCapabilities: ...}, storages: Object{capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., runtimeCatalogue: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, runtimeCatalogue: RuntimeCatalogue{_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, graphConnector: function() { ... }, domain: 'localhost', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d', capabilities: Object{browser: ...}, _dataObjectsStorage: DataObjectsStorage{_storageManager: ..., _storeDataObject: ..., _cache: ..., _createSyncDB: ..., _remotes: ..., _factory: ..., _table: ..., _remoteStorageTable: ..., _remoteSchema: ..., _runtimeStatusUpdate: ...}, _hypertyResources: Object{}, p2pHandlerURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/p2phandler/0372dabc-1cfc-d261-c789-2e47bdad037a', descriptorInstance: Descriptors{log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, loader: Loader{log: ..., runtimeConfiguration: ..., descriptors: ...}, identityModule: IdentityModule{_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ..., _messageBus: ..., _registry: ..., _coreDiscovery: ...}, registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, messageBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, subscriptionManager: SubscriptionManager{_bus: ..., _storage: ..., _subscriptions: ..., _subscriptionsStorage: ..., runtimeURL: ..., _url: ..., _domain: ...}, addressAllocation: AddressAllocation{_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, policyEngine: PEP{pdp: ..., actionsService: ..., context: ...}, coreDiscovery: CoreDiscovery{_messageBus: ..., graphConnector: ..., httpRequest: ..., domain: ..., discoveryURL: ..., registry: ...}, identityHandler: IdentityHandler{_idm: ...}, handlers: MsgBusHandlers{policyEngine: ..., identityManager: ..., cryptoManager: ...}}}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SyncherManager - AddressAllocation] - ', AddressAllocation{_url: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/address-allocation', _bus: MessageBus{_msgId: 0, _subscriptions: Object{runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/subscriptions: ..., runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/discovery/: ..., runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/cryptoManager: ..., runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/registry/: ..., runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/pep: ..., runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/idm: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: Registry{registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _forwards: Object{}, _pipelineIn: Pipeline{handlers: ..., onFail: ...}, _pipelineOut: Pipeline{handlers: ..., onFail: ...}}, _registry: Registry{registryURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/registry/', appSandbox: AppSandboxBrowser{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ...}, runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d', p2pHandlerURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/p2phandler/0372dabc-1cfc-d261-c789-2e47bdad037a', runtimeCatalogue: RuntimeCatalogue{_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, remoteRegistry: undefined, idModule: IdentityModule{_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ..., _messageBus: ..., _registry: ..., _coreDiscovery: ...}, storageManager: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, identifier: 'f0a981fc-fb92-9b0e-fd49-b50d90ab4581', hypertiesListToRemove: Object{}, hypertiesList: [], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: WatchingYou{_watching: ..., _observers: ...}, p2pHandlerStub: Object{}, p2pRequesterStub: Object{}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{}, protostubsList: Object{}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: ..., appSandbox: ...}, pepList: Object{}, registries: Object{}, _domain: 'localhost', _p2pConnectionResolve: P2PConnectionResolve{_registry: ..., _remoteP2PEntities: ...}, _hypertyUrls: Object{}, _dataObjectUrls: Object{}, _loader: Loader{log: ..., runtimeConfiguration: ..., descriptors: ...}, _messageBus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, addressAllocation: AddressAllocation{_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _domainRegistration: DomainRegistration{registryURL: ..., runtimeURL: ..., _registrationRetries: ..., expiresTime: ..., _domain: ..., _messageBus: ...}}, _subscriptionManager: SubscriptionManager{_bus: MessageBus{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, _storage: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, _subscriptions: Object{}, _subscriptionsStorage: Object{}, runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d', _url: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d/subscriptions', _domain: 'localhost'}}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[StorageManager] - set ', 'userAsymmetricKey', Object{public: Uint8Array{0: 48, 1: 130, 2: 1, 3: 34, 4: 48, 5: 13, 6: 6, 7: 9, 8: 42, 9: 134, 10: 72, 11: 134, 12: 247, 13: 13, 14: 1, 15: 1, 16: 1, 17: 5, 18: 0, 19: 3, 20: 130, 21: 1, 22: 15, 23: 0, 24: 48, 25: 130, 26: 1, 27: 10, 28: 2, 29: 130, 30: 1, 31: 1, 32: 0, 33: 213, 34: 202, 35: 108, 36: 1, 37: 123, 38: 134, 39: 168, 40: 65, 41: 41, 42: 222, 43: 6, 44: 26, 45: 165, 46: 186, 47: 110, 48: 159, 49: 199, 50: 175, 51: 58, 52: 64, 53: 148, 54: 174, 55: 253, 56: 184, 57: 20, 58: 147, 59: 133, 60: 181, 61: 231, 62: 185, 63: 136, 64: 203, 65: 9, 66: 102, 67: 1, 68: 152, 69: 187, 70: 204, 71: 229, 72: 67, 73: 199, 74: 240, 75: 56, 76: 87, 77: 55, 78: 196, 79: 56, 80: 146, 81: 107, 82: 0, 83: 244, 84: 181, 85: 72, 86: 21, 87: 173, 88: 201, 89: 163, 90: 55, 91: 173, 92: 180, 93: 148, 94: 206, 95: 29, 96: 64, 97: 33, 98: 142, 99: 37, 100: 165, 101: 136, 102: 156, 103: 65, 104: 212, 105: 76, 106: 212, 107: 182, 108: 161, 109: 10, 110: 128, 111: 96, 112: 139, 113: 207, 114: 109, 115: 4, 116: 44, 117: 96, 118: 119, 119: 225, 120: 220, 121: 118, 122: 226, 123: 151, 124: 82, 125: 120, 126: 52, 127: 161, 128: 206, 129: 177, 130: 85, 131: 94, 132: 54, 133: 144, 134: 175, 135: 171, 136: 161, 137: 6, 138: 16, 139: 202, 140: 107, 141: 41, 142: 171, 143: 26, 144: 22, 145: 14, 146: 44, 147: 180, 148: 53, 149: 160, 150: 10, 151: 28, 152: 84, 153: 119, 154: 94, 155: 42, 156: 95, 157: 29, 158: 87, 159: 32, 160: 84, 161: 143, 162: 147, 163: 128, 164: 67, 165: 223, 166: 242, 167: 221, 168: 124, 169: 253, 170: 1, 171: 178, 172: 47, 173: 190, 174: 210, 175: 226, 176: 185, 177: 62, 178: 21, 179: 32, 180: 131, 181: 77, 182: 93, 183: 234, 184: 160, 185: 65, 186: 15, 187: 254, 188: 178, 189: 23, 190: 194, 191: 234, 192: 151, 193: 52, 194: 51, 195: 67, 196: 186, 197: 86, 198: 47, 199: 119, 200: 186, 201: 156, 202: 41, 203: 138, 204: 25, 205: 127, 206: 68, 207: 197, 208: 230, 209: 77, 210: 164, 211: 172, 212: 220, 213: 114, 214: 180, 215: 159, 216: 20, 217: 1, 218: 187, 219: 8, 220: 229, 221: 65, 222: 245, 223: 11, 224: 33, 225: 67, 226: 106, 227: 109, 228: 140, 229: 119, 230: 157, 231: 139, 232: 105, 233: 91, 234: 124, 235: 129, 236: 20, 237: 43, 238: 201, 239: 88, 240: 94, 241: 124, 242: 223, 243: 35, 244: 150, 245: 255, 246: 102, 247: 13, 248: 233, 249: 183, 250: 111, 251: 176, 252: 155, 253: 248, 254: 126, 255: 116, 256: 142, 257: 204, 258: 254, 259: 164, 260: 17, 261: 72, 262: 227, 263: 188, 264: 146, 265: 13, 266: 165, 267: 0, 268: 94, 269: 202, 270: 23, 271: 143, 272: 28, 273: 231, 274: 122, 275: 79, 276: 154, 277: 135, 278: 243, 279: 97, 280: 127, 281: 233, 282: 120, 283: 52, 284: 82, 285: 206, 286: 126, 287: 210, 288: 181, 289: 2, 290: 3, 291: 1, 292: 0, 293: 1}, private: Uint8Array{0: 48, 1: 130, 2: 4, 3: 189, 4: 2, 5: 1, 6: 0, 7: 48, 8: 13, 9: 6, 10: 9, 11: 42, 12: 134, 13: 72, 14: 134, 15: 247, 16: 13, 17: 1, 18: 1, 19: 1, 20: 5, 21: 0, 22: 4, 23: 130, 24: 4, 25: 167, 26: 48, 27: 130, 28: 4, 29: 163, 30: 2, 31: 1, 32: 0, 33: 2, 34: 130, 35: 1, 36: 1, 37: 0, 38: 213, 39: 202, 40: 108, 41: 1, 42: 123, 43: 134, 44: 168, 45: 65, 46: 41, 47: 222, 48: 6, 49: 26, 50: 165, 51: 186, 52: 110, 53: 159, 54: 199, 55: 175, 56: 58, 57: 64, 58: 148, 59: 174, 60: 253, 61: 184, 62: 20, 63: 147, 64: 133, 65: 181, 66: 231, 67: 185, 68: 136, 69: 203, 70: 9, 71: 102, 72: 1, 73: 152, 74: 187, 75: 204, 76: 229, 77: 67, 78: 199, 79: 240, 80: 56, 81: 87, 82: 55, 83: 196, 84: 56, 85: 146, 86: 107, 87: 0, 88: 244, 89: 181, 90: 72, 91: 21, 92: 173, 93: 201, 94: 163, 95: 55, 96: 173, 97: 180, 98: 148, 99: 206, 100: 29, 101: 64, 102: 33, 103: 142, 104: 37, 105: 165, 106: 136, 107: 156, 108: 65, 109: 212, 110: 76, 111: 212, 112: 182, 113: 161, 114: 10, 115: 128, 116: 96, 117: 139, 118: 207, 119: 109, 120: 4, 121: 44, 122: 96, 123: 119, 124: 225, 125: 220, 126: 118, 127: 226, 128: 151, 129: 82, 130: 120, 131: 52, 132: 161, 133: 206, 134: 177, 135: 85, 136: 94, 137: 54, 138: 144, 139: 175, 140: 171, 141: 161, 142: 6, 143: 16, 144: 202, 145: 107, 146: 41, 147: 171, 148: 26, 149: 22, 150: 14, 151: 44, 152: 180, 153: 53, 154: 160, 155: 10, 156: 28, 157: 84, 158: 119, 159: 94, 160: 42, 161: 95, 162: 29, 163: 87, 164: 32, 165: 84, 166: 143, 167: 147, 168: 128, 169: 67, 170: 223, 171: 242, 172: 221, 173: 124, 174: 253, 175: 1, 176: 178, 177: 47, 178: 190, 179: 210, 180: 226, 181: 185, 182: 62, 183: 21, 184: 32, 185: 131, 186: 77, 187: 93, 188: 234, 189: 160, 190: 65, 191: 15, 192: 254, 193: 178, 194: 23, 195: 194, 196: 234, 197: 151, 198: 52, 199: 51, 200: 67, 201: 186, 202: 86, 203: 47, 204: 119, 205: 186, 206: 156, 207: 41, 208: 138, 209: 25, 210: 127, 211: 68, 212: 197, 213: 230, 214: 77, 215: 164, 216: 172, 217: 220, 218: 114, 219: 180, 220: 159, 221: 20, 222: 1, 223: 187, 224: 8, 225: 229, 226: 65, 227: 245, 228: 11, 229: 33, 230: 67, 231: 106, 232: 109, 233: 140, 234: 119, 235: 157, 236: 139, 237: 105, 238: 91, 239: 124, 240: 129, 241: 20, 242: 43, 243: 201, 244: 88, 245: 94, 246: 124, 247: 223, 248: 35, 249: 150, 250: 255, 251: 102, 252: 13, 253: 233, 254: 183, 255: 111, 256: 176, 257: 155, 258: 248, 259: 126, 260: 116, 261: 142, 262: 204, 263: 254, 264: 164, 265: 17, 266: 72, 267: 227, 268: 188, 269: 146, 270: 13, 271: 165, 272: 0, 273: 94, 274: 202, 275: 23, 276: 143, 277: 28, 278: 231, 279: 122, 280: 79, 281: 154, 282: 135, 283: 243, 284: 97, 285: 127, 286: 233, 287: 120, 288: 52, 289: 82, 290: 206, 291: 126, 292: 210, 293: 181, 294: 2, 295: 3, 296: 1, 297: 0, 298: 1, 299: 2, 300: 130, 301: 1, 302: 0, 303: 26, 304: 100, 305: 4, 306: 117, 307: 34, 308: 100, 309: 122, 310: 252, 311: 160, 312: 72, 313: 114, 314: 4, 315: 116, 316: 20, 317: 209, 318: 119, 319: 19, 320: 213, 321: 67, 322: 161, 323: 153, 324: 57, 325: 8, 326: 196, 327: 226, 328: 117, 329: 91, 330: 122, 331: 27, 332: 2, 333: 194, 334: 42, 335: 30, 336: 28, 337: 227, 338: 113, 339: 145, 340: 45, 341: 55, 342: 215, 343: 232, 344: 36, 345: 117, 346: 47, 347: 255, 348: 8, 349: 79, 350: 219, 351: 115, 352: 46, 353: 9, 354: 7, 355: 31, 356: 192, 357: 221, 358: 85, 359: 24, 360: 186, 361: 212, 362: 204, 363: 135, 364: 217, 365: 241, 366: 174, 367: 106, 368: 245, 369: 251, 370: 27, 371: 182, 372: 3, 373: 99, 374: 244, 375: 235, 376: 15, 377: 15, 378: 4, 379: 78, 380: 33, 381: 142, 382: 201, 383: 115, 384: 111, 385: 135, 386: 166, 387: 90, 388: 186, 389: 49, 390: 189, 391: 95, 392: 71, 393: 149, 394: 90, 395: 110, 396: 208, 397: 64, 398: 113, 399: 29, 400: 94, 401: 230, 402: 100, 403: 97, 404: 243, 405: 237, 406: 129, 407: 209, 408: 23, 409: 221, 410: 132, 411: 224, 412: 253, 413: 232, 414: 24, 415: 116, 416: 227, 417: 123, 418: 211, 419: 106, 420: 208, 421: 20, 422: 179, 423: 48, 424: 145, 425: 5, 426: 53, 427: 252, 428: 143, 429: 54, 430: 196, 431: 63, 432: 183, 433: 120, 434: 81, 435: 126, 436: 166, 437: 100, 438: 136, 439: 95, 440: 206, 441: 225, 442: 248, 443: 183, 444: 119, 445: 127, 446: 115, 447: 89, 448: 104, 449: 253, 450: 65, 451: 8, 452: 68, 453: 250, 454: 154, 455: 130, 456: 142, 457: 133, 458: 156, 459: 90, 460: 12, 461: 185, 462: 106, 463: 55, 464: 194, 465: 248, 466: 122, 467: 37, 468: 170, 469: 50, 470: 10, 471: 66, 472: 253, 473: 201, 474: 116, 475: 183, 476: 75, 477: 51, 478: 13, 479: 54, 480: 209, 481: 122, 482: 236, 483: 46, 484: 79, 485: 152, 486: 152, 487: 148, 488: 134, 489: 98, 490: 50, 491: 38, 492: 120, 493: 108, 494: 196, 495: 209, 496: 156, 497: 174, 498: 111, 499: 57, 500: 164, 501: 117, 502: 77, 503: 251, 504: 16, 505: 74, 506: 133, 507: 60, 508: 66, 509: 209, 510: 52, 511: 255, 512: 238, 513: 174, 514: 94, 515: 123, 516: 207, 517: 74, 518: 105, 519: 29, 520: 154, 521: 192, 522: 16, 523: 163, 524: 205, 525: 196, 526: 32, 527: 51, 528: 160, 529: 160, 530: 128, 531: 177, 532: 2, 533: 67, 534: 105, 535: 125, 536: 174, 537: 219, 538: 238, 539: 125, 540: 63, 541: 201, 542: 84, 543: 79, 544: 241, 545: 13, 546: 122, 547: 147, 548: 203, 549: 123, 550: 239, 551: 224, 552: 108, 553: 53, 554: 195, 555: 78, 556: 58, 557: 44, 558: 57, 559: 2, 560: 129, 561: 129, 562: 0, 563: 239, 564: 11, 565: 36, 566: 49, 567: 240, 568: 199, 569: 241, 570: 40, 571: 22, 572: 13, 573: 255, 574: 78, 575: 119, 576: 136, 577: 91, 578: 85, 579: 22, 580: 156, 581: 250, 582: 226, 583: 95, 584: 182, 585: 21, 586: 22, 587: 156, 588: 149, 589: 28, 590: 184, 591: 93, 592: 88, 593: 47, 594: 93, 595: 23, 596: 250, 597: 100, 598: 248, 599: 236, 600: 60, 601: 243, 602: 84, 603: 15, 604: 123, 605: 173, 606: 247, 607: 98, 608: 85, 609: 134, 610: 118, 611: 117, 612: 235, 613: 60, 614: 199, 615: 98, 616: 12, 617: 49, 618: 113, 619: 0, 620: 28, 621: 203, 622: 33, 623: 158, 624: 90, 625: 5, 626: 163, 627: 251, 628: 103, 629: 248, 630: 63, 631: 78, 632: 20, 633: 210, 634: 98, 635: 37, 636: 188, 637: 193, 638: 57, 639: 37, 640: 110, 641: 58, 642: 127, 643: 209, 644: 95, 645: 245, 646: 184, 647: 57, 648: 107, 649: 213, 650: 247, 651: 234, 652: 143, 653: 78, 654: 228, 655: 210, 656: 104, 657: 111, 658: 131, 659: 244, 660: 213, 661: 65, 662: 39, 663: 166, 664: 247, 665: 144, 666: 137, 667: 204, 668: 197, 669: 145, 670: 155, 671: 205, 672: 226, 673: 66, 674: 88, 675: 36, 676: 75, 677: 27, 678: 211, 679: 128, 680: 141, 681: 174, 682: 5, 683: 169, 684: 204, 685: 176, 686: 218, 687: 127, 688: 176, 689: 145, 690: 215, 691: 2, 692: 129, 693: 129, 694: 0, 695: 228, 696: 244, 697: 181, 698: 38, 699: 39, 700: 224, 701: 149, 702: 235, 703: 83, 704: 180, 705: 74, 706: 135, 707: 222, 708: 203, 709: 187, 710: 228, 711: 186, 712: 105, 713: 210, 714: 168, 715: 72, 716: 234, 717: 163, 718: 126, 719: 54, 720: 196, 721: 236, 722: 164, 723: 190, 724: 62, 725: 81, 726: 243, 727: 0, 728: 37, 729: 224, 730: 77, 731: 103, 732: 6, 733: 118, 734: 86, 735: 15, 736: 223, 737: 167, 738: 69, 739: 152, 740: 8, 741: 76, 742: 134, 743: 64, 744: 48, 745: 222, 746: 216, 747: 214, 748: 209, 749: 218, 750: 108, 751: 90, 752: 113, 753: 169, 754: 232, 755: 18, 756: 103, 757: 151, 758: 165, 759: 52, 760: 55, 761: 93, 762: 146, 763: 69, 764: 51, 765: 113, 766: 160, 767: 26, 768: 37, 769: 151, 770: 207, 771: 42, 772: 77, 773: 70, 774: 0, 775: 12, 776: 199, 777: 211, 778: 3, 779: 218, 780: 190, 781: 54, 782: 235, 783: 71, 784: 249, 785: 213, 786: 125, 787: 13, 788: 245, 789: 223, 790: 34, 791: 68, 792: 205, 793: 11, 794: 136, 795: 144, 796: 108, 797: 194, 798: 137, 799: 245, 800: 140, 801: 137, 802: 157, 803: 204, 804: 58, 805: 39, 806: 157, 807: 140, 808: 4, 809: 112, 810: 26, 811: 70, 812: 142, 813: 135, 814: 196, 815: 7, 816: 249, 817: 73, 818: 228, 819: 168, 820: 63, 821: 134, 822: 83, 823: 2, 824: 129, 825: 128, 826: 89, 827: 186, 828: 60, 829: 227, 830: 226, 831: 21, 832: 171, 833: 23, 834: 248, 835: 239, 836: 88, 837: 30, 838: 4, 839: 16, 840: 82, 841: 248, 842: 37, 843: 124, 844: 215, 845: 79, 846: 145, 847: 205, 848: 175, 849: 44, 850: 197, 851: 169, 852: 211, 853: 22, 854: 1, 855: 51, 856: 208, 857: 211, 858: 136, 859: 228, 860: 156, 861: 114, 862: 51, 863: 122, 864: 205, 865: 123, 866: 136, 867: 52, 868: 76, 869: 160, 870: 199, 871: 112, 872: 131, 873: 0, 874: 132, 875: 82, 876: 192, 877: 133, 878: 182, 879: 240, 880: 12, 881: 190, 882: 245, 883: 227, 884: 216, 885: 251, 886: 205, 887: 140, 888: 205, 889: 1, 890: 56, 891: 165, 892: 86, 893: 49, 894: 173, 895: 5, 896: 115, 897: 211, 898: 19, 899: 135, 900: 62, 901: 160, 902: 76, 903: 196, 904: 139, 905: 128, 906: 222, 907: 254, 908: 190, 909: 37, 910: 96, 911: 168, 912: 113, 913: 176, 914: 149, 915: 131, 916: 37, 917: 130, 918: 14, 919: 216, 920: 212, 921: 195, 922: 27, 923: 107, 924: 209, 925: 1, 926: 41, 927: 83, 928: 84, 929: 21, 930: 229, 931: 159, 932: 99, 933: 128, 934: 176, 935: 79, 936: 117, 937: 199, 938: 208, 939: 23, 940: 193, 941: 98, 942: 42, 943: 167, 944: 3, 945: 227, 946: 108, 947: 81, 948: 65, 949: 49, 950: 67, 951: 44, 952: 236, 953: 17, 954: 2, 955: 129, 956: 129, 957: 0, 958: 215, 959: 165, 960: 64, 961: 133, 962: 154, 963: 163, 964: 166, 965: 177, 966: 10, 967: 154, 968: 210, 969: 100, 970: 28, 971: 205, 972: 169, 973: 192, 974: 106, 975: 111, 976: 199, 977: 177, 978: 39, 979: 84, 980: 144, 981: 255, 982: 12, 983: 216, 984: 247, 985: 198, 986: 199, 987: 68, 988: 237, 989: 108, 990: 194, 991: 35, 992: 234, 993: 155, 994: 28, 995: 193, 996: 114, 997: 109, 998: 230, 999: 239, 1000: 145, 1001: 158, 1002: 51, 1003: 239, 1004: 5, 1005: 28, 1006: 161, 1007: 147, 1008: 38, 1009: 33, 1010: 248, 1011: 91, 1012: 153, 1013: 173, 1014: 218, 1015: 150, 1016: 26, 1017: 32, 1018: 242, 1019: 76, 1020: 206, 1021: 1, 1022: 21, 1023: 40, 1024: 92, 1025: 162, 1026: 171, 1027: 57, 1028: 35, 1029: 249, 1030: 87, 1031: 7, 1032: 55, 1033: 112, 1034: 49, 1035: 120, 1036: 172, 1037: 200, 1038: 217, 1039: 64, 1040: 208, 1041: 152, 1042: 93, 1043: 204, 1044: 48, 1045: 239, 1046: 244, 1047: 79, 1048: 244, 1049: 235, 1050: 159, 1051: 93, 1052: 136, 1053: 119, 1054: 191, 1055: 115, 1056: 157, 1057: 60, 1058: 88, 1059: 67, 1060: 136, 1061: 11, 1062: 230, 1063: 210, 1064: 34, 1065: 192, 1066: 20, 1067: 158, 1068: 101, 1069: 183, 1070: 183, 1071: 44, 1072: 106, 1073: 229, 1074: 228, 1075: 180, 1076: 212, 1077: 93, 1078: 39, 1079: 225, 1080: 125, 1081: 222, 1082: 183, 1083: 53, 1084: 117, 1085: 239, 1086: 2, 1087: 129, 1088: 128, 1089: 30, 1090: 202, 1091: 71, 1092: 66, 1093: 120, 1094: 10, 1095: 151, 1096: 138, 1097: 228, 1098: 80, 1099: 118, 1100: 248, 1101: 126, 1102: 179, 1103: 170, 1104: 120, 1105: 116, 1106: 80, 1107: 203, 1108: 191, 1109: 230, 1110: 214, 1111: 144, 1112: 104, 1113: 72, 1114: 94, 1115: 74, 1116: 174, 1117: 1, 1118: 23, 1119: 192, 1120: 18, 1121: 119, 1122: 15, 1123: 99, 1124: 160, 1125: 204, 1126: 237, 1127: 28, 1128: 144, 1129: 20, 1130: 232, 1131: 71, 1132: 170, 1133: 134, 1134: 30, 1135: 57, 1136: 190, 1137: 128, 1138: 124, 1139: 147, 1140: 63, 1141: 5, 1142: 70, 1143: 136, 1144: 42, 1145: 239, 1146: 95, 1147: 196, 1148: 239, 1149: 92, 1150: 210, 1151: 252, 1152: 174, 1153: 163, 1154: 122, 1155: 38, 1156: 149, 1157: 24, 1158: 115, 1159: 161, 1160: 95, 1161: 119, 1162: 35, 1163: 161, 1164: 104, 1165: 211, 1166: 116, 1167: 83, 1168: 16, 1169: 101, 1170: 154, 1171: 147, 1172: 166, 1173: 183, 1174: 51, 1175: 59, 1176: 200, 1177: 52, 1178: 215, 1179: 221, 1180: 123, 1181: 193, 1182: 75, 1183: 154, 1184: 213, 1185: 103, 1186: 92, 1187: 29, 1188: 57, 1189: 249, 1190: 25, 1191: 172, 1192: 97, 1193: 168, 1194: 195, 1195: 65, 1196: 182, 1197: 255, 1198: 216, 1199: 50, 1200: 200, 1201: 195, 1202: 38, 1203: 41, 1204: 162, 1205: 102, 1206: 167, 1207: 92, 1208: 96, 1209: 197, 1210: 215, 1211: 246, 1212: 168, 1213: 54, 1214: 14, 1215: 78, 1216: 30}}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[RuntimeUA - init] P2P not supported'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[runtime ua - init] - status: ', 'P2P Not Supported'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'hyperty-catalogue://catalogue.sp.domain/.well-known/hyperty/HelloHyperty', 'catalogue.sp.domain', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'hyperty-catalogue://catalogue.sp.domain/.well-known/hyperty/HelloHyperty', 'catalogue.sp.domain', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'hyperty-catalogue://catalogue.sp.domain/.well-known/hyperty/HelloHyperty', 'catalogue.sp.domain', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'hyperty-catalogue://catalogue.sp.domain/.well-known/hyperty/HelloHyperty', 'catalogue.sp.domain', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'REUSETEST -  _reuseAllocatedAddress', 'localhost', 1, Object{sourcePackage: Object{sourceCode: '', sourceCodeClassname: 'HelloHyperty', encoding: 'UTF-8', signature: ''}, cguid: 10003, version: 0.1, description: 'Description of GroupChat', objectName: 'HelloHyperty', configuration: Object{}, hypertyType: ['chat'], sourcePackageURL: '/sourcePackage', language: 'javascript', signature: '', messageSchemas: '', dataObjects: ['https://catalogue.sp.domain/.well-known/dataschema/Communication'], accessControlPolicy: 'somePolicy'}, 'hyperty', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'checkRegisteredURLs:', 'boolean', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'REUSETEST -  registeredurls', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'hyperty-catalogue://catalogue.sp.domain/.well-known/hyperty/HelloHyperty', 'catalogue.sp.domain', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'wtf', Promise{}
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', 'to: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', 'to: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929', 'to: ', 'runtime://sp.domain/protostub/1363407f-ac23-9ec0-aa24-179bc1a98929/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', 'to: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', 'to: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf', 'to: ', 'runtime://sp.domain/protostub/f8195b94-b170-d592-06c6-02c7e75f4baf/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT InovaÃ§Ã£o e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', 'to: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', 'to: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5', 'to: ', 'runtime://sp.domain/protostub/e85df344-eec7-2ab9-e7a7-8562010814a5/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', 'to: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', 'to: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8', 'to: ', 'domain-idp://google.com/stub/047da1cd-b07f-8999-24d1-0549642389e8/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', 'to: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', 'to: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c', 'to: ', 'domain-idp://google.com/stub/046f80c4-3109-b929-23fa-213d1726cb7c/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/bb3a7b0c-1cd0-11fa-788c-26c9148b173d'}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', 'to: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', 'to: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f', 'to: ', 'domain-idp://google.com/stub/79243854-8707-d666-3e55-013c3b9fd98f/status'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 1}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 2}
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'seq 1 |  - {"cType":"add","oType":"object","field":"1","data":{"name":"Micael","birthdate":"28-02-1981","email":"micael-xxx@gmail.com","phone":911000000,"obj1":{"name":"xpto"},"arr":[]}}'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'seq 2 |  - {"cType":"add","oType":"object","field":"2","data":{"name":"Luis Duarte","birthdate":"02-12-1991","email":"luis-xxx@gmail.com","phone":910000000,"obj1":{"name":"xpto"}}}'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'seq 3 |  - {"cType":"update","oType":"object","field":"1.name","data":"Vitor Silva"}'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'seq 4 |  - {"cType":"update","oType":"object","field":"1.arr","data":[1,0,{"x":10,"y":20}]}'
<br />Chrome 67.0.3396 (Linux 0.0.0) LOG: 'seq 5 |  - {"cType":"update","oType":"array","field":"1.arr.1","data":2}'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0/children/chatmessages'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: 'chatmessages'}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0/children'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: undefined}
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0'
<br />Chrome 67.0.3396 (Linux 0.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: undefined}
</td>
      </tr>
    </table>
    <hr/>
  </body>
</html>