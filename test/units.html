<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Unit Tests - reThink Project performance tests</title>
    <style type="text/css">html,body{font-family:Arial,sans-serif;font-size:1rem;margin:0;padding:0;}body{padding:10px 40px;}h1{margin-bottom:0;}h2{margin-top:0;margin-bottom:0;color:#999;}table{width:100%;margin-top:20px;margin-bottom:20px;table-layout:fixed;}tr.header{background:#ddd;font-weight:bold;border-bottom:none;}td{padding:7px;border-top:none;border-left:1px black solid;border-bottom:1px black solid;border-right:none;word-break:break-all;word-wrap:break-word;}tr.pass td{color:#003b07;background:#86e191;}tr.skip td{color:#7d3a00;background:#ffd24a;}tr.fail td{color:#5e0e00;background:#ff9c8a;}tr:first-child td{border-top:1px black solid;}td:last-child{border-right:1px black solid;}tr.overview{font-weight:bold;color:#777;}tr.overview td{padding-bottom:0px;border-bottom:none;}tr.system-out td{color:#777;}tr.system-errors td{color:#f00;}hr{height:2px;margin:30px 0;background:#000;border:none;}section{margin-top:40px;}h3{margin:6px 0;}.overview{color:#333;font-weight:bold;}.system-out{margin:0.4rem 0;}.system-errors{color:#a94442}.spec{padding:0.8rem;margin:0.3rem 0;}.spec--pass{color:#3c763d;background-color:#dff0d8;border:1px solid #d6e9c6;}.spec--skip{color:#8a6d3b;background-color:#fcf8e3;border:1px solid #faebcc;}.spec--fail{color:#a94442;background-color:#f2dede;border:1px solid #ebccd1;}.spec--group{color:#636363;background-color:#f0f0f0;border:1px solid #e6e6e6;margin:0;}.spec--group:not(:first-of-type){margin:20px 0 0 0;}.spec__title{display:inline;}.spec__suite{display:inline;}.spec__descrip{font-weight:normal;}.spec__status{float:right;}.spec__log{padding-left: 2.3rem;}.hidden{display:none;}body.compact .spec p{margin-top:0;margin-bottom:0.5rem;}body.compact .spec,body.compact tr,body.compact .overview,body.compact .system-out,body.compact .system-errors{font-size:0.85rem;}body.compact .spec{padding:0.3rem 0.5rem;}body.compact section{margin-top:30px;}</style>
  </head>
  <body class="compact">
    <h1>Unit Tests</h1>
    <h2>reThink Project performance tests</h2>
    <table cellspacing="0" cellpadding="0" border="0">
      <tr class="overview">
        <td colspan="3" title="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36">Browser: Chrome 70.0.3538 (Windows 10.0.0)</td>
      </tr>
      <tr class="overview">
        <td colspan="3">Timestamp: 2018-12-17 16:54:19</td>
      </tr>
      <tr>
        <td colspan="3">
          174 tests / 
          0 errors / 
          0 failures / 
          43 skipped / 
          runtime: 0.423s
        </td>
      </tr>
      <tr class="header">
        <td>Status</td>
        <td>Spec</td>
        <td>Suite / Results</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should create a new hyperty address</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should create a new data Object address</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should reuse an hyperty url address based on reuse option</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should reuse an hyperty url address based on an given url</td>
        <td>AddressAllocation</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should create a CatalogueDataObject-Factory object without error</td>
        <td>CatalogueDataObjectFactory &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should generate HypertyDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>testing getters/setters (name, type, messageSchema)</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate ProtocolStubDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type PROTOSTUB</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createProtoStubDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate HypertyInterceptorDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY_INTERCEPTOR</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyInterceptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate SourcePackage</td>
        <td>CatalogueDataObjectFactory &raquo; createSourcePackage()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate CatalogueDataObject of type HypertyDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createCatalogueDataObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate HypertyRuntimeDescriptor</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type HYPERTY_RUNTIME</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyRuntimeDescriptorObject()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should generate HypertyDataObjectSchema</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should be of type DATA_SCHEMA</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should have valid GUID</td>
        <td>CatalogueDataObjectFactory &raquo; createHypertyDataObjectSchema()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should create a new CoreDiscovery without error</td>
        <td>CoreDiscovery &raquo; construction</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverHyperties()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjects()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverHypertyPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectsPerName()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should conclude the advanced search without error</td>
        <td>CoreDiscovery &raquo; discoverDataObjectsPerReporter()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>constructor should receive 3 arguments</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get hyperty</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get protocolstub</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should get protocolstub</td>
        <td>Should get configuration and parse to Descriptors</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should create a HypertyDiscovery object without error</td>
        <td>Discovery &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should return a Promise with an Identity using the default domain</td>
        <td>Discovery &raquo; discoverHypertyPerUser()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return a Promise with an Identity using a given domain</td>
        <td>Discovery &raquo; discoverHypertyPerUser()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHyperty()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertiesPerUserProfileData()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerUserProfileData()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertiesPerGUID()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerGUID()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHyperties()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjects()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverHypertyPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectPerURL()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerName()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should conclude the advanced search without error</td>
        <td>Discovery &raquo; discoverDataObjectsPerReporter()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should create an Identity object without error</td>
        <td>IdentityFactory &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should create a identityManager object without error</td>
        <td>IdentityManager &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should return a Promise with the identity associated</td>
        <td>IdentityManager &raquo; discoverUserRegistered()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should return a Promise with the identity associated (with optional hyperty field)</td>
        <td>IdentityManager &raquo; discoverUserRegistered()</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Code and encode test</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test generated IVs</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test generated random values</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>Test generatePMS key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>Test generateMasterSecret key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>Test concatPMSwithRandoms key</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>Test generateKeys</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.166s</td>
        <td>Test genereated keys pair with encrypt and decrypt data</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>Test AES algorithm</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Test genereated keys pair, signRSA and verifyRSA</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Test hashHMAC and verifyHMAC</td>
        <td>Crypto tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check GUI deployment</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check Identities to Choose</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check messageBus</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check coreDiscovery</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>Check registry</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>setCurrentIdentity/getCurrentIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test sendGenerateMessage</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test requestIdentityToGUI</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentities</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test storeIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test unregisterIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test deleteIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test callIdentityModuleFunc</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test generateAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test callGenerateMethods</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test validateAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test loginSelectedIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test generateSelectedIdentity</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test selectIdentityFromGUI</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test selectIdentityForHyperty</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test encryptDataObject/decryptDataObject</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdentityAssertion</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getIdToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _getValidToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test getToken</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _resolveDomain</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _filterMessageToHash</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _newChatCrypto</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _sendReporterSessionKey</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test encryptMessage - startHandShake and update</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - startHandShake</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - senderHello</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - receiverHello</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - senderCertificate</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - receiverFinishedMessage</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test _doHandShakePhase - reporterSessionKey</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>test doMutualAuthentication</td>
        <td>Identity Module tests</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should return false instead of true</td>
        <td>schema validation of good Apple &raquo; good Apple should be good</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should add a new schema</td>
        <td>adding new schema</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>sending message</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>pipeline msg change</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>sending using external system</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.01s</td>
        <td>publish unique messages</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>sending without callback and without pipeline processing</td>
        <td>MessageBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>simple sending message</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>send with external response</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.009s</td>
        <td>send and publish</td>
        <td>MiniBus</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>fail detected</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>deliver detected</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>sequence processor</td>
        <td>Pipeline</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the MessageBus</td>
        <td>Registry &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>return AppSandbox()</td>
        <td>Registry &raquo; getAppSandbox()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should register a stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should register a P2P Handler Stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should register a P2P Requester Stub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should discover P2PHandlerStub</td>
        <td>Registry &raquo; registerStub(sandBox, domainURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should discover a ProtocolStub</td>
        <td>Registry &raquo; discoverProtostub(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should register PEP</td>
        <td>Registry &raquo; registerPEP(postMessage, hyperty)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should unregister PEP</td>
        <td>Registry &raquo; unregisterPEP(HypertyRuntimeURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.009s</td>
        <td>should register an Hyperty</td>
        <td>Registry &raquo; registerHyperty(sandbox, descriptorURL, descriptor)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should register a anotherdomain protoStub URL</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should get a sandbox from another domain</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should get a sandbox from a domain</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should get a sandbox from a specific hypertyIstance</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should get a sandbox from a specific protostubURL</td>
        <td>Registry &raquo; getSandbox(url, constraints)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should return a protostub url</td>
        <td>Registry &raquo; resolve(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should unregister a ProtocolStub</td>
        <td>Registry &raquo; unregisterStub(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the user associated to the hyperty URL</td>
        <td>Registry &raquo; getHypertyOwner(hypertyURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the hyperty Name from a given hypertyURL</td>
        <td>Registry &raquo; getHypertyName(hypertyURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should register a new Data Object in the runtime registry</td>
        <td>Registry &raquo; registerDataObject(identifier, dataObjectschema, dataObjectUrl, dataObjectReporter, authorise)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should return a previously registered Hyperty URL</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a undefined value if the Hyperty is not previously registered</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a previously registered Data Object URL</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a undefined value if the dataObjectURL is not previously registered</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return an hyperty url based on given address</td>
        <td>Registry &raquo; checkRegisteredURLs(info)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the reporterURL associated with the dataobject URL</td>
        <td>Registry &raquo; getReporterURL(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should not found the reporter the reporterURL associated with the dataobject URL</td>
        <td>Registry &raquo; getReporterURL(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the list of pre authorised users</td>
        <td>Registry &raquo; getPreAuthSubscribers(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>should return the list of pre authorised users</td>
        <td>Registry &raquo; getDataObjectSubscribers(dataObjectURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should unregister an Hyperty</td>
        <td>Registry &raquo; unregisterHyperty(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return a protostub</td>
        <td>Registry &raquo; isLegacy(url)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should return a promise with RuntimeCapabilities and save on storageManager</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>should return if a capability was available</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should update the previous capabilites</td>
        <td>Runtime Runtime Capabilities</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.043s</td>
        <td>expects the runtime was ready</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>depends of the Registry</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the Identity Module</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the Policy Engine</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0s</td>
        <td>depends of the MessageBus</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; constructor()</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>Load Hyperty should return a promise</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should load an hyperty based on given true value for the reuse</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should load an hyperty based on given reuse URL address</td>
        <td>RuntimeUA &raquo; loadHyperty(hypertyDescriptorURL)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.004s</td>
        <td>should be a Promise</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadStub(sp-domain)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.007s</td>
        <td>should throw when given no arguments</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.006s</td>
        <td>should be a Promise</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.005s</td>
        <td>should be deployed</td>
        <td>RuntimeUA &raquo; loadIdpProxy(google.com)</td>
      </tr>
      <tr class="skip">
        <td>Skipped</td>
        <td>deploy and undeploy</td>
        <td>Sandbox</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>deploy url duplication rejected</td>
        <td>Sandbox</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.003s</td>
        <td>should use SyncObject</td>
        <td>The Object.Observer and Array.Observer</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should use SyncObject observe</td>
        <td>The Object.Observer and Array.Observer</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.001s</td>
        <td>should encode a string</td>
        <td>encode decode function</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should divide an url in 3 parts (type, domain, identity)</td>
        <td>Utils Module</td>
      </tr>
      <tr class="pass">
        <td>Passed in 0.002s</td>
        <td>should return the dataObjectURL identifier</td>
        <td>Utils Module</td>
      </tr>
      <tr class="system-out">
        <td colspan="3"><strong>System output:</strong><br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Browser Request'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: Object{getRuntimeCapabilities: ()=>new Promise(t=>{ ... })}
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'ist.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'App:', a{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'app'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Work:', {_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, capabilities: Object{browser: true}, type: 'normal'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name capabilities with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtimeCatalogue with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name capabilities with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name subscriptions with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtime with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name registry with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name cryptoManager with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name identity with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtimeCatalogue with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name policy with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name syncherManager with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name hypertyResources with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Browser Request'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: Object{getRuntimeCapabilities: ()=>new Promise(n=>{ ... })}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/HelloWorldDataSchema', reporter: [], resources: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation] - new address will be allocated'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtimeCatalogue with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name capabilities with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name subscriptions with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtime with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name registry with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name cryptoManager with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name identity with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name policy with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name syncherManager with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name hypertyResources with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'dataObjectName', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/communication', reporter: ['comm://sp.domain/8f69c02d-0ddd-f7fa-db93-a3100cba4c3c'], resources: ['chat']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation] - new address will be allocated'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'REUSETEST -  _reuseAllocatedAddress', 'sp.domain', 1, Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}, 'hyperty', true
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'CHECK REGISTER: ', Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'REUSETEST -  registeredurls', 'hyperty://sp.domain/8f69c02d-0ddd-f7fa-db93-a3100cba4c3c'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[AddressAllocation - hyperty] - Reuse URL'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'test', schema: 'hyperty-catalogue://sp.domain/.well-known/dataschema/hello', reporter: [], resources: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'CoreDiscovery - GraphConnector:', class{ ... }
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Browser Request'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/hyperty/idp-identifier/openidtest20@gmail.com', criteria: Object{dataSchemes: ..., resources: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/hyperty/idp-identifier/openidtest20@gmail.com'}, id: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/comm', criteria: Object{reporter: ..., dataSchemes: ..., resources: ...}}, id: 3}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'hyperty://ist.pt/1'}, id: 4}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'comm://ist.pt/1'}, id: 5}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: 'myChat', criteria: Object{dataSchemes: ..., resources: ...}}, id: 6}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: Object{type: 'read', from: 'hyperty-runtime://ua.pt/123/discovery/', to: 'domain://registry.ua.pt', body: Object{resource: '/comm', criteria: Object{reporter: ..., dataSchemes: ..., resources: ...}}, id: 7}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Browser Request'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Storage may be cleared by the UA under storage pressure.'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: 'Found database name runtimeCatalogue with version no: 1'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'LOG HERE', Object{constraints: Object{onlyAccessToken: true, onlyIdAssertionValidation: true}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Response->', Object{id: 'openidtest10@gmail.com', descriptor: 'hyperty-catalogue://ist.pt/.well-known/hyperty/HelloHyperty', hypertyURL: 'hyperty://ist.pt/1'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: {_crypto: Crypto{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 12, 1: 1, 2: 242, 3: 55, 4: 98, 5: 86, 6: 254, 7: 244, 8: 101, 9: 89, 10: 111, 11: 162, 12: 161, 13: 153, 14: 42, 15: 57, 16: 108, 17: 45, 18: 166, 19: 133, 20: 56, 21: 143, 22: 203, 23: 70, 24: 22, 25: 232, 26: 85, 27: 27, 28: 74, 29: 108, 30: 109, 31: 225}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', Uint8Array{0: 57, 1: 57, 2: 50, 3: 50, 4: 203, 5: 2, 6: 239, 7: 31, 8: 222, 9: 17, 10: 136, 11: 224, 12: 148, 13: 195, 14: 121, 15: 96, 16: 141, 17: 217, 18: 148, 19: 243, 20: 85, 21: 225, 22: 76, 23: 156, 24: 104, 25: 218, 26: 127, 27: 196, 28: 120, 29: 7, 30: 180, 31: 146}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting hashHMAC inpured DATA'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HHashHMAC:', '{"0":57,"1":57,"2":50,"3":50,"4":203,"5":2,"6":239,"7":31,"8":222,"9":17,"10":136,"11":224,"12":148,"13":195,"14":121,"15":96,"16":141,"17":217,"18":148,"19":243,"20":85,"21":225,"22":76,"23":156,"24":104,"25":218,"26":127,"27":196,"28":120,"29":7,"30":180,"31":146}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 129, 1: 209, 2: 14, 3: 226, 4: 46, 5: 236, 6: 74, 7: 122, 8: 88, 9: 103, 10: 19, 11: 164, 12: 26, 13: 199, 14: 130, 15: 61, 16: 68, 17: 67, 18: 107, 19: 129, 20: 236, 21: 240, 22: 45, 23: 9, 24: 29, 25: 180, 26: 36, 27: 38, 28: 46, 29: 27, 30: 27, 31: 212}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 12, 1: 1, 2: 242, 3: 55, 4: 98, 5: 86, 6: 254, 7: 244, 8: 101, 9: 89, 10: 111, 11: 162, 12: 161, 13: 153, 14: 42, 15: 57, 16: 108, 17: 45, 18: 166, 19: 133, 20: 56, 21: 143, 22: 203, 23: 70, 24: 22, 25: 232, 26: 85, 27: 27, 28: 74, 29: 108, 30: 109, 31: 225}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,50,203,2,239,31,222,17,136,224,148,195,121,96,141,217,148,243,85,225,76,156,104,218,127,196,120,7,180,146129,209,14,226,46,236,74,122,88,103,19,164,26,199,130,61,68,67,107,129,236,240,45,9,29,180,36,38,46,27,27,212'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 233, 1: 203, 2: 243, 3: 245, 4: 138, 5: 176, 6: 117, 7: 51, 8: 65, 9: 34, 10: 227, 11: 177, 12: 43, 13: 121, 14: 104, 15: 217, 16: 72, 17: 118, 18: 160, 19: 182, 20: 142, 21: 185, 22: 7, 23: 52, 24: 209, 25: 121, 26: 241, 27: 125, 28: 20, 29: 102, 30: 104, 31: 60}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 12, 1: 1, 2: 242, 3: 55, 4: 98, 5: 86, 6: 254, 7: 244, 8: 101, 9: 89, 10: 111, 11: 162, 12: 161, 13: 153, 14: 42, 15: 57, 16: 108, 17: 45, 18: 166, 19: 133, 20: 56, 21: 143, 22: 203, 23: 70, 24: 22, 25: 232, 26: 85, 27: 27, 28: 74, 29: 108, 30: 109, 31: 225}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', Uint8Array{0: 57, 1: 57, 2: 50, 3: 50, 4: 203, 5: 2, 6: 239, 7: 31, 8: 222, 9: 17, 10: 136, 11: 224, 12: 148, 13: 195, 14: 121, 15: 96, 16: 141, 17: 217, 18: 148, 19: 243, 20: 85, 21: 225, 22: 76, 23: 156, 24: 104, 25: 218, 26: 127, 27: 196, 28: 120, 29: 7, 30: 180, 31: 146}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting hashHMAC inpured DATA'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HHashHMAC:', '{"0":57,"1":57,"2":50,"3":50,"4":203,"5":2,"6":239,"7":31,"8":222,"9":17,"10":136,"11":224,"12":148,"13":195,"14":121,"15":96,"16":141,"17":217,"18":148,"19":243,"20":85,"21":225,"22":76,"23":156,"24":104,"25":218,"26":127,"27":196,"28":120,"29":7,"30":180,"31":146}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 129, 1: 209, 2: 14, 3: 226, 4: 46, 5: 236, 6: 74, 7: 122, 8: 88, 9: 103, 10: 19, 11: 164, 12: 26, 13: 199, 14: 130, 15: 61, 16: 68, 17: 67, 18: 107, 19: 129, 20: 236, 21: 240, 22: 45, 23: 9, 24: 29, 25: 180, 26: 36, 27: 38, 28: 46, 29: 27, 30: 27, 31: 212}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 12, 1: 1, 2: 242, 3: 55, 4: 98, 5: 86, 6: 254, 7: 244, 8: 101, 9: 89, 10: 111, 11: 162, 12: 161, 13: 153, 14: 42, 15: 57, 16: 108, 17: 45, 18: 166, 19: 133, 20: 56, 21: 143, 22: 203, 23: 70, 24: 22, 25: 232, 26: 85, 27: 27, 28: 74, 29: 108, 30: 109, 31: 225}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,50,203,2,239,31,222,17,136,224,148,195,121,96,141,217,148,243,85,225,76,156,104,218,127,196,120,7,180,146129,209,14,226,46,236,74,122,88,103,19,164,26,199,130,61,68,67,107,129,236,240,45,9,29,180,36,38,46,27,27,212'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 233, 1: 203, 2: 243, 3: 245, 4: 138, 5: 176, 6: 117, 7: 51, 8: 65, 9: 34, 10: 227, 11: 177, 12: 43, 13: 121, 14: 104, 15: 217, 16: 72, 17: 118, 18: 160, 19: 182, 20: 142, 21: 185, 22: 7, 23: 52, 24: 209, 25: 121, 26: 241, 27: 125, 28: 20, 29: 102, 30: 104, 31: 60}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 168, 5: 201, 6: 23, 7: 109, 8: 107, 9: 248, 10: 238, 11: 155, 12: 236, 13: 213, 14: 102, 15: 203, 16: 17, 17: 89, 18: 238, 19: 159, 20: 157, 21: 29, 22: 109, 23: 37, 24: 162, 25: 30, 26: 133, 27: 208, 28: 122, 29: 106, 30: 209, 31: 180}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting hashHMAC inpured DATA'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HHashHMAC:', '{"0":57,"1":57,"2":50,"3":56,"4":168,"5":201,"6":23,"7":109,"8":107,"9":248,"10":238,"11":155,"12":236,"13":213,"14":102,"15":203,"16":17,"17":89,"18":238,"19":159,"20":157,"21":29,"22":109,"23":37,"24":162,"25":30,"26":133,"27":208,"28":122,"29":106,"30":209,"31":180}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 84, 1: 227, 2: 178, 3: 146, 4: 138, 5: 226, 6: 186, 7: 52, 8: 32, 9: 191, 10: 53, 11: 91, 12: 133, 13: 117, 14: 21, 15: 199, 16: 42, 17: 173, 18: 148, 19: 245, 20: 139, 21: 194, 22: 130, 23: 173, 24: 47, 25: 33, 26: 4, 27: 65, 28: 3, 29: 129, 30: 102, 31: 252}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18084,227,178,146,138,226,186,52,32,191,53,91,133,117,21,199,42,173,148,245,139,194,130,173,47,33,4,65,3,129,102,252'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 88, 1: 83, 2: 244, 3: 244, 4: 157, 5: 52, 6: 86, 7: 251, 8: 161, 9: 242, 10: 154, 11: 100, 12: 219, 13: 91, 14: 45, 15: 102, 16: 193, 17: 195, 18: 119, 19: 34, 20: 152, 21: 6, 22: 147, 23: 156, 24: 186, 25: 217, 26: 69, 27: 36, 28: 150, 29: 203, 30: 29, 31: 61}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18088,83,244,244,157,52,86,251,161,242,154,100,219,91,45,102,193,195,119,34,152,6,147,156,186,217,69,36,150,203,29,61'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 75, 1: 245, 2: 120, 3: 206, 4: 128, 5: 7, 6: 33, 7: 159, 8: 44, 9: 130, 10: 84, 11: 63, 12: 193, 13: 172, 14: 185, 15: 45, 16: 24, 17: 31, 18: 216, 19: 146, 20: 188, 21: 220, 22: 107, 23: 176, 24: 240, 25: 30, 26: 187, 27: 209, 28: 156, 29: 142, 30: 215, 31: 183}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18075,245,120,206,128,7,33,159,44,130,84,63,193,172,185,45,24,31,216,146,188,220,107,176,240,30,187,209,156,142,215,183'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 143, 1: 183, 2: 236, 3: 204, 4: 58, 5: 80, 6: 68, 7: 180, 8: 68, 9: 236, 10: 245, 11: 199, 12: 126, 13: 236, 14: 15, 15: 58, 16: 69, 17: 236, 18: 207, 19: 241, 20: 147, 21: 16, 22: 115, 23: 141, 24: 176, 25: 54, 26: 60, 27: 123, 28: 155, 29: 232, 30: 12, 31: 26}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 168, 5: 201, 6: 23, 7: 109, 8: 107, 9: 248, 10: 238, 11: 155, 12: 236, 13: 213, 14: 102, 15: 203, 16: 17, 17: 89, 18: 238, 19: 159, 20: 157, 21: 29, 22: 109, 23: 37, 24: 162, 25: 30, 26: 133, 27: 208, 28: 122, 29: 106, 30: 209, 31: 180}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting hashHMAC inpured DATA'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HHashHMAC:', '{"0":57,"1":57,"2":50,"3":56,"4":168,"5":201,"6":23,"7":109,"8":107,"9":248,"10":238,"11":155,"12":236,"13":213,"14":102,"15":203,"16":17,"17":89,"18":238,"19":159,"20":157,"21":29,"22":109,"23":37,"24":162,"25":30,"26":133,"27":208,"28":122,"29":106,"30":209,"31":180}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 84, 1: 227, 2: 178, 3: 146, 4: 138, 5: 226, 6: 186, 7: 52, 8: 32, 9: 191, 10: 53, 11: 91, 12: 133, 13: 117, 14: 21, 15: 199, 16: 42, 17: 173, 18: 148, 19: 245, 20: 139, 21: 194, 22: 130, 23: 173, 24: 47, 25: 33, 26: 4, 27: 65, 28: 3, 29: 129, 30: 102, 31: 252}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18084,227,178,146,138,226,186,52,32,191,53,91,133,117,21,199,42,173,148,245,139,194,130,173,47,33,4,65,3,129,102,252'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 88, 1: 83, 2: 244, 3: 244, 4: 157, 5: 52, 6: 86, 7: 251, 8: 161, 9: 242, 10: 154, 11: 100, 12: 219, 13: 91, 14: 45, 15: 102, 16: 193, 17: 195, 18: 119, 19: 34, 20: 152, 21: 6, 22: 147, 23: 156, 24: 186, 25: 217, 26: 69, 27: 36, 28: 150, 29: 203, 30: 29, 31: 61}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18088,83,244,244,157,52,86,251,161,242,154,100,219,91,45,102,193,195,119,34,152,6,147,156,186,217,69,36,150,203,29,61'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 75, 1: 245, 2: 120, 3: 206, 4: 128, 5: 7, 6: 33, 7: 159, 8: 44, 9: 130, 10: 84, 11: 63, 12: 193, 13: 172, 14: 185, 15: 45, 16: 24, 17: 31, 18: 216, 19: 146, 20: 188, 21: 220, 22: 107, 23: 176, 24: 240, 25: 30, 26: 187, 27: 209, 28: 156, 29: 142, 30: 215, 31: 183}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 57, 1: 57, 2: 50, 3: 56, 4: 222, 5: 42, 6: 107, 7: 134, 8: 242, 9: 222, 10: 151, 11: 124, 12: 209, 13: 177, 14: 204, 15: 11, 16: 238, 17: 91, 18: 135, 19: 237, 20: 98, 21: 253, 22: 209, 23: 173, 24: 222, 25: 85, 26: 94, 27: 231, 28: 103, 29: 185, 30: 94, 31: 108}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', '57,57,50,56,168,201,23,109,107,248,238,155,236,213,102,203,17,89,238,159,157,29,109,37,162,30,133,208,122,106,209,18075,245,120,206,128,7,33,159,44,130,84,63,193,172,185,45,24,31,216,146,188,220,107,176,240,30,187,209,156,142,215,183'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 143, 1: 183, 2: 236, 3: 204, 4: 58, 5: 80, 6: 68, 7: 180, 8: 68, 9: 236, 10: 245, 11: 199, 12: 126, 13: 236, 14: 15, 15: 58, 16: 69, 17: 236, 18: 207, 19: 241, 20: 147, 21: 16, 22: 115, 23: 141, 24: 176, 25: 54, 26: 60, 27: 123, 28: 155, 29: 232, 30: 12, 31: 26}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'encryptRSA:pubKey', Uint8Array{0: 48, 1: 130, 2: 1, 3: 34, 4: 48, 5: 13, 6: 6, 7: 9, 8: 42, 9: 134, 10: 72, 11: 134, 12: 247, 13: 13, 14: 1, 15: 1, 16: 1, 17: 5, 18: 0, 19: 3, 20: 130, 21: 1, 22: 15, 23: 0, 24: 48, 25: 130, 26: 1, 27: 10, 28: 2, 29: 130, 30: 1, 31: 1, 32: 0, 33: 169, 34: 44, 35: 57, 36: 31, 37: 129, 38: 172, 39: 83, 40: 223, 41: 208, 42: 61, 43: 208, 44: 111, 45: 191, 46: 151, 47: 149, 48: 103, 49: 66, 50: 115, 51: 33, 52: 69, 53: 26, 54: 64, 55: 228, 56: 228, 57: 74, 58: 6, 59: 122, 60: 74, 61: 7, 62: 34, 63: 78, 64: 229, 65: 164, 66: 130, 67: 180, 68: 136, 69: 41, 70: 108, 71: 32, 72: 12, 73: 159, 74: 166, 75: 143, 76: 125, 77: 88, 78: 222, 79: 79, 80: 117, 81: 24, 82: 7, 83: 174, 84: 245, 85: 224, 86: 103, 87: 137, 88: 24, 89: 198, 90: 217, 91: 205, 92: 250, 93: 186, 94: 250, 95: 116, 96: 83, 97: 253, 98: 223, 99: 88, 100: 150, 101: 48, 102: 217, 103: 43, 104: 197, 105: 191, 106: 68, 107: 38, 108: 123, 109: 138, 110: 160, 111: 253, 112: 1, 113: 63, 114: 177, 115: 251, 116: 117, 117: 136, 118: 83, 119: 85, 120: 154, 121: 69, 122: 191, 123: 140, 124: 103, 125: 193, 126: 61, 127: 49, 128: 218, 129: 96, 130: 74, 131: 245, 132: 141, 133: 67, 134: 35, 135: 120, 136: 16, 137: 156, 138: 189, 139: 60, 140: 38, 141: 126, 142: 83, 143: 198, 144: 196, 145: 96, 146: 210, 147: 224, 148: 111, 149: 226, 150: 165, 151: 198, 152: 192, 153: 50, 154: 192, 155: 153, 156: 112, 157: 72, 158: 6, 159: 88, 160: 201, 161: 67, 162: 51, 163: 93, 164: 166, 165: 137, 166: 172, 167: 109, 168: 145, 169: 35, 170: 61, 171: 28, 172: 218, 173: 89, 174: 26, 175: 4, 176: 130, 177: 167, 178: 49, 179: 114, 180: 221, 181: 132, 182: 97, 183: 224, 184: 12, 185: 122, 186: 214, 187: 28, 188: 127, 189: 217, 190: 200, 191: 255, 192: 50, 193: 123, 194: 63, 195: 19, 196: 56, 197: 222, 198: 194, 199: 10, 200: 212, 201: 210, 202: 249, 203: 186, 204: 218, 205: 77, 206: 247, 207: 13, 208: 98, 209: 18, 210: 190, 211: 137, 212: 215, 213: 230, 214: 112, 215: 161, 216: 82, 217: 71, 218: 201, 219: 196, 220: 191, 221: 204, 222: 42, 223: 222, 224: 129, 225: 252, 226: 147, 227: 57, 228: 255, 229: 38, 230: 9, 231: 67, 232: 104, 233: 127, 234: 136, 235: 52, 236: 242, 237: 129, 238: 148, 239: 64, 240: 167, 241: 47, 242: 179, 243: 138, 244: 49, 245: 84, 246: 172, 247: 179, 248: 39, 249: 127, 250: 178, 251: 48, 252: 55, 253: 141, 254: 95, 255: 99, 256: 166, 257: 187, 258: 37, 259: 245, 260: 77, 261: 79, 262: 127, 263: 81, 264: 46, 265: 83, 266: 9, 267: 129, 268: 52, 269: 216, 270: 90, 271: 118, 272: 90, 273: 243, 274: 175, 275: 68, 276: 209, 277: 241, 278: 53, 279: 87, 280: 254, 281: 72, 282: 191, 283: 63, 284: 226, 285: 175, 286: 171, 287: 117, 288: 217, 289: 2, 290: 3, 291: 1, 292: 0, 293: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'encryptRSA:data', Uint8Array{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'decryptRSA:privKey', Uint8Array{0: 48, 1: 130, 2: 4, 3: 189, 4: 2, 5: 1, 6: 0, 7: 48, 8: 13, 9: 6, 10: 9, 11: 42, 12: 134, 13: 72, 14: 134, 15: 247, 16: 13, 17: 1, 18: 1, 19: 1, 20: 5, 21: 0, 22: 4, 23: 130, 24: 4, 25: 167, 26: 48, 27: 130, 28: 4, 29: 163, 30: 2, 31: 1, 32: 0, 33: 2, 34: 130, 35: 1, 36: 1, 37: 0, 38: 169, 39: 44, 40: 57, 41: 31, 42: 129, 43: 172, 44: 83, 45: 223, 46: 208, 47: 61, 48: 208, 49: 111, 50: 191, 51: 151, 52: 149, 53: 103, 54: 66, 55: 115, 56: 33, 57: 69, 58: 26, 59: 64, 60: 228, 61: 228, 62: 74, 63: 6, 64: 122, 65: 74, 66: 7, 67: 34, 68: 78, 69: 229, 70: 164, 71: 130, 72: 180, 73: 136, 74: 41, 75: 108, 76: 32, 77: 12, 78: 159, 79: 166, 80: 143, 81: 125, 82: 88, 83: 222, 84: 79, 85: 117, 86: 24, 87: 7, 88: 174, 89: 245, 90: 224, 91: 103, 92: 137, 93: 24, 94: 198, 95: 217, 96: 205, 97: 250, 98: 186, 99: 250, 100: 116, 101: 83, 102: 253, 103: 223, 104: 88, 105: 150, 106: 48, 107: 217, 108: 43, 109: 197, 110: 191, 111: 68, 112: 38, 113: 123, 114: 138, 115: 160, 116: 253, 117: 1, 118: 63, 119: 177, 120: 251, 121: 117, 122: 136, 123: 83, 124: 85, 125: 154, 126: 69, 127: 191, 128: 140, 129: 103, 130: 193, 131: 61, 132: 49, 133: 218, 134: 96, 135: 74, 136: 245, 137: 141, 138: 67, 139: 35, 140: 120, 141: 16, 142: 156, 143: 189, 144: 60, 145: 38, 146: 126, 147: 83, 148: 198, 149: 196, 150: 96, 151: 210, 152: 224, 153: 111, 154: 226, 155: 165, 156: 198, 157: 192, 158: 50, 159: 192, 160: 153, 161: 112, 162: 72, 163: 6, 164: 88, 165: 201, 166: 67, 167: 51, 168: 93, 169: 166, 170: 137, 171: 172, 172: 109, 173: 145, 174: 35, 175: 61, 176: 28, 177: 218, 178: 89, 179: 26, 180: 4, 181: 130, 182: 167, 183: 49, 184: 114, 185: 221, 186: 132, 187: 97, 188: 224, 189: 12, 190: 122, 191: 214, 192: 28, 193: 127, 194: 217, 195: 200, 196: 255, 197: 50, 198: 123, 199: 63, 200: 19, 201: 56, 202: 222, 203: 194, 204: 10, 205: 212, 206: 210, 207: 249, 208: 186, 209: 218, 210: 77, 211: 247, 212: 13, 213: 98, 214: 18, 215: 190, 216: 137, 217: 215, 218: 230, 219: 112, 220: 161, 221: 82, 222: 71, 223: 201, 224: 196, 225: 191, 226: 204, 227: 42, 228: 222, 229: 129, 230: 252, 231: 147, 232: 57, 233: 255, 234: 38, 235: 9, 236: 67, 237: 104, 238: 127, 239: 136, 240: 52, 241: 242, 242: 129, 243: 148, 244: 64, 245: 167, 246: 47, 247: 179, 248: 138, 249: 49, 250: 84, 251: 172, 252: 179, 253: 39, 254: 127, 255: 178, 256: 48, 257: 55, 258: 141, 259: 95, 260: 99, 261: 166, 262: 187, 263: 37, 264: 245, 265: 77, 266: 79, 267: 127, 268: 81, 269: 46, 270: 83, 271: 9, 272: 129, 273: 52, 274: 216, 275: 90, 276: 118, 277: 90, 278: 243, 279: 175, 280: 68, 281: 209, 282: 241, 283: 53, 284: 87, 285: 254, 286: 72, 287: 191, 288: 63, 289: 226, 290: 175, 291: 171, 292: 117, 293: 217, 294: 2, 295: 3, 296: 1, 297: 0, 298: 1, 299: 2, 300: 130, 301: 1, 302: 0, 303: 15, 304: 235, 305: 241, 306: 148, 307: 93, 308: 135, 309: 242, 310: 124, 311: 230, 312: 4, 313: 107, 314: 81, 315: 153, 316: 30, 317: 147, 318: 25, 319: 28, 320: 207, 321: 233, 322: 25, 323: 175, 324: 214, 325: 219, 326: 180, 327: 0, 328: 163, 329: 139, 330: 110, 331: 220, 332: 45, 333: 6, 334: 111, 335: 230, 336: 131, 337: 198, 338: 169, 339: 233, 340: 252, 341: 27, 342: 40, 343: 20, 344: 254, 345: 128, 346: 18, 347: 180, 348: 2, 349: 120, 350: 71, 351: 244, 352: 243, 353: 4, 354: 44, 355: 111, 356: 234, 357: 78, 358: 164, 359: 222, 360: 82, 361: 49, 362: 104, 363: 159, 364: 160, 365: 98, 366: 194, 367: 100, 368: 234, 369: 88, 370: 84, 371: 10, 372: 84, 373: 230, 374: 33, 375: 190, 376: 86, 377: 147, 378: 168, 379: 156, 380: 235, 381: 121, 382: 228, 383: 92, 384: 50, 385: 76, 386: 16, 387: 75, 388: 188, 389: 76, 390: 26, 391: 48, 392: 230, 393: 78, 394: 56, 395: 149, 396: 159, 397: 68, 398: 201, 399: 224, 400: 182, 401: 45, 402: 86, 403: 22, 404: 51, 405: 136, 406: 97, 407: 71, 408: 223, 409: 39, 410: 130, 411: 23, 412: 241, 413: 154, 414: 139, 415: 112, 416: 241, 417: 103, 418: 222, 419: 31, 420: 222, 421: 170, 422: 77, 423: 252, 424: 120, 425: 211, 426: 248, 427: 21, 428: 79, 429: 67, 430: 155, 431: 198, 432: 70, 433: 28, 434: 160, 435: 119, 436: 218, 437: 155, 438: 46, 439: 42, 440: 41, 441: 30, 442: 85, 443: 223, 444: 223, 445: 135, 446: 27, 447: 120, 448: 124, 449: 113, 450: 74, 451: 61, 452: 16, 453: 221, 454: 32, 455: 9, 456: 177, 457: 150, 458: 237, 459: 158, 460: 13, 461: 134, 462: 31, 463: 40, 464: 227, 465: 97, 466: 236, 467: 150, 468: 21, 469: 100, 470: 92, 471: 130, 472: 11, 473: 82, 474: 205, 475: 17, 476: 167, 477: 27, 478: 8, 479: 186, 480: 106, 481: 226, 482: 225, 483: 85, 484: 84, 485: 4, 486: 145, 487: 167, 488: 161, 489: 238, 490: 42, 491: 247, 492: 99, 493: 58, 494: 71, 495: 234, 496: 225, 497: 144, 498: 23, 499: 180, 500: 108, 501: 43, 502: 87, 503: 77, 504: 244, 505: 72, 506: 72, 507: 66, 508: 66, 509: 229, 510: 7, 511: 58, 512: 54, 513: 225, 514: 128, 515: 0, 516: 214, 517: 88, 518: 125, 519: 20, 520: 180, 521: 113, 522: 228, 523: 128, 524: 35, 525: 223, 526: 208, 527: 133, 528: 73, 529: 15, 530: 180, 531: 183, 532: 69, 533: 153, 534: 36, 535: 35, 536: 213, 537: 254, 538: 212, 539: 67, 540: 127, 541: 152, 542: 212, 543: 117, 544: 5, 545: 17, 546: 9, 547: 228, 548: 25, 549: 213, 550: 161, 551: 49, 552: 211, 553: 20, 554: 234, 555: 22, 556: 175, 557: 36, 558: 225, 559: 2, 560: 129, 561: 129, 562: 0, 563: 224, 564: 147, 565: 243, 566: 215, 567: 186, 568: 146, 569: 51, 570: 196, 571: 122, 572: 116, 573: 15, 574: 189, 575: 158, 576: 1, 577: 190, 578: 242, 579: 140, 580: 238, 581: 95, 582: 22, 583: 131, 584: 233, 585: 142, 586: 65, 587: 81, 588: 160, 589: 222, 590: 44, 591: 73, 592: 47, 593: 18, 594: 173, 595: 7, 596: 81, 597: 32, 598: 208, 599: 98, 600: 19, 601: 48, 602: 91, 603: 105, 604: 128, 605: 200, 606: 84, 607: 254, 608: 49, 609: 46, 610: 115, 611: 27, 612: 57, 613: 118, 614: 44, 615: 3, 616: 37, 617: 168, 618: 185, 619: 246, 620: 179, 621: 121, 622: 148, 623: 26, 624: 175, 625: 165, 626: 241, 627: 58, 628: 189, 629: 58, 630: 222, 631: 120, 632: 246, 633: 100, 634: 58, 635: 47, 636: 210, 637: 247, 638: 8, 639: 112, 640: 115, 641: 76, 642: 96, 643: 158, 644: 245, 645: 86, 646: 78, 647: 160, 648: 224, 649: 210, 650: 159, 651: 116, 652: 184, 653: 38, 654: 42, 655: 10, 656: 255, 657: 248, 658: 179, 659: 180, 660: 95, 661: 95, 662: 54, 663: 53, 664: 208, 665: 2, 666: 203, 667: 254, 668: 95, 669: 135, 670: 81, 671: 188, 672: 72, 673: 232, 674: 2, 675: 95, 676: 30, 677: 18, 678: 244, 679: 24, 680: 42, 681: 178, 682: 102, 683: 85, 684: 217, 685: 135, 686: 33, 687: 253, 688: 203, 689: 105, 690: 79, 691: 2, 692: 129, 693: 129, 694: 0, 695: 192, 696: 215, 697: 189, 698: 53, 699: 56, 700: 228, 701: 249, 702: 90, 703: 55, 704: 151, 705: 57, 706: 165, 707: 154, 708: 169, 709: 190, 710: 246, 711: 183, 712: 251, 713: 157, 714: 160, 715: 141, 716: 201, 717: 232, 718: 213, 719: 43, 720: 203, 721: 246, 722: 78, 723: 181, 724: 168, 725: 177, 726: 57, 727: 117, 728: 38, 729: 240, 730: 191, 731: 207, 732: 241, 733: 40, 734: 193, 735: 135, 736: 177, 737: 219, 738: 67, 739: 13, 740: 49, 741: 65, 742: 142, 743: 30, 744: 55, 745: 211, 746: 20, 747: 205, 748: 125, 749: 7, 750: 162, 751: 26, 752: 123, 753: 252, 754: 240, 755: 92, 756: 57, 757: 19, 758: 148, 759: 50, 760: 0, 761: 180, 762: 178, 763: 234, 764: 171, 765: 243, 766: 74, 767: 123, 768: 14, 769: 76, 770: 255, 771: 224, 772: 48, 773: 65, 774: 226, 775: 82, 776: 102, 777: 15, 778: 19, 779: 106, 780: 39, 781: 33, 782: 204, 783: 228, 784: 16, 785: 173, 786: 11, 787: 25, 788: 196, 789: 6, 790: 210, 791: 240, 792: 118, 793: 176, 794: 190, 795: 210, 796: 51, 797: 112, 798: 130, 799: 254, 800: 232, 801: 243, 802: 209, 803: 21, 804: 68, 805: 130, 806: 142, 807: 117, 808: 159, 809: 226, 810: 141, 811: 157, 812: 30, 813: 212, 814: 72, 815: 242, 816: 99, 817: 72, 818: 164, 819: 82, 820: 135, 821: 148, 822: 87, 823: 2, 824: 129, 825: 129, 826: 0, 827: 168, 828: 53, 829: 73, 830: 27, 831: 153, 832: 11, 833: 174, 834: 168, 835: 136, 836: 75, 837: 108, 838: 10, 839: 203, 840: 81, 841: 101, 842: 115, 843: 8, 844: 169, 845: 246, 846: 32, 847: 200, 848: 22, 849: 228, 850: 76, 851: 250, 852: 85, 853: 242, 854: 114, 855: 219, 856: 49, 857: 221, 858: 220, 859: 41, 860: 177, 861: 211, 862: 81, 863: 33, 864: 84, 865: 92, 866: 16, 867: 235, 868: 217, 869: 224, 870: 179, 871: 0, 872: 93, 873: 87, 874: 252, 875: 49, 876: 52, 877: 253, 878: 213, 879: 3, 880: 90, 881: 110, 882: 161, 883: 51, 884: 45, 885: 196, 886: 111, 887: 112, 888: 249, 889: 132, 890: 226, 891: 68, 892: 235, 893: 189, 894: 47, 895: 43, 896: 12, 897: 233, 898: 143, 899: 71, 900: 136, 901: 205, 902: 44, 903: 206, 904: 5, 905: 29, 906: 252, 907: 244, 908: 178, 909: 175, 910: 189, 911: 94, 912: 244, 913: 101, 914: 237, 915: 183, 916: 31, 917: 194, 918: 190, 919: 20, 920: 213, 921: 26, 922: 179, 923: 134, 924: 243, 925: 52, 926: 62, 927: 71, 928: 90, 929: 16, 930: 238, 931: 56, 932: 13, 933: 215, 934: 46, 935: 26, 936: 71, 937: 197, 938: 55, 939: 25, 940: 133, 941: 78, 942: 14, 943: 244, 944: 22, 945: 238, 946: 222, 947: 133, 948: 136, 949: 211, 950: 149, 951: 91, 952: 33, 953: 195, 954: 51, 955: 2, 956: 129, 957: 128, 958: 1, 959: 2, 960: 96, 961: 12, 962: 34, 963: 67, 964: 24, 965: 134, 966: 255, 967: 89, 968: 124, 969: 68, 970: 192, 971: 157, 972: 120, 973: 209, 974: 99, 975: 191, 976: 30, 977: 97, 978: 19, 979: 188, 980: 229, 981: 202, 982: 15, 983: 211, 984: 158, 985: 115, 986: 101, 987: 2, 988: 0, 989: 3, 990: 115, 991: 248, 992: 131, 993: 52, 994: 13, 995: 203, 996: 142, 997: 82, 998: 12, 999: 250, 1000: 194, 1001: 82, 1002: 4, 1003: 132, 1004: 168, 1005: 122, 1006: 44, 1007: 240, 1008: 79, 1009: 219, 1010: 129, 1011: 3, 1012: 209, 1013: 129, 1014: 104, 1015: 176, 1016: 19, 1017: 111, 1018: 210, 1019: 155, 1020: 189, 1021: 221, 1022: 125, 1023: 177, 1024: 129, 1025: 64, 1026: 154, 1027: 119, 1028: 209, 1029: 235, 1030: 38, 1031: 223, 1032: 185, 1033: 73, 1034: 113, 1035: 139, 1036: 239, 1037: 28, 1038: 87, 1039: 32, 1040: 15, 1041: 158, 1042: 35, 1043: 101, 1044: 23, 1045: 9, 1046: 50, 1047: 124, 1048: 95, 1049: 219, 1050: 122, 1051: 4, 1052: 11, 1053: 161, 1054: 24, 1055: 255, 1056: 22, 1057: 7, 1058: 185, 1059: 163, 1060: 233, 1061: 71, 1062: 214, 1063: 59, 1064: 179, 1065: 226, 1066: 249, 1067: 64, 1068: 133, 1069: 138, 1070: 103, 1071: 85, 1072: 49, 1073: 227, 1074: 89, 1075: 218, 1076: 42, 1077: 116, 1078: 67, 1079: 72, 1080: 127, 1081: 189, 1082: 212, 1083: 108, 1084: 191, 1085: 59, 1086: 2, 1087: 129, 1088: 128, 1089: 49, 1090: 183, 1091: 220, 1092: 81, 1093: 81, 1094: 202, 1095: 206, 1096: 144, 1097: 176, 1098: 193, 1099: 174, 1100: 35, 1101: 8, 1102: 22, 1103: 79, 1104: 18, 1105: 239, 1106: 55, 1107: 244, 1108: 33, 1109: 206, 1110: 12, 1111: 218, 1112: 111, 1113: 223, 1114: 2, 1115: 128, 1116: 150, 1117: 165, 1118: 55, 1119: 10, 1120: 232, 1121: 55, 1122: 202, 1123: 111, 1124: 160, 1125: 178, 1126: 11, 1127: 162, 1128: 136, 1129: 50, 1130: 119, 1131: 50, 1132: 75, 1133: 38, 1134: 24, 1135: 200, 1136: 72, 1137: 153, 1138: 212, 1139: 233, 1140: 71, 1141: 13, 1142: 15, 1143: 165, 1144: 225, 1145: 106, 1146: 137, 1147: 160, 1148: 216, 1149: 145, 1150: 237, 1151: 142, 1152: 41, 1153: 236, 1154: 69, 1155: 4, 1156: 233, 1157: 158, 1158: 41, 1159: 51, 1160: 216, 1161: 10, 1162: 111, 1163: 6, 1164: 170, 1165: 181, 1166: 28, 1167: 251, 1168: 239, 1169: 22, 1170: 156, 1171: 126, 1172: 241, 1173: 124, 1174: 208, 1175: 120, 1176: 142, 1177: 30, 1178: 191, 1179: 75, 1180: 230, 1181: 113, 1182: 84, 1183: 237, 1184: 173, 1185: 254, 1186: 235, 1187: 200, 1188: 65, 1189: 66, 1190: 155, 1191: 201, 1192: 252, 1193: 162, 1194: 203, 1195: 247, 1196: 115, 1197: 134, 1198: 41, 1199: 250, 1200: 235, 1201: 176, 1202: 133, 1203: 213, 1204: 246, 1205: 95, 1206: 205, 1207: 66, 1208: 109, 1209: 66, 1210: 50, 1211: 129, 1212: 77, 1213: 182, 1214: 17, 1215: 215, 1216: 158}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'decryptRSA:data', Uint8Array{0: 140, 1: 237, 2: 0, 3: 83, 4: 83, 5: 150, 6: 90, 7: 204, 8: 186, 9: 99, 10: 13, 11: 58, 12: 137, 13: 143, 14: 27, 15: 235, 16: 16, 17: 190, 18: 220, 19: 230, 20: 8, 21: 230, 22: 142, 23: 208, 24: 144, 25: 194, 26: 71, 27: 98, 28: 240, 29: 254, 30: 251, 31: 52, 32: 30, 33: 85, 34: 188, 35: 13, 36: 32, 37: 20, 38: 217, 39: 19, 40: 254, 41: 189, 42: 145, 43: 33, 44: 227, 45: 16, 46: 7, 47: 216, 48: 118, 49: 142, 50: 229, 51: 171, 52: 154, 53: 15, 54: 121, 55: 8, 56: 16, 57: 75, 58: 30, 59: 247, 60: 51, 61: 174, 62: 103, 63: 97, 64: 251, 65: 22, 66: 40, 67: 75, 68: 118, 69: 127, 70: 67, 71: 251, 72: 196, 73: 71, 74: 168, 75: 42, 76: 163, 77: 43, 78: 143, 79: 252, 80: 211, 81: 155, 82: 2, 83: 199, 84: 4, 85: 200, 86: 234, 87: 21, 88: 190, 89: 54, 90: 3, 91: 202, 92: 83, 93: 147, 94: 89, 95: 148, 96: 216, 97: 147, 98: 2, 99: 87, 100: 29, 101: 109, 102: 31, 103: 44, 104: 4, 105: 159, 106: 244, 107: 55, 108: 126, 109: 152, 110: 84, 111: 76, 112: 14, 113: 146, 114: 24, 115: 204, 116: 33, 117: 129, 118: 64, 119: 134, 120: 16, 121: 239, 122: 238, 123: 172, 124: 87, 125: 24, 126: 207, 127: 178, 128: 185, 129: 189, 130: 133, 131: 187, 132: 108, 133: 111, 134: 80, 135: 136, 136: 9, 137: 43, 138: 149, 139: 31, 140: 207, 141: 30, 142: 14, 143: 19, 144: 63, 145: 7, 146: 138, 147: 255, 148: 15, 149: 156, 150: 146, 151: 253, 152: 167, 153: 66, 154: 51, 155: 254, 156: 196, 157: 224, 158: 226, 159: 30, 160: 206, 161: 184, 162: 37, 163: 66, 164: 197, 165: 3, 166: 156, 167: 160, 168: 162, 169: 143, 170: 171, 171: 42, 172: 18, 173: 37, 174: 28, 175: 109, 176: 146, 177: 123, 178: 173, 179: 52, 180: 34, 181: 244, 182: 232, 183: 157, 184: 171, 185: 153, 186: 244, 187: 118, 188: 146, 189: 111, 190: 161, 191: 42, 192: 86, 193: 13, 194: 63, 195: 98, 196: 68, 197: 55, 198: 31, 199: 33, 200: 69, 201: 147, 202: 86, 203: 155, 204: 152, 205: 68, 206: 135, 207: 78, 208: 85, 209: 236, 210: 200, 211: 99, 212: 165, 213: 178, 214: 144, 215: 189, 216: 201, 217: 136, 218: 115, 219: 26, 220: 249, 221: 163, 222: 109, 223: 233, 224: 122, 225: 216, 226: 133, 227: 189, 228: 129, 229: 52, 230: 149, 231: 151, 232: 235, 233: 239, 234: 159, 235: 36, 236: 63, 237: 24, 238: 19, 239: 250, 240: 163, 241: 212, 242: 155, 243: 57, 244: 103, 245: 193, 246: 78, 247: 58, 248: 242, 249: 108, 250: 254, 251: 109, 252: 174, 253: 203, 254: 172, 255: 4}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'encryptAES:key', Uint8Array{0: 48, 1: 49, 2: 48, 3: 52, 4: 241, 5: 127, 6: 244, 7: 3, 8: 140, 9: 233, 10: 215, 11: 200, 12: 43, 13: 150, 14: 127, 15: 48, 16: 156, 17: 100, 18: 126, 19: 246, 20: 177, 21: 74, 22: 108, 23: 102, 24: 144, 25: 40, 26: 203, 27: 70, 28: 13, 29: 24, 30: 224, 31: 236}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'encryptAES:data', '0,1,2,3,4,5,6,7,8,9'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'encryptAES:iv', Uint8Array{0: 60, 1: 120, 2: 137, 3: 28, 4: 30, 5: 90, 6: 117, 7: 198, 8: 59, 9: 136, 10: 97, 11: 116, 12: 2, 13: 171, 14: 184, 15: 171}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'decryptAES:key', Uint8Array{0: 48, 1: 49, 2: 48, 3: 52, 4: 241, 5: 127, 6: 244, 7: 3, 8: 140, 9: 233, 10: 215, 11: 200, 12: 43, 13: 150, 14: 127, 15: 48, 16: 156, 17: 100, 18: 126, 19: 246, 20: 177, 21: 74, 22: 108, 23: 102, 24: 144, 25: 40, 26: 203, 27: 70, 28: 13, 29: 24, 30: 224, 31: 236}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'decryptAES:data', Uint8Array{0: 100, 1: 2, 2: 242, 3: 45, 4: 239, 5: 101, 6: 45, 7: 158, 8: 130, 9: 152, 10: 227, 11: 137, 12: 51, 13: 199, 14: 233, 15: 243, 16: 5, 17: 236, 18: 212, 19: 58, 20: 135, 21: 32, 22: 49, 23: 57, 24: 153, 25: 18, 26: 197, 27: 36, 28: 186, 29: 20, 30: 10, 31: 82}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'decryptAES:iv', Uint8Array{0: 60, 1: 120, 2: 137, 3: 28, 4: 30, 5: 90, 6: 117, 7: 198, 8: 59, 9: 136, 10: 97, 11: 116, 12: 2, 13: 171, 14: 184, 15: 171}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'crypto-decryptAES', '0,1,2,3,4,5,6,7,8,9'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:key', Uint8Array{0: 48, 1: 49, 2: 48, 3: 56, 4: 49, 5: 80, 6: 198, 7: 182, 8: 67, 9: 144, 10: 187, 11: 82, 12: 172, 13: 82, 14: 219, 15: 13, 16: 77, 17: 219, 18: 78, 19: 219, 20: 211, 21: 111, 22: 101, 23: 102, 24: 164, 25: 249, 26: 112, 27: 11, 28: 110, 29: 120, 30: 79, 31: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'hashHMAC:data', Uint8Array{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting hashHMAC inpured DATA'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HHashHMAC:', '{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'HashHMAC signature:', Uint8Array{0: 154, 1: 88, 2: 53, 3: 70, 4: 198, 5: 76, 6: 156, 7: 50, 8: 50, 9: 158, 10: 234, 11: 79, 12: 38, 13: 56, 14: 45, 15: 199, 16: 1, 17: 188, 18: 171, 19: 67, 20: 216, 21: 223, 22: 157, 23: 51, 24: 32, 25: 178, 26: 195, 27: 190, 28: 237, 29: 241, 30: 22, 31: 196}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'verifyHMAC:key', Uint8Array{0: 48, 1: 49, 2: 48, 3: 56, 4: 49, 5: 80, 6: 198, 7: 182, 8: 67, 9: 144, 10: 187, 11: 82, 12: 172, 13: 82, 14: 219, 15: 13, 16: 77, 17: 219, 18: 78, 19: 219, 20: 211, 21: 111, 22: 101, 23: 102, 24: 164, 25: 249, 26: 112, 27: 11, 28: 110, 29: 120, 30: 79, 31: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'verifyHMAC:data', Uint8Array{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'verifyHMAC:signature', Uint8Array{0: 154, 1: 88, 2: 53, 3: 70, 4: 198, 5: 76, 6: 156, 7: 50, 8: 50, 9: 158, 10: 234, 11: 79, 12: 38, 13: 56, 14: 45, 15: 199, 16: 1, 17: 188, 18: 171, 19: 67, 20: 216, 21: 223, 22: 157, 23: 51, 24: 32, 25: 178, 26: 195, 27: 190, 28: 237, 29: 241, 30: 22, 31: 196}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Converting verifyHMAC inputed DATA:', '{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'verifyHMAC result', true
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'This is the schema', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[MessageBus Test] pipeline msg change: ', Object{type: 'ping', from: 'hyperty://123', to: 'hyperty://456', id: 1, token: '12345678'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: Object{from: 'x', to: 'obj1', id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: Object{from: 'x', to: 'obj2', id: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: Object{from: 'x', to: 'obj2', id: 3}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[MessageBus.test sending without callback and without pipeline processing] reply:', Object{type: 'response', id: 1, from: 'runtime://local/123/identity-gui', to: 'runtime://local/123/idm', body: Object{code: 200}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Loader - AddressAllocation] - ', {_url: 'runtime://ua.pt/address-allocation', _bus: {_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ...}, _forwards: Object{}, _pipelineIn: {handlers: ..., onFail: ...}, _pipelineOut: {handlers: ..., onFail: ...}}, _registry: undefined, _subscriptionManager: undefined}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - Normal Stub] - ', 'ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Depoyed->', Object{url: 'runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe', status: 'deploying'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'runtime://ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - P2PHandlerStub] - ', 'runtime://ua.pt', ' - ', 'runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - P2PRequesterStub] - ', true, ' - ', 'runtime://ua.pt/p2prequester/238fbde1-f687-894d-05a0-cf0491f65341'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'MSG BUS LISTENER for MN Subscription Manager: ', Object{type: 'subscribe', from: 'runtime://ua.pt/registry/', to: 'domain://msg-node.ua.pt/sm', body: Object{subscribe: [...], source: 'runtime://ua.pt/registry/'}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - set ', 'registry:HypertyURLs', Object{comm[object Object]undefined: ['hyperty://ua.pt/1']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'MSG BUS LISTENER for Domain Registry: ', Object{type: 'update', to: 'domain://registry.ua.pt', from: 'runtime://ua.pt/registry/', body: Object{resource: 'hyperty://ua.pt/1', value: Object{status: ..., user: ..., p2pHandler: ..., p2pRequester: ...}}, id: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'anotherDomain.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - Normal Stub] - ', 'anotherDomain.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Get Sandbox:', {_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, capabilities: Object{browser: true}, type: 'normal'}, {registryURL: 'runtime://ua.pt/registry/', appSandbox: a{_msgId: 0, _subscriptions: Object{}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'app'}, runtimeURL: 'runtime://ua.pt', p2pHandlerURL: 'runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2', runtimeCatalogue: Object{getDataSchemaDescriptor: ()=>new Promise(function(e){ ... })}, remoteRegistry: '', idModule: Object{getIdentityAssertion: ()=>{ ... }}, storageManager: StorageManager{db: Me{_dbSchema: ..., version: ..., _allTables: ..., _tableFactory: ..., _createTransaction: ..., _whenReady: ..., verno: ..., open: ..., close: ..., delete: ..., backendDB: ..., isOpen: ..., hasFailed: ..., dynamicallyOpened: ..., name: ..., on: ..., transaction: ..., table: ..., Collection: ..., Table: ..., Transaction: ..., Version: ..., WhereClause: ..., WriteableCollection: ..., WriteableTable: ..., registry:DataObjectURLs: ..., registry:HypertyURLs: ...}, storageName: 'registry', _remoteStorage: false, _runtimeUA: undefined}, runtimeCapabilities: 'runtimeCapabilities', identifier: '16aa751e-4bf2-99b4-52f9-d09dcba9133f', hypertiesListToRemove: Object{}, hypertiesList: [c{_id: ..., _url: ..., _descriptorURL: ..., _startingTime: ..., _lastModified: ..., _status: ..., _stubs: ..., _stubsConfiguration: ..., _p2pRequester: ..., _descriptor: ..., _hypertyURL: ..., _user: ..., _guid: ..., _runtime: ..., _context: ..., _p2pHandler: ..., _dataSchemes: ..., _resources: ...}], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: r{_watching: Object{p2pRequesterStub: ..., p2pConnectionList: ..., protostubsList: ..., idpProxyList: ...}, _observers: []}, p2pHandlerStub: Object{runtime://ua.pt: Object{url: ..., status: ...}}, p2pRequesterStub: Object{ua.pt: Object{url: ..., status: ...}}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{runtime://ua.pt: [...]}, protostubsList: Object{ua.pt: Object{url: ..., status: ...}, anotherDomain.pt: Object{url: ..., status: ...}}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: Object{runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe: ..., runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2: ..., runtime://ua.pt/p2prequester/238fbde1-f687-894d-05a0-cf0491f65341: ..., hyperty://ua.pt/1: ..., runtime://anotherDomain.pt/protostub/4e39fd83-299c-9d28-400d-772f11a89e80: ...}, appSandbox: Object{runtime://ua.pt: ...}}, pepList: Object{hyperty-catalogue://ua.pt/HelloHyperty: Object{}}, registries: Object{}, _domain: 'ua.pt', _p2pConnectionResolve: h{_registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _remoteP2PEntities: Object{}}, _hypertyUrls: Object{comm[object Object]undefined: [...]}, _dataObjectUrls: Object{}, _runtimeURL: 'runtime://ua.pt', _loader: {log: s{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, runtimeConfiguration: Object{}, descriptors: {log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, _runtimeURL: 'runtime://ua.pt', runtimeCatalogue: Object{getDataSchemaDescriptor: ...}, _registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _runtimeFactory: Object{databases: ..., storeManager: ...}, _messagesBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}, _messageBus: {_msgId: 2, _subscriptions: Object{runtime://ua.pt/registry/: ..., domain://registry.ua.pt: ..., domain://msg-node.ua.pt/sm: ..., runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe/status: ..., runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2/status: ..., runtime://ua.pt/p2prequester/238fbde1-f687-894d-05a0-cf0491f65341/status: ..., runtime://anotherDomain.pt/protostub/4e39fd83-299c-9d28-400d-772f11a89e80/status: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _runtimeURL: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _forwards: Object{}, _pipelineIn: {handlers: ..., onFail: ...}, _pipelineOut: {handlers: ..., onFail: ...}}, addressAllocation: {_url: 'runtime://ua.pt/address-allocation', _bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, _registry: undefined, _subscriptionManager: undefined}, _domainRegistration: l{registryURL: 'runtime://ua.pt/registry/', runtimeURL: 'runtime://ua.pt', _registrationRetries: 5, expiresTime: 3600, _domain: 'ua.pt', _messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - Resolve] -  ', 'hyperty://ua.pt/123-dhsdhsg'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - resolve] - checkP2P: ', false, 'hyperty://ua.pt/123-dhsdhsg', h{_registry: {registryURL: 'runtime://ua.pt/registry/', appSandbox: a{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., type: ...}, runtimeURL: 'runtime://ua.pt', p2pHandlerURL: 'runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2', runtimeCatalogue: Object{getDataSchemaDescriptor: ...}, remoteRegistry: '', idModule: Object{getIdentityAssertion: ...}, storageManager: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, runtimeCapabilities: 'runtimeCapabilities', identifier: '16aa751e-4bf2-99b4-52f9-d09dcba9133f', hypertiesListToRemove: Object{}, hypertiesList: [...], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: r{_watching: ..., _observers: ...}, p2pHandlerStub: Object{runtime://ua.pt: ...}, p2pRequesterStub: Object{ua.pt: ...}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{runtime://ua.pt: ...}, protostubsList: Object{ua.pt: ..., anotherDomain.pt: ...}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: ..., appSandbox: ...}, pepList: Object{hyperty-catalogue://ua.pt/HelloHyperty: ...}, registries: Object{}, _domain: 'ua.pt', _p2pConnectionResolve: h{_registry: ..., _remoteP2PEntities: ...}, _hypertyUrls: Object{comm[object Object]undefined: ...}, _dataObjectUrls: Object{}, _runtimeURL: 'runtime://ua.pt', _loader: {log: ..., runtimeConfiguration: ..., descriptors: ..., _runtimeURL: ..., runtimeCatalogue: ..., _registry: ..., _addressAllocation: ..., _runtimeFactory: ..., _messagesBus: ...}, _messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _domainRegistration: l{registryURL: ..., runtimeURL: ..., _registrationRetries: ..., expiresTime: ..., _domain: ..., _messageBus: ...}}, _remoteP2PEntities: Object{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - Resolve] - Reason: ', 'The p2p verification was failed'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry] [Registry.Registry.isLegacy] ', 'hyperty://ua.pt/123-dhsdhsg'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry.resolve] domainUrl:', 'ua.pt'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry.resolve] registred:', Object{url: 'runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe', status: 'live'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry.resolve] Resolved: ', 'runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'response:', 'runtime://ua.pt/protostub/a3063b60-9b8d-138a-d977-c0f3bed39afe'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - set ', 'registry:DataObjectURLs', Object{hello-chathyperty-catalogue://catalogue.localhost/.well-known/dataschema/Communicationfakehyperty://localhost/d692091f-192c-420c-a763-a180f13e626a: 'comm://localhost/9303b707-f301-4929-ad7d-65a89a356871'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry.registerDataObject] registering new data object URL', Object{name: 'hello-chat', schema: 'hyperty-catalogue://catalogue.localhost/.well-known/dataschema/Communication', url: 'comm://localhost/9303b707-f301-4929-ad7d-65a89a356871', reporter: 'hyperty://localhost/d692091f-192c-420c-a763-a180f13e626a', resources: ['fake'], startingTime: undefined, expires: 3600, dataSchemes: ['comm'], p2pHandler: 'runtime://ua.pt/p2phandler/2f6a8d16-d0b1-0a17-16fb-4094c759fce2', p2pRequester: undefined, status: 'live'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'MSG BUS LISTENER for Domain Registry: ', Object{type: 'create', from: 'runtime://ua.pt/registry/', to: 'domain://registry.ua.pt', body: Object{value: Object{name: ..., schema: ..., url: ..., reporter: ..., resources: ..., startingTime: ..., expires: ..., dataSchemes: ..., p2pHandler: ..., p2pRequester: ..., status: ...}, policy: 'policy'}, id: 3}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:HypertyURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:HypertyURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:DataObjectURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'checkRegisteredURLs should return a previously registered Data Object URL', ['comm://localhost/9303b707-f301-4929-ad7d-65a89a356871']
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:DataObjectURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:HypertyURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - checkRegisteredURLs] - look for hyperty://ua.pt/1 on ', Object{comm[object Object]undefined: ['hyperty://ua.pt/1']}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - checkRegisteredURLs] - found 1 results on ', ['hyperty://ua.pt/1']
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry] [Registry.Registry.isLegacy] ', 'slack://user@slack.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'https://catalogue.ua.pt/.well-known/idp-proxy/slack.com', 'catalogue.ua.pt', false
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ProtoSTUB->', true
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - set ', 'capabilities', Object{browser: true, node: false, mic: true, camera: true}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - set ', 'capabilities', Object{browser: true, node: false, mic: true, camera: true}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[RuntimeUA - init] Starting '
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - set ', 'capabilities', Object{browser: true}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'runtime:URL', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'syncherManager:ObjectURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', undefined, undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'p2pHandler:URL', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) ERROR: r{_e: Error{}, name: 'NoSuchDatabaseError', message: 'Database cache doesnt exist', inner: null, _promise: xe{_listeners: [], onuncatched: function N(){ ... }, _lib: false, _PSD: Object{global: ..., ref: ..., unhandleds: ..., onunhandled: ..., finalize: ...}, _stackHolder: Error{}, _prev: null, _numPrev: 0, _state: false, _value: r{_e: ..., name: ..., message: ..., inner: ..., _promise: ...}}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'App Sandbox Browser'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: StorageManager{db: Je{_dbSchema: Object{rethink:activePolicy: ..., rethink:groups: ..., rethink:userPolicies: ..., rethink:spPolicies: ...}, version: function(e){ ... }, _allTables: Object{rethink:activePolicy: ..., rethink:groups: ..., rethink:userPolicies: ..., rethink:spPolicies: ...}, _tableFactory: function(e,n){ ... }, _createTransaction: function(e,n,l,t){ ... }, _whenReady: function(e){ ... }, verno: 1, open: function(){ ... }, close: function(){ ... }, delete: function(){ ... }, backendDB: function(){ ... }, isOpen: function(){ ... }, hasFailed: function(){ ... }, dynamicallyOpened: function(){ ... }, name: 'policy', on: function(e,t){ ... }, transaction: function(e,n,l){ ... }, table: function(e){ ... }, Collection: function _e(e,n){ ... }, Table: function fe(e,n,l){ ... }, Transaction: function me(e,n,l,t){ ... }, Version: function ie(e){ ... }, WhereClause: function ve(e,n,l){ ... }, WriteableCollection: function Ce(){ ... }, WriteableTable: function pe(e,n,l){ ... }, rethink:activePolicy: pe{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:groups: pe{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:userPolicies: pe{name: ..., schema: ..., hook: ..., _collClass: ...}, rethink:spPolicies: pe{name: ..., schema: ..., hook: ..., _collClass: ...}}, storageName: 'policy', _remoteStorage: false, _runtimeUA: Ce{runtimeConfiguration: Object{domain: ..., storageSchemas: ..., runtimeURLS: ..., catalogueURLs: ..., msgNodeURL: ..., domainRegistryURL: ..., globalRegistryURL: ..., remoteStorage: ...}, runtimeFactory: Object{databases: ..., storeManager: ..., capabilitiesManager: ...}, log: o{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, logLevels: o{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ..., getLogger: ..., noConflict: ..., getLoggers: ...}, p2p: false, runtimeUtils: Object{runtimeDescriptor: ..., runtimeCapabilities: ...}, storages: Object{capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., runtimeCatalogue: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, runtimeCatalogue: {_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, graphConnector: function(){ ... }, domain: 'localhost', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', capabilities: Object{browser: ...}, _dataObjectsStorage: {_storageManager: ..., _storeDataObject: ..., _cache: ..., _createSyncDB: ..., _remotes: ..., _factory: ..., _table: ..., _remoteStorageTable: ..., _remoteSchema: ..., _runtimeStatusUpdate: ...}, _hypertyResources: Object{}, p2pHandlerURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/p2phandler/b146200f-d4af-9e0f-a64a-f3079ccdf7d1', descriptorInstance: {log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, loader: {log: ..., runtimeConfiguration: ..., descriptors: ...}, identityModule: {_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ...}, registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ...}, messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, subscriptionManager: ve{_bus: ..., _storage: ..., _subscriptions: ..., _subscriptionsStorage: ..., runtimeURL: ..., _url: ..., _domain: ...}, addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'rethink:activePolicy', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'Browser Request'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[NOTSAVING] storeDataObjects', {_storageManager: StorageManager{db: Je{_dbSchema: ..., version: ..., _allTables: ..., _tableFactory: ..., _createTransaction: ..., _whenReady: ..., verno: ..., open: ..., close: ..., delete: ..., backendDB: ..., isOpen: ..., hasFailed: ..., dynamicallyOpened: ..., name: ..., on: ..., transaction: ..., table: ..., Collection: ..., Table: ..., Transaction: ..., Version: ..., WhereClause: ..., WriteableCollection: ..., WriteableTable: ..., syncherManager:ObjectURLs: ..., remotes: ...}, storageName: 'syncherManager', _remoteStorage: false, _runtimeUA: Ce{runtimeConfiguration: ..., runtimeFactory: ..., log: ..., logLevels: ..., p2p: ..., runtimeUtils: ..., storages: ..., runtimeCatalogue: ..., runtimeCapabilities: ..., graphConnector: ..., domain: ..., runtimeURL: ..., capabilities: ..., _dataObjectsStorage: ..., _hypertyResources: ..., p2pHandlerURL: ..., descriptorInstance: ..., loader: ..., identityModule: ..., registry: ..., messageBus: ..., subscriptionManager: ..., addressAllocation: ..., policyEngine: ..., coreDiscovery: ..., identityHandler: ..., handlers: ...}}, _storeDataObject: Object{}, _cache: Object{}, _createSyncDB: function o(e,n,l,r,u=!1){ ... }, _remotes: Object{}, _factory: Object{databases: Object{runtimeCatalogue: ..., capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, storeManager: Object{runtimeCatalogue: ..., capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, capabilitiesManager: Object{getRuntimeCapabilities: ...}, messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}}, _table: 'syncherManager:ObjectURLs', _remoteStorageTable: 'dataObjectStorage', _remoteSchema: 'url', _runtimeStatusUpdate: Ce{runtimeConfiguration: Object{domain: ..., storageSchemas: ..., runtimeURLS: ..., catalogueURLs: ..., msgNodeURL: ..., domainRegistryURL: ..., globalRegistryURL: ..., remoteStorage: ...}, runtimeFactory: Object{databases: ..., storeManager: ..., capabilitiesManager: ..., messageBus: ...}, log: o{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ...}, logLevels: o{name: ..., levels: ..., methodFactory: ..., getLevel: ..., setLevel: ..., setDefaultLevel: ..., enableAll: ..., disableAll: ..., trace: ..., debug: ..., info: ..., warn: ..., error: ..., log: ..., getLogger: ..., noConflict: ..., getLoggers: ...}, p2p: false, runtimeUtils: Object{runtimeDescriptor: ..., runtimeCapabilities: ...}, storages: Object{capabilities: ..., subscriptions: ..., runtime: ..., registry: ..., cryptoManager: ..., identity: ..., runtimeCatalogue: ..., policy: ..., syncherManager: ..., hypertyResources: ...}, runtimeCatalogue: {_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, graphConnector: function(){ ... }, domain: 'localhost', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', capabilities: Object{browser: ...}, _dataObjectsStorage: {_storageManager: ..., _storeDataObject: ..., _cache: ..., _createSyncDB: ..., _remotes: ..., _factory: ..., _table: ..., _remoteStorageTable: ..., _remoteSchema: ..., _runtimeStatusUpdate: ...}, _hypertyResources: Object{}, p2pHandlerURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/p2phandler/b146200f-d4af-9e0f-a64a-f3079ccdf7d1', descriptorInstance: {log: ..., runtimeConfiguration: ..., runtimeURL: ..., catalogue: ..., constraints: ...}, loader: {log: ..., runtimeConfiguration: ..., descriptors: ...}, identityModule: {_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ..., _messageBus: ..., _registry: ..., _coreDiscovery: ...}, registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, subscriptionManager: ve{_bus: ..., _storage: ..., _subscriptions: ..., _subscriptionsStorage: ..., runtimeURL: ..., _url: ..., _domain: ...}, addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, policyEngine: {pdp: ..., actionsService: ..., context: ...}, coreDiscovery: {_messageBus: ..., graphConnector: ..., httpRequest: ..., domain: ..., discoveryURL: ..., registry: ...}, identityHandler: F{_idm: ...}, handlers: ne{policyEngine: ..., identityManager: ..., cryptoManager: ...}}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SyncherManager - AddressAllocation] - ', {_url: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/address-allocation', _bus: {_msgId: 0, _subscriptions: Object{runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/subscriptions: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/discovery/: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/cryptoManager: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/registry/: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/pep: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/idm: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _forwards: Object{}, _pipelineIn: {handlers: ..., onFail: ...}, _pipelineOut: {handlers: ..., onFail: ...}}, _registry: {registryURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/registry/', appSandbox: i{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ...}, runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', p2pHandlerURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/p2phandler/b146200f-d4af-9e0f-a64a-f3079ccdf7d1', runtimeCatalogue: {_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, remoteRegistry: undefined, idModule: {_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ..., _messageBus: ..., _registry: ..., _coreDiscovery: ...}, storageManager: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, identifier: '61f07bb4-b30c-0a5a-62c7-f37ddcad7f19', hypertiesListToRemove: Object{}, hypertiesList: [], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: t{_watching: ..., _observers: ...}, p2pHandlerStub: Object{}, p2pRequesterStub: Object{}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{}, protostubsList: Object{}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: ..., appSandbox: ...}, pepList: Object{}, registries: Object{}, _domain: 'localhost', _p2pConnectionResolve: h{_registry: ..., _remoteP2PEntities: ...}, _hypertyUrls: Object{}, _dataObjectUrls: Object{}, _loader: {log: ..., runtimeConfiguration: ..., descriptors: ...}, _messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _domainRegistration: c{registryURL: ..., runtimeURL: ..., _registrationRetries: ..., expiresTime: ..., _domain: ..., _messageBus: ...}}, _subscriptionManager: ve{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, _storage: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, _subscriptions: Object{}, _subscriptionsStorage: Object{}, runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', _url: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/subscriptions', _domain: 'localhost'}}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Loader - AddressAllocation] - ', {_url: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/address-allocation', _bus: {_msgId: 0, _subscriptions: Object{runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/subscriptions: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/discovery/: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/cryptoManager: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/registry/: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/pep: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/idm: ..., runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/sm: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _registry: {registryURL: ..., appSandbox: ..., runtimeURL: ..., p2pHandlerURL: ..., runtimeCatalogue: ..., remoteRegistry: ..., idModule: ..., storageManager: ..., runtimeCapabilities: ..., identifier: ..., hypertiesListToRemove: ..., hypertiesList: ..., remoteHypertyList: ..., remoteDataObjectList: ..., idpLegacyProxyList: ..., watchingYou: ..., p2pHandlerStub: ..., p2pRequesterStub: ..., p2pConnectionList: ..., p2pHandlerAssociation: ..., protostubsList: ..., idpProxyList: ..., dataObjectList: ..., subscribedDataObjectList: ..., sandboxesList: ..., pepList: ..., registries: ..., _domain: ..., _p2pConnectionResolve: ..., _hypertyUrls: ..., _dataObjectUrls: ..., _loader: ..., _messageBus: ..., addressAllocation: ..., _domainRegistration: ...}, _forwards: Object{}, _pipelineIn: {handlers: ..., onFail: ...}, _pipelineOut: {handlers: ..., onFail: ...}}, _registry: {registryURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/registry/', appSandbox: i{_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ...}, runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', p2pHandlerURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/p2phandler/b146200f-d4af-9e0f-a64a-f3079ccdf7d1', runtimeCatalogue: {_factory: ..., httpRequest: ..., atob: ..., storageManager: ...}, remoteRegistry: undefined, idModule: {_runtimeURL: ..., _runtimeCatalogue: ..., dataObjectsStorage: ..., _idmURL: ..., _guiURL: ..., runtimeCapabilities: ..., _domain: ..., _identities: ..., _crypto: ..., dataObjectsIdentity: ..., _listOfIdps: ..., guiDeployed: ..., _messageBus: ..., _registry: ..., _coreDiscovery: ...}, storageManager: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, runtimeCapabilities: Object{getRuntimeCapabilities: ...}, identifier: '61f07bb4-b30c-0a5a-62c7-f37ddcad7f19', hypertiesListToRemove: Object{}, hypertiesList: [], remoteHypertyList: [], remoteDataObjectList: [], idpLegacyProxyList: Object{}, watchingYou: t{_watching: ..., _observers: ...}, p2pHandlerStub: Object{}, p2pRequesterStub: Object{}, p2pConnectionList: Object{}, p2pHandlerAssociation: Object{}, protostubsList: Object{}, idpProxyList: Object{}, dataObjectList: Object{}, subscribedDataObjectList: Object{}, sandboxesList: Object{sandbox: ..., appSandbox: ...}, pepList: Object{}, registries: Object{}, _domain: 'localhost', _p2pConnectionResolve: h{_registry: ..., _remoteP2PEntities: ...}, _hypertyUrls: Object{}, _dataObjectUrls: Object{}, _loader: {log: ..., runtimeConfiguration: ..., descriptors: ..., _runtimeURL: ..., _messagesBus: ..., _registry: ..., _addressAllocation: ...}, _messageBus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, addressAllocation: {_url: ..., _bus: ..., _registry: ..., _subscriptionManager: ...}, _domainRegistration: c{registryURL: ..., runtimeURL: ..., _registrationRetries: ..., expiresTime: ..., _domain: ..., _messageBus: ...}}, _subscriptionManager: ve{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _registry: ..., _forwards: ..., _pipelineIn: ..., _pipelineOut: ...}, _storage: StorageManager{db: ..., storageName: ..., _remoteStorage: ..., _runtimeUA: ...}, _subscriptions: Object{}, _subscriptionsStorage: Object{}, runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45', _url: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45/subscriptions', _domain: 'localhost'}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'subscriptions', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', null, null
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'dataObjectSessionKeys', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:HypertyURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', null, null
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'rethink:groups', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'userAsymmetricKey', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'registry:DataObjectURLs', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StoreDataObjects.loadRemote] remotes: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StoreDataObjects.loadRemote] loading: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[StoreDataObjects.loadRemote] loaded. Starting init'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'rethink:spPolicies', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'accessTokens', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[StorageManager] - get ', 'rethink:userPolicies', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[RuntimeUA - init] P2P not supported'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[runtime ua - init] - status: ', 'P2P Not Supported'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadHyperty] ', 'HelloWorldReporter'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1: return hyperty descriptor: ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation] - new address will be allocated'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6: return the addresses for the hyperty', Object{newAddress: true, address: ['hyperty://localhost/424d813f-497b-8e26-5478-7b353ba9a9f1']}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7: registration result', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 8: Deploy component status for hyperty: ', 'deployed'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Hyperty deployed: ', Object{runtimeHypertyURL: undefined, status: 'deployed', name: 'HelloWorldReporter', instance: e{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------ END ------------------------'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadHyperty] ', 'HelloWorldReporter'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1: return hyperty descriptor: ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation] - new address will be allocated'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6: return the addresses for the hyperty', Object{newAddress: true, address: ['hyperty://localhost/ad1a7bf4-b81f-75cd-959e-39e6bee24474']}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7: registration result', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 8: Deploy component status for hyperty: ', 'deployed'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Hyperty deployed: ', Object{runtimeHypertyURL: undefined, status: 'deployed', name: 'HelloWorldReporter', instance: e{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------ END ------------------------'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadHyperty] ', 'HelloWorldReporter'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1: return hyperty descriptor: ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation] - new address will be allocated'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6: return the addresses for the hyperty', Object{newAddress: true, address: ['hyperty://localhost/7b05d8a5-8908-9c52-1399-2242e1155ad1']}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7: registration result', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 8: Deploy component status for hyperty: ', 'deployed'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Hyperty deployed: ', Object{runtimeHypertyURL: undefined, status: 'deployed', name: 'HelloWorldReporter', instance: e{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------ END ------------------------'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadHyperty] ', 'HelloWorldReporter'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1: return hyperty descriptor: ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'REUSETEST -  _reuseAllocatedAddress', 'localhost', 1, Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}, 'hyperty', true
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'checkRegisteredURLs:', 'boolean', true
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'REUSETEST -  registeredurls', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[AddressAllocation - hyperty] - Reuse URL'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6: return the addresses for the hyperty', Object{newAddress: false, address: 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7: registration result', 'hyperty://sp.domain/9c8c1949-e08e-4554-b201-bab201bdb21d'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 8: Deploy component status for hyperty: ', 'deployed'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Hyperty deployed: ', Object{runtimeHypertyURL: undefined, status: 'deployed', name: 'HelloWorldReporter', instance: e{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------ END ------------------------'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadHyperty] ', 'HelloWorldReporter'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1: return hyperty descriptor: ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[AddressAllocation.create] info ', Object{name: 'HelloWorldReporter', language: 'javascript', signature: '', configuration: Object{}, constraints: Object{browser: true}, hypertyType: ['hello'], dataObjects: ['https://localhost/.well-known/dataschema/HelloWorldDataSchema']}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'wtf', Promise{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6: return the addresses for the hyperty', Object{newAddress: false, address: ['hyperty://sp.domain/1']}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7: registration result', ['hyperty://sp.domain/1']
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 8: Deploy component status for hyperty: ', 'deployed'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Hyperty deployed: ', Object{runtimeHypertyURL: undefined, status: 'deployed', name: 'HelloWorldReporter', instance: e{}}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------ END ------------------------'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] starting loading for ', 'sp.domain', ' with p2pconfig ', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]Discover or Create a new ProtoStub for domain: ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]1. Proto Stub not found Error: [Registry - discoverProtoStub ] Message Node Protostub Not Found. Creating one'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]2. return the ProtoStub descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]3. return the ProtoStub Source Code'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]5. Sandbox was not found, creating a new one ', 'no sandbox found for: sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - Normal Stub] - ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 7. return the runtime protostub url: ', Object{url: 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 8: adding sandbox listener to protostubURL : ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', 'to: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', 'to: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', 'to: ', 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadStub] Stub: ', Object{url: 'runtime://sp.domain/protostub/87d085e5-d413-226f-9246-47f82cd48a11', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] starting loading for ', 'sp.domain', ' with p2pconfig ', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]Discover or Create a new ProtoStub for domain: ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]1. Proto Stub not found Error: [Registry - discoverProtoStub ] Message Node Protostub Not Found. Creating one'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]2. return the ProtoStub descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]3. return the ProtoStub Source Code'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]5. Sandbox was not found, creating a new one ', 'no sandbox found for: sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - Normal Stub] - ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 7. return the runtime protostub url: ', Object{url: 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 8: adding sandbox listener to protostubURL : ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', 'to: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', 'to: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', 'to: ', 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadStub] Stub: ', Object{url: 'runtime://sp.domain/protostub/9aad62f9-9ad4-de95-8a8b-50a1ede1fe2c', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] starting loading for ', 'sp.domain', ' with p2pconfig ', undefined
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]Discover or Create a new ProtoStub for domain: ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]1. Proto Stub not found Error: [Registry - discoverProtoStub ] Message Node Protostub Not Found. Creating one'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'sp.domain', 'sp.domain', true
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]2. return the ProtoStub descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]3. return the ProtoStub Source Code'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]5. Sandbox was not found, creating a new one ', 'no sandbox found for: sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub] - stubID ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Registry - registerStub - Normal Stub] descriptor', Object{cguid: '1', type: '0', version: '0.1', description: 'description of VertxProtoStub', objectName: 'VertxProtoStub', sourcePackageURL: '/sourcePackage', sourcePackage: Object{sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', sourceCodeClassname: 'VertxProtoStub', encoding: 'Base64', signature: ''}, language: 'Javascript ECMA5', signature: '', messageSchemas: '', configuration: Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}, constraints: '', hypertyCapabilities: '', protocolCapabilities: '', policies: '', dataObjects: []}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Registry - registerStub - Normal Stub] - ', 'sp.domain'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 7. return the runtime protostub url: ', Object{url: 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub] 8: adding sandbox listener to protostubURL : ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Copyright 2016 PT Inovao e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

var VertxProtoStub = function () {
  /* private
    _continuousOpen: boolean
     _runtimeProtoStubURL: string
    _bus: MiniBus
    _msgCallback: (Message) => void
    _config: { url, runtimeURL }
     _sock: (WebSocket | SockJS)
    _reOpen: boolean
  */

  /**
   * Vertx ProtoStub creation
   * @param  {string} runtimeProtoStubURL - URL used internally for message delivery point. Not used for MessageNode deliver.
   * @param  {MiniBus} bus - MiniBus used to send/receive messages. Normally connected to the MessageBus.
   * @param  {Object} config - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   * @return {VertxProtoStub}
   */
  function VertxProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, VertxProtoStub);

    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');
    if (!bus) throw new Error('The bus is a needed parameter');
    if (!config) throw new Error('The config is a needed parameter');

    if (!config.url) throw new Error('The config.url is a needed parameter');
    if (!config.runtimeURL) throw new Error('The config.runtimeURL is a needed parameter');

    var _this = this;

    this._id = 0;
    this._continuousOpen = true;

    this._runtimeProtoStubURL = runtimeProtoStubURL;
    this._bus = bus;
    this._config = config;

    this._runtimeSessionURL = config.runtimeURL;
    this._reOpen = false;
    console.log('ProtostubLoaded');

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  /**
   * Get the configuration for this ProtoStub
   * @return {Object} - Mandatory fields are: "url" of the MessageNode address and "runtimeURL".
   */


  _createClass(VertxProtoStub, [{
    key: 'connect',


    /**
     * Try to open the connection to the MessageNode. Connection is auto managed, there is no need to call this explicitly.
     * However, if "disconnect()" is called, it's necessary to call this to enable connections again.
     * A status message is sent to "runtimeProtoStubURL/status", containing the value "connected" if successful, or "disconnected" if some error occurs.
     */
    value: function connect() {
      var _this = this;

      _this._continuousOpen = true;
      _this._open(function () {});
    }

    /**
     * It will disconnect and order to stay disconnected. Reconnection tries, will not be attempted, unless "connect()" is called.
     * A status message is sent to "runtimeProtoStubURL/status" with value "disconnected".
     */

  }, {
    key: 'disconnect',
    value: function disconnect() {
      var _this = this;

      _this._continuousOpen = false;
    }

    //todo: add documentation

  }, {
    key: '_sendOpen',
    value: function _sendOpen(callback) {
      var _this = this;

      _this._sendStatus('in-progress');
      _this._sendStatus('live');
      callback();
    }
  }, {
    key: '_sendClose',
    value: function _sendClose() {
      var _this = this;

      _this._id++;
      var msg = {
        id: _this._id, type: 'close', from: _this._runtimeSessionURL, to: 'mn:/session'
      };

      //invalidate runtimeSession
      _this._reOpen = false;
      _this._runtimeSessionURL = _this._config._runtimeURL;
    }
  }, {
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[VertxProtostub status changed] to ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this._runtimeProtoStubURL,
        to: _this._runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this._bus.postMessage(msg);
    }
  }, {
    key: '_filter',
    value: function _filter(msg) {
      if (msg.body && msg.body.via === this._runtimeProtoStubURL) {
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: '_deliver',
    value: function _deliver(msg) {
      if (!msg.body) msg.body = {};

      msg.body.via = this._runtimeProtoStubURL;
      console.log('[VertxProtoStub: MN -> ProtoStub]', msg);
      this._bus.postMessage(msg);
    }

    // add documentation

  }, {
    key: '_open',
    value: function _open(callback) {
      var _this = this;

      if (!this._continuousOpen) {
        //TODO: send status (sent message error - disconnected)
        return;
      }

      this._sendOpen(callback);
    }
  }, {
    key: 'config',
    get: function get() {
      return this._config;
    }
  }, {
    key: 'runtimeSession',
    get: function get() {
      return this._runtimeSessionURL;
    }
  }]);

  return VertxProtoStub;
}();

function activate(url, bus, config) {
  return {
    name: 'VertxProtoStub',
    instance: new VertxProtoStub(url, bus, config)
  };
}

/**
* Callback used to send messages
* @callback PostMessage
* @param {Message} msg - Message to send
*/

module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ProtostubLoaded'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', 'to: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', 'to: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[VertxProtostub status changed] to ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', 'to: ', 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadStub] Stub: ', Object{url: 'runtime://sp.domain/protostub/f1c198d0-fe34-9fa6-1543-545c4d95a3e3', status: 'deploying', descriptorURL: 'sp.domain'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadStub]------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------- IDP Proxy Deploy ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Discover or Create a new IdpProxy for domain/URL: ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1. IdpProxy not found:', Error{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 2. Return the IDPProxy descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 3. return the IDPProxy source package'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 5. Sandbox was not found, creating a new one', 'no sandbox found for: google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7. Return the runtime Idp Proxy URL: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', 'to: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', 'to: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', 'to: ', 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadIdpProxy] 8: loaded: ', Object{url: 'domain-idp://google.com/stub/1ab8863f-8f11-e6e7-6143-b73f9bfca52e', status: 'deploying'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadIdpProxy] ------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------- IDP Proxy Deploy ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Discover or Create a new IdpProxy for domain/URL: ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1. IdpProxy not found:', Error{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 2. Return the IDPProxy descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 3. return the IDPProxy source package'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 5. Sandbox was not found, creating a new one', TypeError{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7. Return the runtime Idp Proxy URL: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', 'to: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', 'to: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', 'to: ', 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadIdpProxy] 8: loaded: ', Object{url: 'domain-idp://google.com/stub/c2c9bae7-9d5f-c6d7-5781-3d00ba03eaa0', status: 'deploying'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadIdpProxy] ------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'ipdProxyCatalogueURL', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] ------------------- IDP Proxy Deploy ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] Discover or Create a new IdpProxy for domain/URL: ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) WARN: '[DivideURL] DivideURL don't support url without scheme. Please review your url address', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 1. IdpProxy not found:', Error{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'https://localhost/.well-known/idp-proxy/google.com', 'localhost', false
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 2. Return the IDPProxy descriptor'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 3. return the IDPProxy source package'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 5. Sandbox was not found, creating a new one', TypeError{}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[SandboxBrowser] New with capabilities: ', Object{}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 6. return the sandbox instance and register', o{_msgId: 0, _subscriptions: Object{*: [...]}, _responseTimeOut: 15000, _responseCallbacks: Object{}, type: 'normal', _bus: {_msgId: 0, _subscriptions: Object{hyperty-runtime://sandbox/internal: ...}, _responseTimeOut: 15000, _responseCallbacks: Object{}, _onPostMessage: function(e){ ... }}, _sbr: Y{_bus: {_msgId: ..., _subscriptions: ..., _responseTimeOut: ..., _responseCallbacks: ..., _onPostMessage: ...}, _factory: J{_bus: ..., _divideURL: ...}, _components: Object{}, _create: (e,n,l)=>{ ... }}}, 'to domain ', 'google.com'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader] 7. Return the runtime Idp Proxy URL: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> internal (in)', 'from: ', 'hyperty-runtime://sandbox/external', 'to: ', 'hyperty-runtime://sandbox/internal'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', sourceCode: '(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = activate;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Identity Provider Proxy Protocol Stub
*/
var IdpProxyProtoStub = function () {

  /**
  * Constructor of the IdpProxy Stub
  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received
  *
  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
  * @param  {Message.Message}                           busPostMessage     configuration
  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
  */
  function IdpProxyProtoStub(runtimeProtoStubURL, bus, config) {
    _classCallCheck(this, IdpProxyProtoStub);

    var _this = this;
    _this.runtimeProtoStubURL = runtimeProtoStubURL;
    _this.messageBus = bus;
    _this.config = config;

    console.log('[Google IdpProxy] starting', runtimeProtoStubURL);

    _this._sendStatus('created');
    _this._sendStatus('in-progress');
    _this._sendStatus('live');
  }

  _createClass(IdpProxyProtoStub, [{
    key: '_sendStatus',
    value: function _sendStatus(value, reason) {
      var _this = this;

      console.log('[GoogleIdpProxy.sendStatus] ', value);

      _this._state = value;

      var msg = {
        type: 'update',
        from: _this.runtimeProtoStubURL,
        to: _this.runtimeProtoStubURL + '/status',
        body: {
          value: value
        }
      };

      if (reason) {
        msg.body.desc = reason;
      }

      _this.messageBus.postMessage(msg);
    }
  }]);

  return IdpProxyProtoStub;
}();

// export default IdpProxyProtoStub;

/**
 * To activate this protocol stub, using the same method for all protostub.
 * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL
 * @param  {Message.Message}                           busPostMessage     configuration
 * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration
 * @return {Object} Object with name and instance of ProtoStub
 */


function activate(url, bus, config) {
  return {
    name: 'IdpProxyProtoStub',
    instance: new IdpProxyProtoStub(url, bus, config)
  };
}
module.exports = exports['default'];

/***/ })
/******/ ]);
});', config: Object{url: ..., runtimeURL: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry._create ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', Object{url: 'wss://127.0.0.1:9090/ws', runtimeURL: 'runtime://localhost/0518f02f-8230-e52d-ffeb-dabe77960a45'}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Google IdpProxy] starting', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'created'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', 'to: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'in-progress'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', 'to: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[GoogleIdpProxy.sendStatus] ', 'live'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', 'to: ', 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55/status'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxBrowser._onPostMessage -> external (out)', 'from: ', 'hyperty-runtime://sandbox/internal', 'to: ', 'hyperty-runtime://sandbox/external'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: '[Runtime.Loader.loadIdpProxy] 8: loaded: ', Object{url: 'domain-idp://google.com/stub/8007723d-46bc-5a03-64c9-12c0a657aa55', status: 'deploying'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[Runtime.Loader.loadIdpProxy] ------------------- END ---------------------------
'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-onDeploy: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 1}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'SandboxRegistry-RCV: ', Object{type: 'create', from: 'hyperty-runtime://sandbox/external', to: 'hyperty-runtime://sandbox/internal', body: Object{url: 'hyperty://fake-url', sourceCode: '<source code>', config: Object{init: ...}}, id: 2}
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'seq 1 |  - {"cType":"add","oType":"object","field":"1","data":{"name":"Micael","birthdate":"28-02-1981","email":"micael-xxx@gmail.com","phone":911000000,"obj1":{"name":"xpto"},"arr":[]}}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'seq 2 |  - {"cType":"add","oType":"object","field":"2","data":{"name":"Luis Duarte","birthdate":"02-12-1991","email":"luis-xxx@gmail.com","phone":910000000,"obj1":{"name":"xpto"}}}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'seq 3 |  - {"cType":"update","oType":"object","field":"1.name","data":"Vitor Silva"}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'seq 4 |  - {"cType":"update","oType":"object","field":"1.arr","data":[1,0,{"x":10,"y":20}]}'
<br />Chrome 70.0.3538 (Windows 10.0.0) LOG: 'seq 5 |  - {"cType":"update","oType":"array","field":"1.arr.1","data":2}'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0/children/chatmessages'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: 'chatmessages'}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0/children'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: undefined}
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0'
<br />Chrome 70.0.3538 (Windows 10.0.0) INFO: '[utils - splitObjectURL]: ', Object{url: 'comm://localhost/f3b43208-63fa-468f-8fe0-ac3d20ca9dc0', resource: undefined}
</td>
      </tr>
    </table>
    <hr/>
  </body>
</html>